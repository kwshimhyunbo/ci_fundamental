function gAnalyticsTrackEvent(e,t,n){window._gaq?window._gaq.push(["_trackEvent",e,t,n]):console.log(" (debug) gAnalyticsTrackEvent: no GAnalytics available")}function startHotjar(){isHotjarStarted||(!function(e,t,n,i,r,o){e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:236822,hjsv:5},r=t.getElementsByTagName("head")[0],o=t.createElement("script"),o.async=1,o.src=n+e._hjSettings.hjid+i+e._hjSettings.hjsv,r.appendChild(o)}(window,document,"//static.hotjar.com/c/hotjar-",".js?sv="),isHotjarStarted=!0)}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=pe.type(e);return"function"!==n&&!pe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(pe.isFunction(t))return pe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return pe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ae.test(t))return pe.filter(t,e,n);t=pe.filter(t,e)}return pe.grep(e,function(e){return pe.inArray(e,t)>-1!==n})}function r(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t={};return pe.each(e.match(Ee)||[],function(e,n){t[n]=!0}),t}function s(){ie.addEventListener?(ie.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a)):(ie.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(ie.addEventListener||"load"===e.event.type||"complete"===ie.readyState)&&(s(),pe.ready())}function l(e,t,n){if(n===undefined&&1===e.nodeType){var i="data-"+t.replace(Be,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Te.test(n)?pe.parseJSON(n):n)}catch(e){}pe.data(e,t,n)}else n=undefined}return n}function c(e){var t;for(t in e)if(("data"!==t||!pe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(De(e)){var r,o,s=pe.expando,a=e.nodeType,l=a?pe.cache:e,c=a?e[s]:e[s]&&s;if(c&&l[c]&&(i||l[c].data)||n!==undefined||"string"!=typeof t)return c||(c=a?e[s]=ne.pop()||pe.guid++:s),l[c]||(l[c]=a?{}:{toJSON:pe.noop}),"object"!=typeof t&&"function"!=typeof t||(i?l[c]=pe.extend(l[c],t):l[c].data=pe.extend(l[c].data,t)),o=l[c],i||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[pe.camelCase(t)]=n),"string"==typeof t?null==(r=o[t])&&(r=o[pe.camelCase(t)]):r=o,r}}function d(e,t,n){if(De(e)){var i,r,o=e.nodeType,s=o?pe.cache:e,a=o?e[pe.expando]:pe.expando;if(s[a]){if(t&&(i=n?s[a]:s[a].data)){pe.isArray(t)?t=t.concat(pe.map(t,pe.camelCase)):t in i?t=[t]:(t=pe.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!c(i):!pe.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(o?pe.cleanData([e],!0):de.deleteExpando||s!=s.window?delete s[a]:s[a]=undefined)}}}function h(e,t,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return pe.css(e,t,"")},l=a(),c=n&&n[3]||(pe.cssNumber[t]?"":"px"),u=(pe.cssNumber[t]||"px"!==c&&+l)&&Me.exec(pe.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{o=o||".5",u/=o,pe.style(e,t,u+c)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function p(e){var t=je.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){var n,i,r=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||pe.nodeName(i,t)?o.push(i):pe.merge(o,f(i,t));return t===undefined||t&&pe.nodeName(e,t)?pe.merge([e],o):o}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)pe._data(n,"globalEval",!t||pe._data(t[i],"globalEval"))}function m(e){Ne.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,i,r){for(var o,s,a,l,c,u,d,h=e.length,v=p(t),y=[],b=0;b<h;b++)if((s=e[b])||0===s)if("object"===pe.type(s))pe.merge(y,s.nodeType?[s]:s);else if(Ve.test(s)){for(l=l||v.appendChild(t.createElement("div")),c=(ze.exec(s)||["",""])[1].toLowerCase(),d=He[c]||He._default,l.innerHTML=d[1]+pe.htmlPrefilter(s)+d[2],o=d[0];o--;)l=l.lastChild;if(!de.leadingWhitespace&&We.test(s)&&y.push(t.createTextNode(We.exec(s)[0])),!de.tbody)for(s="table"!==c||qe.test(s)?"<table>"!==d[1]||qe.test(s)?0:l:l.firstChild,o=s&&s.childNodes.length;o--;)pe.nodeName(u=s.childNodes[o],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(pe.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(t.createTextNode(s));for(l&&v.removeChild(l),de.appendChecked||pe.grep(f(y,"input"),m),b=0;s=y[b++];)if(i&&pe.inArray(s,i)>-1)r&&r.push(s);else if(a=pe.contains(s.ownerDocument,s),l=f(v.appendChild(s),"script"),a&&g(l),n)for(o=0;s=l[o++];)Ue.test(s.type||"")&&n.push(s);return l=null,v}function y(){return!0}function b(){return!1}function w(){try{return ie.activeElement}catch(e){}}function _(e,t,n,i,r,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=undefined);for(a in t)_(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=b;else if(!r)return e;return 1===o&&(s=r,r=function(e){return pe().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,r,i,n)})}function C(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function A(e){return e.type=(null!==pe.find.attr(e,"type"))+"/"+e.type,e}function S(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function $(e,t){if(1===t.nodeType&&pe.hasData(e)){var n,i,r,o=pe._data(e),s=pe._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;i<r;i++)pe.event.add(t,n,a[n][i])}s.data&&(s.data=pe.extend({},s.data))}}function x(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!de.noCloneEvent&&t[pe.expando]){r=pe._data(t);for(i in r.events)pe.removeEvent(t,i,r.handle);t.removeAttribute(pe.expando)}"script"===n&&t.text!==e.text?(A(t).text=e.text,S(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),de.html5Clone&&e.innerHTML&&!pe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ne.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function k(e,t,n,i){t=oe.apply([],t);var r,o,s,a,l,c,u=0,d=e.length,h=d-1,p=t[0],g=pe.isFunction(p);if(g||d>1&&"string"==typeof p&&!de.checkClone&&nt.test(p))return e.each(function(r){var o=e.eq(r);g&&(t[0]=p.call(this,r,o.html())),k(o,t,n,i)});if(d&&(c=v(t,e[0].ownerDocument,!1,e,i),r=c.firstChild,1===c.childNodes.length&&(c=r),r||i)){for(a=pe.map(f(c,"script"),A),s=a.length;u<d;u++)o=c,u!==h&&(o=pe.clone(o,!0,!0),s&&pe.merge(a,f(o,"script"))),n.call(e[u],o,u);if(s)for(l=a[a.length-1].ownerDocument,pe.map(a,S),u=0;u<s;u++)o=a[u],Ue.test(o.type||"")&&!pe._data(o,"globalEval")&&pe.contains(l,o)&&(o.src?pe._evalUrl&&pe._evalUrl(o.src):pe.globalEval((o.text||o.textContent||o.innerHTML||"").replace(rt,"")));c=r=null}return e}function E(e,t,n){for(var i,r=t?pe.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||pe.cleanData(f(i)),i.parentNode&&(n&&pe.contains(i.ownerDocument,i)&&g(f(i,"script")),i.parentNode.removeChild(i));return e}function P(e,t){var n=pe(t.createElement(e)).appendTo(t.body),i=pe.css(n[0],"display");return n.detach(),i}function F(e){var t=ie,n=lt[e];return n||(n=P(e,t),"none"!==n&&n||(at=(at||pe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(at[0].contentWindow||at[0].contentDocument).document,t.write(),t.close(),n=P(e,t),at.detach()),lt[e]=n),n}function D(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function T(e){if(e in At)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Ct.length;n--;)if((e=Ct[n]+t)in At)return e}function B(e,t){for(var n,i,r,o=[],s=0,a=e.length;s<a;s++)i=e[s],i.style&&(o[s]=pe._data(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ie(i)&&(o[s]=pe._data(i,"olddisplay",F(i.nodeName)))):(r=Ie(i),(n&&"none"!==n||!r)&&pe._data(i,"olddisplay",r?n:pe.css(i,"display"))));for(s=0;s<a;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function L(e,t,n){var i=bt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function M(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=pe.css(e,n+Re[o],!0,r)),i?("content"===n&&(s-=pe.css(e,"padding"+Re[o],!0,r)),"margin"!==n&&(s-=pe.css(e,"border"+Re[o]+"Width",!0,r))):(s+=pe.css(e,"padding"+Re[o],!0,r),"padding"!==n&&(s+=pe.css(e,"border"+Re[o]+"Width",!0,r)));return s}function R(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=pt(e),s=de.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(r=ft(e,t,o),(r<0||null==r)&&(r=e.style[t]),ut.test(r))return r;i=s&&(de.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+M(e,t,n||(s?"border":"content"),i,o)+"px"}function I(e,t,n,i,r){return new I.prototype.init(e,t,n,i,r)}function O(){return e.setTimeout(function(){St=undefined}),St=pe.now()}function N(e,t){var n,i={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)n=Re[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function z(e,t,n){for(var i,r=(j.tweeners[t]||[]).concat(j.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function U(e,t,n){var i,r,o,s,a,l,c,u=this,d={},h=e.style,p=e.nodeType&&Ie(e),f=pe._data(e,"fxshow");n.queue||(a=pe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,pe.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=pe.css(e,"display"),"inline"===("none"===c?pe._data(e,"olddisplay")||F(e.nodeName):c)&&"none"===pe.css(e,"float")&&(de.inlineBlockNeedsLayout&&"inline"!==F(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",de.shrinkWrapBlocks()||u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],xt.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||f[i]===undefined)continue;p=!0}d[i]=f&&f[i]||pe.style(e,i)}else c=undefined;if(pe.isEmptyObject(d))"inline"===("none"===c?F(e.nodeName):c)&&(h.display=c);else{f?"hidden"in f&&(p=f.hidden):f=pe._data(e,"fxshow",{}),o&&(f.hidden=!p),p?pe(e).show():u.done(function(){pe(e).hide()}),u.done(function(){var t;pe._removeData(e,"fxshow");for(t in d)pe.style(e,t,d[t])});for(i in d)s=z(p?f[i]:0,i,u),i in f||(f[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function W(e,t){var n,i,r,o,s;for(n in e)if(i=pe.camelCase(n),r=t[i],o=e[n],pe.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=pe.cssHooks[i])&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function j(e,t,n){var i,r,o=0,s=j.prefilters.length,a=pe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=St||O(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),o<1&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:St||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=pe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(W(u,c.opts.specialEasing);o<s;o++)if(i=j.prefilters[o].call(c,e,u,c.opts))return pe.isFunction(i.stop)&&(pe._queueHooks(c.elem,c.opts.queue).stop=pe.proxy(i.stop,i)),i;return pe.map(u,z,c),pe.isFunction(c.opts.start)&&c.opts.start.call(e,c),pe.fx.timer(pe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return pe.attr(e,"class")||""}function V(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(Ee)||[];if(pe.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function q(e,t,n,i){function r(a){var l;return o[a]=!0,pe.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=e===Jt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function K(e,t){var n,i,r=pe.ajaxSettings.flatOptions||{};for(i in t)t[i]!==undefined&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&pe.extend(!0,e,n),e}function G(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function Y(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function X(e){return e.style&&e.style.display||pe.css(e,"display")}function J(e){if(!pe.contains(e.ownerDocument||ie,e))return!0;for(;e&&1===e.nodeType;){if("none"===X(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Q(e,t,n,i){var r;if(pe.isArray(t))pe.each(t,function(t,r){n||nn.test(e)?i(e,r):Q(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==pe.type(t))i(e,t);else for(r in t)Q(e+"["+r+"]",t[r],n,i)}function Z(){try{return new e.XMLHttpRequest}catch(e){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return pe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],ie=e.document,re=ne.slice,oe=ne.concat,se=ne.push,ae=ne.indexOf,le={},ce=le.toString,ue=le.hasOwnProperty,de={},he="1.12.4",pe=function(e,t){return new pe.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,me=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:he,constructor:pe,selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:re.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:ne.sort,splice:ne.splice},pe.extend=pe.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||pe.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(r=arguments[a]))for(i in r)e=s[i],n=r[i],s!==n&&(c&&n&&(pe.isPlainObject(n)||(t=pe.isArray(n)))?(t?(t=!1,o=e&&pe.isArray(e)?e:[]):o=e&&pe.isPlainObject(e)?e:{},s[i]=pe.extend(c,o,n)):n!==undefined&&(s[i]=n));return s},pe.extend({expando:"jQuery"+(he+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray||function(e){return"array"===pe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!pe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==pe.type(e)||e.nodeType||pe.isWindow(e))return!1;try{if(e.constructor&&!ue.call(e,"constructor")&&!ue.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!de.ownFirst)for(t in e)return ue.call(e,t);for(t in e);return t===undefined||ue.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ce.call(e)]||"object":typeof e},globalEval:function(t){t&&pe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ge,"ms-").replace(me,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0;if(n(e))for(i=e.length;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?pe.merge(i,"string"==typeof e?[e]:e):se.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(ae)return ae.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;)e[r++]=t[i++];if(n!==n)for(;t[i]!==undefined;)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,i){var r,o,s=0,a=[];if(n(e))for(r=e.length;s<r;s++)null!=(o=t(e[s],s,i))&&a.push(o);else for(s in e)null!=(o=t(e[s],s,i))&&a.push(o);return oe.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),pe.isFunction(e)?(n=re.call(arguments,2),i=function(){return e.apply(t||this,n.concat(re.call(arguments)))},i.guid=e.guid=e.guid||pe.guid++,i):undefined},now:function(){return+new Date},support:de}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=ne[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var ye=function(e){function t(e,t,n,i){var r,o,s,a,l,c,d,p,f=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!i&&((t?t.ownerDocument||t:z)!==T&&D(t),t=t||T,L)){if(11!==g&&(c=ve.exec(e)))if(r=c[1]){if(9===g){if(!(s=t.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&O(t,s)&&s.id===r)return n.push(s),n}else{if(c[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&_.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(r)),n}if(_.qsa&&!V[e+" "]&&(!M||!M.test(e))){if(1!==g)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,"\\$&"):t.setAttribute("id",a=N),d=$(e),o=d.length,l=he.test(a)?"#"+a:"[id='"+a+"']";o--;)d[o]=l+" "+h(d[o]);p=d.join(","),f=ye.test(e)&&u(t.parentNode)||t}if(p)try{return Q.apply(n,f.querySelectorAll(p)),n}catch(e){}finally{a===N&&t.removeAttribute("id")}}}return k(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[N]=!0,e}function r(e){var t=T.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=W++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,c,u=[U,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(c=t[N]||(t[N]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(a=l[i])&&a[0]===U&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=e(t,n,s))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),c&&t.push(a)));return s}function v(e,t,n,r,o,s){return r&&!r[N]&&(r=v(r)),o&&!o[N]&&(o=v(o,s)),i(function(i,s,a,l){var c,u,d,h=[],p=[],f=s.length,v=i||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:m(v,h,e,a,l),b=n?o||(i?e:f||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(c=m(b,p),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(y[p[u]]=d));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?ee(i,d):h[u])>-1&&(i[c]=!(s[c]=d))}}else b=m(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):Q.apply(s,b)})}function y(e){for(var t,n,i,r=e.length,o=C.relative[e[0].type],s=o||C.relative[" "],a=o?1:0,l=p(function(e){return e===t},s,!0),c=p(function(e){return ee(t,e)>-1},s,!0),u=[function(e,n,i){var r=!o&&(i||n!==E)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];a<r;a++)if(n=C.relative[e[a].type])u=[p(f(u),n)];else{if(n=C.filter[e[a].type].apply(null,e[a].matches),n[N]){for(i=++a;i<r&&!C.relative[e[i].type];i++);return v(a>1&&f(u),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<i&&y(e.slice(a,i)),i<r&&y(e=e.slice(i)),i<r&&h(e))}u.push(n)}return f(u)}function b(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,c){var u,d,h,p=0,f="0",g=i&&[],v=[],y=E,b=i||o&&C.find.TAG("*",c),w=U+=null==y?1:Math.random()||.1,_=b.length;for(c&&(E=s===T||s||c);f!==_&&null!=(u=b[f]);f++){if(o&&u){for(d=0,s||u.ownerDocument===T||(D(u),a=!L);h=e[d++];)if(h(u,s||T,a)){l.push(u);break}c&&(U=w)}r&&((u=!h&&u)&&p--,i&&g.push(u))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(g,v,s,a);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=X.call(l));v=m(v)}Q.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(U=w,E=y),g};return r?i(s):s}var w,_,C,A,S,$,x,k,E,P,F,D,T,B,L,M,R,I,O,N="sizzle"+1*new Date,z=e.document,U=0,W=0,j=n(),H=n(),V=n(),q=function(e,t){return e===t&&(F=!0),0},K=1<<31,G={}.hasOwnProperty,Y=[],X=Y.pop,J=Y.push,Q=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),he=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){D()};try{Q.apply(Y=Z.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(e){Q={apply:Y.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}_=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;return i!==T&&9===i.nodeType&&i.documentElement?(T=i,B=T.documentElement,L=!S(T),(n=T.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=r(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=me.test(T.getElementsByClassName),_.getById=r(function(e){return B.appendChild(e).id=N,!T.getElementsByName||!T.getElementsByName(N).length}),_.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}},C.filter.ID=function(e){var t=e.replace(we,_e);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(we,_e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=_.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&L)return t.getElementsByClassName(e)},R=[],M=[],(_.qsa=me.test(T.querySelectorAll))&&(r(function(e){B.appendChild(e).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+N+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+N+"+*").length||M.push(".#.+[+~]")}),r(function(e){var t=T.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(_.matchesSelector=me.test(I=B.matches||B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&r(function(e){_.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),R.push("!=",oe)}),M=M.length&&new RegExp(M.join("|")),R=R.length&&new RegExp(R.join("|")),t=me.test(B.compareDocumentPosition),O=t||me.test(B.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return F=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument===z&&O(z,e)?-1:t===T||t.ownerDocument===z&&O(z,t)?1:P?ee(P,e)-ee(P,t):0:4&n?-1:1)}:function(e,t){if(e===t)return F=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],l=[t];if(!r||!o)return e===T?-1:t===T?1:r?-1:o?1:P?ee(P,e)-ee(P,t):0;if(r===o)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===z?-1:l[i]===z?1:0},T):T},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==T&&D(e),n=n.replace(ue,"='$1']"),_.matchesSelector&&L&&!V[n+" "]&&(!R||!R.test(n))&&(!M||!M.test(n)))try{var i=I.call(e,n);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,T,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==T&&D(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==T&&D(e);var n=C.attrHandle[t.toLowerCase()],i=n&&G.call(C.attrHandle,t.toLowerCase())?n(e,t,!L):undefined;return i!==undefined?i:_.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(F=!_.detectDuplicates,P=!_.sortStable&&e.slice(0),e.sort(q),F){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return P=null,e},A=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=A(t);return n},C=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(we,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=$(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(h=m,d=h[N]||(h[N]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[e]||[],p=c[0]===U&&c[1],b=p&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){u[e]=[U,p,b];break}}else if(y&&(h=t,d=h[N]||(h[N]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),
c=u[e]||[],p=c[0]===U&&c[1],b=p),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(d=h[N]||(h[N]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),u[e]=[U,b]),h!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,n){var r,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[N]?o(n):o.length>1?(r=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=ee(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=x(e.replace(ae,"$1"));return r[N]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,_e),function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,_e).toLowerCase(),function(t){var n;do{if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===B},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,$=t.tokenize=function(e,n){var i,r,o,s,a,l,c,u=H[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=C.preFilter;a;){i&&!(r=le.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ce.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ae," ")}),a=a.slice(i.length));for(s in C.filter)!(r=pe[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):H(e,l).slice(0)},x=t.compile=function(e,t){var n,i=[],r=[],o=V[e+" "];if(!o){for(t||(t=$(e)),n=t.length;n--;)o=y(t[n]),o[N]?i.push(o):r.push(o);o=V(e,b(r,i)),o.selector=e}return o},k=t.select=function(e,t,n,i){var r,o,s,a,l,c="function"==typeof e&&e,d=!i&&$(e=c.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&_.getById&&9===t.nodeType&&L&&C.relative[o[1].type]){if(!(t=(C.find.ID(s.matches[0].replace(we,_e),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((l=C.find[a])&&(i=l(s.matches[0].replace(we,_e),ye.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&h(o)))return Q.apply(n,i),n;break}}return(c||x(e,d))(i,t,!L,n,!t||ye.test(e)&&u(t.parentNode)||t),n},_.sortStable=N.split("").sort(q).join("")===N,_.detectDuplicates=!!F,D(),_.sortDetached=r(function(e){return 1&e.compareDocumentPosition(T.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);pe.find=ye,pe.expr=ye.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=ye.uniqueSort,pe.text=ye.getText,pe.isXMLDoc=ye.isXML,pe.contains=ye.contains;var be=function(e,t,n){for(var i=[],r=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&pe(e).is(n))break;i.push(e)}return i},we=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},_e=pe.expr.match.needsContext,Ce=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ae=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?pe.find.matchesSelector(i,e)?[i]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;t<r;t++)if(pe.contains(i[t],this))return!0}));for(t=0;t<r;t++)pe.find(e,i[t],n);return n=this.pushStack(r>1?pe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&_e.test(e)?pe(e):e||[],!1).length}});var Se,$e=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(pe.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Se,"string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:$e.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ie,!0)),Ce.test(i[1])&&pe.isPlainObject(t))for(i in t)pe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((r=ie.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return Se.find(e);this.length=1,this[0]=r}return this.context=ie,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):pe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(pe):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),pe.makeArray(e,this))}).prototype=pe.fn,Se=pe(ie);var xe=/^(?:parents|prev(?:Until|All))/,ke={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t,n=pe(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(pe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=_e.test(e)||"string"!=typeof e?pe(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&pe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?pe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?pe.inArray(this[0],pe(e)):pe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){return be(e,"previousSibling",n)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return pe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(n,i){var r=pe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=pe.filter(i,r)),this.length>1&&(ke[e]||(r=pe.uniqueSort(r)),xe.test(e)&&(r=r.reverse())),this.pushStack(r)}});var Ee=/\S+/g;pe.Callbacks=function(e){e="string"==typeof e?o(e):pe.extend({},e);var t,n,i,r,s=[],a=[],l=-1,c=function(){for(r=e.once,i=t=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=s.length,n=!1);e.memory||(n=!1),t=!1,r&&(s=n?[]:"")},u={add:function(){return s&&(n&&!t&&(l=s.length-1,a.push(n)),function t(n){pe.each(n,function(n,i){pe.isFunction(i)?e.unique&&u.has(i)||s.push(i):i&&i.length&&"string"!==pe.type(i)&&t(i)})}(arguments),n&&!t&&c()),this},remove:function(){return pe.each(arguments,function(e,t){for(var n;(n=pe.inArray(t,s,n))>-1;)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?pe.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=!0,n||u.disable(),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},pe.extend({Deferred:function(e){var t=[["resolve","done",pe.Callbacks("once memory"),"resolved"],["reject","fail",pe.Callbacks("once memory"),"rejected"],["notify","progress",pe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return pe.Deferred(function(n){pe.each(t,function(t,o){var s=pe.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?pe.extend(e,i):i}},r={};return i.pipe=i.then,pe.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=re.call(arguments),s=o.length,a=1!==s||e&&pe.isFunction(e.promise)?s:0,l=1===a?e:pe.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?re.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&pe.isFunction(o[r].promise)?o[r].promise().progress(c(r,n,t)).done(c(r,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}});var Pe;pe.fn.ready=function(e){return pe.ready.promise().done(e),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(!0===e?--pe.readyWait:pe.isReady)||(pe.isReady=!0,!0!==e&&--pe.readyWait>0||(Pe.resolveWith(ie,[pe]),pe.fn.triggerHandler&&(pe(ie).triggerHandler("ready"),pe(ie).off("ready"))))}}),pe.ready.promise=function(t){if(!Pe)if(Pe=pe.Deferred(),"complete"===ie.readyState||"loading"!==ie.readyState&&!ie.documentElement.doScroll)e.setTimeout(pe.ready);else if(ie.addEventListener)ie.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a);else{ie.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var n=!1;try{n=null==e.frameElement&&ie.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!pe.isReady){try{n.doScroll("left")}catch(n){return e.setTimeout(t,50)}s(),pe.ready()}}()}return Pe.promise(t)},pe.ready.promise();var Fe;for(Fe in pe(de))break;de.ownFirst="0"===Fe,de.inlineBlockNeedsLayout=!1,pe(function(){var e,t,n,i;(n=ie.getElementsByTagName("body")[0])&&n.style&&(t=ie.createElement("div"),i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",de.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ie.createElement("div");de.deleteExpando=!0;try{delete e.test}catch(e){de.deleteExpando=!1}e=null}();var De=function(e){var t=pe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Be=/([A-Z])/g;pe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?pe.cache[e[pe.expando]]:e[pe.expando])&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),pe.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(e===undefined){if(this.length&&(r=pe.data(o),1===o.nodeType&&!pe._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=pe.camelCase(i.slice(5)),l(o,i,r[i])));pe._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){pe.data(this,e)}):arguments.length>1?this.each(function(){pe.data(this,e,t)}):o?l(o,e,pe.data(o,e)):undefined},removeData:function(e){return this.each(function(){pe.removeData(this,e)})}}),pe.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=pe._data(e,t),n&&(!i||pe.isArray(n)?i=pe._data(e,t,pe.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),i=n.length,r=n.shift(),o=pe._queueHooks(e,t),s=function(){pe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return pe._data(e,n)||pe._data(e,n,{empty:pe.Callbacks("once memory").add(function(){pe._removeData(e,t+"queue"),pe._removeData(e,n)})})}}),pe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?pe.queue(this[0],e):t===undefined?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=pe.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";s--;)(n=pe._data(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}}),function(){var e;de.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return(n=ie.getElementsByTagName("body")[0])&&n.style?(t=ie.createElement("div"),i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ie.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var Le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Me=new RegExp("^(?:([+-])=|)("+Le+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Ie=function(e,t){return e=t||e,"none"===pe.css(e,"display")||!pe.contains(e.ownerDocument,e)},Oe=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===pe.type(n)){r=!0;for(a in n)Oe(e,t,a,n[a],!0,o,s)}else if(i!==undefined&&(r=!0,pe.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(pe(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},Ne=/^(?:checkbox|radio)$/i,ze=/<([\w:-]+)/,Ue=/^$|\/(?:java|ecma)script/i,We=/^\s+/,je="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=ie.createElement("div"),t=ie.createDocumentFragment(),n=ie.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",de.leadingWhitespace=3===e.firstChild.nodeType,de.tbody=!e.getElementsByTagName("tbody").length,de.htmlSerialize=!!e.getElementsByTagName("link").length,de.html5Clone="<:nav></:nav>"!==ie.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),de.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=ie.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),de.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,de.noCloneEvent=!!e.addEventListener,e[pe.expando]=1,de.attributes=!e.getAttribute(pe.expando)}();var He={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:de.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td;var Ve=/<|&#?\w+;/,qe=/<tbody/i;!function(){var t,n,i=ie.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(de[t]=n in e)||(i.setAttribute(n,"t"),de[t]=!1===i.attributes[n].expando);i=null}();var Ke=/^(?:input|select|textarea)$/i,Ge=/^key/,Ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^(?:focusinfocus|focusoutblur)$/,Je=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,g,m=pe._data(e);if(m){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=pe.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||(u=m.handle=function(e){return void 0===pe||e&&pe.event.triggered===e.type?undefined:pe.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(Ee)||[""],a=t.length;a--;)o=Je.exec(t[a])||[],p=g=o[1],f=(o[2]||"").split(".").sort(),p&&(c=pe.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=pe.event.special[p]||{},d=pe.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pe.expr.match.needsContext.test(r),namespace:f.join(".")},l),(h=s[p])||(h=s[p]=[],h.delegateCount=0,c.setup&&!1!==c.setup.call(e,i,f,u)||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),pe.event.global[p]=!0);e=null}},remove:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,g,m=pe.hasData(e)&&pe._data(e);if(m&&(u=m.events)){for(t=(t||"").match(Ee)||[""],c=t.length;c--;)if(a=Je.exec(t[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(d=pe.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)s=h[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(o,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(e,s));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||pe.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)pe.event.remove(e,p+t[c],n,i,!0);pe.isEmptyObject(u)&&(delete m.handle,pe._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,s,a,l,c,u,d,h=[i||ie],p=ue.call(t,"type")?t.type:t,f=ue.call(t,"namespace")?t.namespace.split("."):[];if(a=u=i=i||ie,3!==i.nodeType&&8!==i.nodeType&&!Xe.test(p+pe.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[pe.expando]?t:new pe.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=i),n=null==n?[t]:pe.makeArray(n,[t]),c=pe.event.special[p]||{},r||!c.trigger||!1!==c.trigger.apply(i,n))){if(!r&&!c.noBubble&&!pe.isWindow(i)){for(l=c.delegateType||p,Xe.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(i.ownerDocument||ie)&&h.push(u.defaultView||u.parentWindow||e)}for(d=0;(a=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||p,o=(pe._data(a,"events")||{})[t.type]&&pe._data(a,"handle"),o&&o.apply(a,n),(o=s&&a[s])&&o.apply&&De(a)&&(t.result=o.apply(a,n),!1===t.result&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(h.pop(),n))&&De(i)&&s&&i[p]&&!pe.isWindow(i)){u=i[s],u&&(i[s]=null),pe.event.triggered=p;try{i[p]()}catch(e){}pe.event.triggered=undefined,u&&(i[s]=u)}return t.result}},dispatch:function(e){e=pe.event.fix(e);var t,n,i,r,o,s=[],a=re.call(arguments),l=(pe._data(this,"events")||{})[e.type]||[],c=pe.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=pe.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,(i=((pe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))!==undefined&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;n<a;n++)o=t[n],r=o.selector+" ",i[r]===undefined&&(i[r]=o.needsContext?pe(r,this).index(l)>-1:pe.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[pe.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Ye.test(r)?this.mouseHooks:Ge.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new pe.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||ie),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ie,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||o===undefined||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(pe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var i=pe.extend(new pe.Event,n,{type:e,isSimulated:!0});pe.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}},pe.removeEvent=ie.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},pe.Event=function(e,t){if(!(this instanceof pe.Event))return new pe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?y:b):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),this[pe.expando]=!0},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||pe.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),de.submit||(pe.event.special.submit={setup:function(){if(pe.nodeName(this,"form"))return!1;pe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=pe.nodeName(t,"input")||pe.nodeName(t,"button")?pe.prop(t,"form"):undefined;n&&!pe._data(n,"submit")&&(pe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),pe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&pe.event.simulate("submit",this.parentNode,e))},teardown:function(){if(pe.nodeName(this,"form"))return!1;pe.event.remove(this,"._submit")}}),de.change||(pe.event.special.change={setup:function(){if(Ke.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(pe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),pe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),pe.event.simulate("change",this,e)})),!1;pe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ke.test(t.nodeName)&&!pe._data(t,"change")&&(pe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||pe.event.simulate("change",this.parentNode,e)}),pe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return pe.event.remove(this,"._change"),!Ke.test(this.nodeName)}}),de.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=pe._data(i,t);r||i.addEventListener(e,n,!0),pe._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=pe._data(i,t)-1;r?pe._data(i,t,r):(i.removeEventListener(e,n,!0),pe._removeData(i,t))}}}),pe.fn.extend({on:function(e,t,n,i){return _(this,e,t,n,i)},one:function(e,t,n,i){return _(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,pe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=b),this.each(function(){pe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return pe.event.trigger(e,t,n,!0)}});var Qe=/ jQuery\d+="(?:null|\d+)"/g,Ze=new RegExp("<(?:"+je+")[\\s/>]","i"),et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,tt=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ot=p(ie),st=ot.appendChild(ie.createElement("div"));pe.extend({htmlPrefilter:function(e){return e.replace(et,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a,l=pe.contains(e.ownerDocument,e);if(de.html5Clone||pe.isXMLDoc(e)||!Ze.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(st.innerHTML=e.outerHTML,st.removeChild(o=st.firstChild)),!(de.noCloneEvent&&de.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(i=f(o),a=f(e),s=0;null!=(r=a[s]);++s)i[s]&&x(r,i[s]);if(t)if(n)for(a=a||f(e),i=i||f(o),s=0;null!=(r=a[s]);s++)$(r,i[s]);else $(e,o);return i=f(o,"script"),i.length>0&&g(i,!l&&f(e,"script")),i=a=r=null,o},cleanData:function(e,t){for(var n,i,r,o,s=0,a=pe.expando,l=pe.cache,c=de.attributes,u=pe.event.special;null!=(n=e[s]);s++)if((t||De(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?pe.event.remove(n,i):pe.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c||"undefined"==typeof n.removeAttribute?n[a]=undefined:n.removeAttribute(a),ne.push(r))}}}),pe.fn.extend({domManip:k,detach:function(e){return E(this,e,!0)},remove:function(e){return E(this,e)},text:function(e){return Oe(this,function(e){return e===undefined?pe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ie).createTextNode(e))},null,e,arguments.length)},append:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){C(this,e).appendChild(e)}})},prepend:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=C(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&pe.cleanData(f(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&pe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Oe(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(Qe,""):undefined;if("string"==typeof e&&!tt.test(e)&&(de.htmlSerialize||!Ze.test(e))&&(de.leadingWhitespace||!We.test(e))&&!He[(ze.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(pe.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return k(this,arguments,function(t){var n=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(f(this)),n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var n,i=0,r=[],o=pe(e),s=o.length-1;i<=s;i++)n=i===s?this:this.clone(!0),pe(o[i])[t](n),se.apply(r,n.get());return this.pushStack(r)}});var at,lt={HTML:"block",BODY:"block"},ct=/^margin/,ut=new RegExp("^("+Le+")(?!px)[a-z%]+$","i"),dt=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r},ht=ie.documentElement;!function(){function t(){var t,u,d=ie.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=r=a=!1,i=s=!0,e.getComputedStyle&&(u=e.getComputedStyle(c),n="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,r="4px"===(u||{
width:"4px"}).width,c.style.marginRight="50%",i="4px"===(u||{marginRight:"4px"}).marginRight,t=c.appendChild(ie.createElement("div")),t.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",s=!parseFloat((e.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",o=0===c.getClientRects().length,o&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",t=c.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),d.removeChild(l)}var n,i,r,o,s,a,l=ie.createElement("div"),c=ie.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",de.opacity="0.5"===c.style.opacity,de.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===c.style.backgroundClip,l=ie.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),de.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,pe.extend(de,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){return null==n&&t(),r},pixelMarginRight:function(){return null==n&&t(),i},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),s},reliableMarginLeft:function(){return null==n&&t(),a}}))}();var pt,ft,gt=/^(top|right|bottom|left)$/;e.getComputedStyle?(pt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ft=function(e,t,n){var i,r,o,s,a=e.style;return n=n||pt(e),s=n?n.getPropertyValue(t)||n[t]:undefined,""!==s&&s!==undefined||pe.contains(e.ownerDocument,e)||(s=pe.style(e,t)),n&&!de.pixelMarginRight()&&ut.test(s)&&ct.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),s===undefined?s:s+""}):ht.currentStyle&&(pt=function(e){return e.currentStyle},ft=function(e,t,n){var i,r,o,s,a=e.style;return n=n||pt(e),s=n?n[t]:undefined,null==s&&a&&a[t]&&(s=a[t]),ut.test(s)&&!gt.test(t)&&(i=a.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),s===undefined?s:s+""||"auto"});var mt=/alpha\([^)]*\)/i,vt=/opacity\s*=\s*([^)]*)/i,yt=/^(none|table(?!-c[ea]).+)/,bt=new RegExp("^("+Le+")(.*)$","i"),wt={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",fontWeight:"400"},Ct=["Webkit","O","Moz","ms"],At=ie.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ft(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":de.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=pe.camelCase(t),l=e.style;if(t=pe.cssProps[a]||(pe.cssProps[a]=T(a)||a),s=pe.cssHooks[t]||pe.cssHooks[a],n===undefined)return s&&"get"in s&&(r=s.get(e,!1,i))!==undefined?r:l[t];if(o=typeof n,"string"===o&&(r=Me.exec(n))&&r[1]&&(n=h(e,t,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(pe.cssNumber[a]?"":"px")),de.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&(n=s.set(e,n,i))===undefined)))try{l[t]=n}catch(e){}}},css:function(e,t,n,i){var r,o,s,a=pe.camelCase(t);return t=pe.cssProps[a]||(pe.cssProps[a]=T(a)||a),s=pe.cssHooks[t]||pe.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),o===undefined&&(o=ft(e,t,i)),"normal"===o&&t in _t&&(o=_t[t]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,n,i){if(n)return yt.test(pe.css(e,"display"))&&0===e.offsetWidth?dt(e,wt,function(){return R(e,t,i)}):R(e,t,i)},set:function(e,n,i){var r=i&&pt(e);return L(e,n,i?M(e,t,i,de.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,r),r):0)}}}),de.opacity||(pe.cssHooks.opacity={get:function(e,t){return vt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=pe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===pe.trim(o.replace(mt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=mt.test(o)?o.replace(mt,r):o+" "+r)}}),pe.cssHooks.marginRight=D(de.reliableMarginRight,function(e,t){if(t)return dt(e,{display:"inline-block"},ft,[e,"marginRight"])}),pe.cssHooks.marginLeft=D(de.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ft(e,"marginLeft"))||(pe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-dt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+Re[i]+t]=o[i]||o[i-2]||o[0];return r}},ct.test(e)||(pe.cssHooks[e+t].set=L)}),pe.fn.extend({css:function(e,t){return Oe(this,function(e,t,n){var i,r,o={},s=0;if(pe.isArray(t)){for(i=pt(e),r=t.length;s<r;s++)o[t[s]]=pe.css(e,t[s],!1,i);return o}return n!==undefined?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ie(this)?pe(this).show():pe(this).hide()})}}),pe.Tween=I,I.prototype={constructor:I,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pe.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=I.prototype.init,pe.fx.step={};var St,$t,xt=/^(?:toggle|show|hide)$/,kt=/queueHooks$/;pe.Animation=pe.extend(j,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return h(n.elem,e,Me.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(Ee);for(var n,i=0,r=e.length;i<r;i++)n=e[i],j.tweeners[n]=j.tweeners[n]||[],j.tweeners[n].unshift(t)},prefilters:[U],prefilter:function(e,t){t?j.prefilters.unshift(e):j.prefilters.push(e)}}),pe.speed=function(e,t,n){var i=e&&"object"==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return i.duration=pe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in pe.fx.speeds?pe.fx.speeds[i.duration]:pe.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){pe.isFunction(i.old)&&i.old.call(this),i.queue&&pe.dequeue(this,i.queue)},i},pe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ie).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=pe.isEmptyObject(e),o=pe.speed(t,n,i),s=function(){var t=j(this,pe.extend({},e),o);(r||pe._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=pe.timers,s=pe._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&kt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||pe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=pe._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=pe.timers,s=i?i.length:0;for(n.finish=!0,pe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(N(t,!0),e,i,r)}}),pe.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),pe.timers=[],pe.fx.tick=function(){var e,t=pe.timers,n=0;for(St=pe.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||pe.fx.stop(),St=undefined},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){$t||($t=e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.clearInterval($t),$t=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,n){return t=pe.fx?pe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e,t=ie.createElement("input"),n=ie.createElement("div"),i=ie.createElement("select"),r=i.appendChild(ie.createElement("option"));n=ie.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",de.getSetAttribute="t"!==n.className,de.style=/top/.test(e.getAttribute("style")),de.hrefNormalized="/a"===e.getAttribute("href"),de.checkOn=!!t.value,de.optSelected=r.selected,de.enctype=!!ie.createElement("form").enctype,i.disabled=!0,de.optDisabled=!r.disabled,t=ie.createElement("input"),t.setAttribute("value",""),de.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),de.radioValue="t"===t.value}();var Et=/\r/g,Pt=/[\x20\t\r\n\f]+/g;pe.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=pe.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,pe(this).val()):e,null==r?r="":"number"==typeof r?r+="":pe.isArray(r)&&(r=pe.map(r,function(e){return null==e?"":e+""})),(t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,r,"value")!==undefined||(this.value=r))});if(r)return(t=pe.valHooks[r.type]||pe.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(r,"value"))!==undefined?n:(n=r.value,"string"==typeof n?n.replace(Et,""):null==n?"":n)}}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e)).replace(Pt," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(n=i[l],(n.selected||l===r)&&(de.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pe.nodeName(n.parentNode,"optgroup"))){if(t=pe(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=pe.makeArray(t),s=r.length;s--;)if(i=r[s],pe.inArray(pe.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=pe.inArray(pe(e).val(),t)>-1}},de.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ft,Dt,Tt=pe.expr.attrHandle,Bt=/^(?:checked|selected)$/i,Lt=de.getSetAttribute,Mt=de.input;pe.fn.extend({attr:function(e,t){return Oe(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?pe.prop(e,t,n):(1===o&&pe.isXMLDoc(e)||(t=t.toLowerCase(),r=pe.attrHooks[t]||(pe.expr.match.bool.test(t)?Dt:Ft)),n!==undefined?null===n?void pe.removeAttr(e,t):r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=pe.find.attr(e,t),null==i?undefined:i))},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(Ee);if(o&&1===e.nodeType)for(;n=o[r++];)i=pe.propFix[n]||n,pe.expr.match.bool.test(n)?Mt&&Lt||!Bt.test(n)?e[i]=!1:e[pe.camelCase("default-"+n)]=e[i]=!1:pe.attr(e,n,""),e.removeAttribute(Lt?n:i)}}),Dt={set:function(e,t,n){return!1===t?pe.removeAttr(e,n):Mt&&Lt||!Bt.test(n)?e.setAttribute(!Lt&&pe.propFix[n]||n,n):e[pe.camelCase("default-"+n)]=e[n]=!0,n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tt[t]||pe.find.attr;Mt&&Lt||!Bt.test(t)?Tt[t]=function(e,t,i){var r,o;return i||(o=Tt[t],Tt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Tt[t]=o),r}:Tt[t]=function(e,t,n){if(!n)return e[pe.camelCase("default-"+t)]?t.toLowerCase():null}}),Mt&&Lt||(pe.attrHooks.value={set:function(e,t,n){if(!pe.nodeName(e,"input"))return Ft&&Ft.set(e,t,n);e.defaultValue=t}}),Lt||(Ft={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},Tt.id=Tt.name=Tt.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},pe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Ft.set},pe.attrHooks.contenteditable={set:function(e,t,n){Ft.set(e,""!==t&&t,n)}},pe.each(["width","height"],function(e,t){pe.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),de.style||(pe.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var Rt=/^(?:input|select|textarea|button|object)$/i,It=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Oe(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=pe.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(e){}})}}),pe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,r=pe.propHooks[t]),n!==undefined?r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):Rt.test(e.nodeName)||It.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),de.hrefNormalized||pe.each(["href","src"],function(e,t){pe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),de.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),de.enctype||(pe.propFix.enctype="encoding");var Ot=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,H(this)))});if("string"==typeof e&&e)for(t=e.match(Ee)||[];n=this[l++];)if(r=H(n),i=1===n.nodeType&&(" "+r+" ").replace(Ot," ")){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=pe.trim(i),r!==a&&pe.attr(n,"class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ee)||[];n=this[l++];)if(r=H(n),i=1===n.nodeType&&(" "+r+" ").replace(Ot," ")){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=pe.trim(i),r!==a&&pe.attr(n,"class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,H(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=pe(this),o=e.match(Ee)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else e!==undefined&&"boolean"!==n||(t=H(this),t&&pe._data(this,"__className__",t),pe.attr(this,"class",t||!1===e?"":pe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+H(n)+" ").replace(Ot," ").indexOf(t)>-1)return!0;return!1}}),pe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Nt=e.location,zt=pe.now(),Ut=/\?/,Wt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=pe.trim(t+"");return r&&!pe.trim(r.replace(Wt,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!o-!r,"")}))?Function("return "+r)():pe.error("Invalid JSON: "+t)},pe.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new e.DOMParser,n=i.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(e){n=undefined}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),n};var jt=/#.*$/,Ht=/([?&])_=[^&]*/,Vt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,qt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Kt=/^(?:GET|HEAD)$/,Gt=/^\/\//,Yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Xt={},Jt={},Qt="*/".concat("*"),Zt=Nt.href,en=Yt.exec(Zt.toLowerCase())||[];pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Zt,type:"GET",isLocal:qt.test(en[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pe.parseJSON,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,pe.ajaxSettings),t):K(pe.ajaxSettings,e)},ajaxPrefilter:V(Xt),ajaxTransport:V(Jt),ajax:function(t,n){function i(t,n,i,r){var o,d,y,b,_,A=n;2!==w&&(w=2,l&&e.clearTimeout(l),u=undefined,a=r||"",C.readyState=t>0?4:0,o=t>=200&&t<300||304===t,i&&(b=G(h,C,i)),b=Y(h,b,C,o),o?(h.ifModified&&(_=C.getResponseHeader("Last-Modified"),_&&(pe.lastModified[s]=_),(_=C.getResponseHeader("etag"))&&(pe.etag[s]=_)),204===t||"HEAD"===h.type?A="nocontent":304===t?A="notmodified":(A=b.state,d=b.data,y=b.error,o=!y)):(y=A,!t&&A||(A="error",t<0&&(t=0))),C.status=t,C.statusText=(n||A)+"",o?g.resolveWith(p,[d,A,C]):g.rejectWith(p,[C,A,y]),C.statusCode(v),v=undefined,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[C,h,o?d:y]),m.fireWith(p,[C,A]),c&&(f.trigger("ajaxComplete",[C,h]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=undefined),n=n||{};var r,o,s,a,l,c,u,d,h=pe.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?pe(p):pe.event,g=pe.Deferred(),m=pe.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,_="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!d)for(d={};t=Vt.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)v[t]=[v[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||_;return u&&u.abort(t),i(0,t),this}};if(g.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,h.url=((t||h.url||Zt)+"").replace(jt,"").replace(Gt,en[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=pe.trim(h.dataType||"*").toLowerCase().match(Ee)||[""],null==h.crossDomain&&(r=Yt.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===en[1]&&r[2]===en[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(en[3]||("http:"===en[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=pe.param(h.data,h.traditional)),q(Xt,h,n,C),2===w)return C;c=pe.event&&h.global,c&&0==pe.active++&&pe.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Kt.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Ut.test(s)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Ht.test(s)?s.replace(Ht,"$1_="+zt++):s+(Ut.test(s)?"&":"?")+"_="+zt++)),h.ifModified&&(pe.lastModified[s]&&C.setRequestHeader("If-Modified-Since",pe.lastModified[s]),pe.etag[s]&&C.setRequestHeader("If-None-Match",pe.etag[s])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Qt+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)C.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(!1===h.beforeSend.call(p,C,h)||2===w))return C.abort();_="abort";for(o in{success:1,error:1,complete:1})C[o](h[o]);if(u=q(Jt,h,n,C)){if(C.readyState=1,c&&f.trigger("ajaxSend",[C,h]),2===w)return C;h.async&&h.timeout>0&&(l=e.setTimeout(function(){C.abort("timeout")},h.timeout));try{w=1,u.send(y,i)}catch(e){if(!(w<2))throw e;i(-1,e)}}else i(-1,"No Transport");return C},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,undefined,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,n,i,r){return pe.isFunction(n)&&(r=r||i,i=n,n=undefined),pe.ajax(pe.extend({url:e,type:t,dataType:r,data:n,success:i},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pe.fn.extend({wrapAll:function(e){if(pe.isFunction(e))return this.each(function(t){pe(this).wrapAll(e.call(this,t))});if(this[0]){var t=pe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){pe.nodeName(this,"body")||pe(this).replaceWith(this.childNodes)}).end()}}),pe.expr.filters.hidden=function(e){return de.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:J(e)},pe.expr.filters.visible=function(e){return!pe.expr.filters.hidden(e)};var tn=/%20/g,nn=/\[\]$/,rn=/\r?\n/g,on=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n,i=[],r=function(e,t){t=pe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=pe.ajaxSettings&&pe.ajaxSettings.traditional),pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){r(this.name,this.value)});else for(n in e)Q(n,e[n],t,r);return i.join("&").replace(tn,"+")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&sn.test(this.nodeName)&&!on.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:pe.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(rn,"\r\n")}}):{name:t.name,value:n.replace(rn,"\r\n")}}).get()}}),pe.ajaxSettings.xhr=e.ActiveXObject!==undefined?function(){return this.isLocal?ee():ie.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var an=0,ln={},cn=pe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in ln)ln[e](undefined,!0)}),de.cors=!!cn&&"withCredentials"in cn,cn=de.ajax=!!cn,cn&&pe.ajaxTransport(function(t){if(!t.crossDomain||de.cors){var n;return{send:function(i,r){var o,s=t.xhr(),a=++an;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)i[o]!==undefined&&s.setRequestHeader(o,i[o]+"");s.send(t.hasContent&&t.data||null),n=function(e,i){var o,l,c;if(n&&(i||4===s.readyState))if(delete ln[a],n=undefined,s.onreadystatechange=pe.noop,i)4!==s.readyState&&s.abort();else{c={},o=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(e){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&r(o,l,c,s.getAllResponseHeaders())},t.async?4===s.readyState?e.setTimeout(n):s.onreadystatechange=ln[a]=n:n()},abort:function(){n&&n(undefined,!0)}}}}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ie.head||pe("head")[0]||ie.documentElement;return{send:function(i,r){t=ie.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(undefined,!0)}}}});var un=[],dn=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=un.pop()||pe.expando+"_"+zt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=!1!==t.jsonp&&(dn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(dn,"$1"+r):!1!==t.jsonp&&(t.url+=(Ut.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||pe.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){o===undefined?pe(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,un.push(r)),s&&pe.isFunction(o)&&o(s[0]),s=o=undefined}),"script"}),pe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ie;var i=Ce.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=v([e],t,r),r&&r.length&&pe(r).remove(),pe.merge([],i.childNodes))};var hn=pe.fn.load;pe.fn.load=function(e,t,n){if("string"!=typeof e&&hn)return hn.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=pe.trim(e.slice(a,e.length)),e=e.slice(0,a)),pe.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(r="POST"),s.length>0&&pe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?pe("<div>").append(pe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.filters.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c,u=pe.css(e,"position"),d=pe(e),h={};"static"===u&&(e.style.position="relative"),a=d.offset(),o=pe.css(e,"top"),l=pe.css(e,"left"),c=("absolute"===u||"fixed"===u)&&pe.inArray("auto",[o,l])>-1,c?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):d.css(h)}},pe.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,pe.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=te(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===pe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(n=e.offset()),n.top+=pe.css(e[0],"borderTopWidth",!0),n.left+=pe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-pe.css(i,"marginTop",!0),left:t.left-n.left-pe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!pe.nodeName(e,"html")&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||ht})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);pe.fn[e]=function(i){return Oe(this,function(e,i,r){var o=te(e);if(r===undefined)return o?t in o?o[t]:o.document.documentElement[i]:e[i];o?o.scrollTo(n?pe(o).scrollLeft():r,n?r:pe(o).scrollTop()):e[i]=r},e,i,arguments.length,null)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=D(de.pixelPosition,function(e,n){if(n)return n=ft(e,t),ut.test(n)?pe(e).position()[t]+"px":n})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){pe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return Oe(this,function(t,n,i){var r;return pe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):i===undefined?pe.css(t,n,s):pe.style(t,n,i,s)},t,o?i:undefined,o,null)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),pe.fn.size=function(){return this.length},pe.fn.andSelf=pe.fn.addBack,
"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var pn=e.jQuery,fn=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=fn),t&&e.jQuery===pe&&(e.jQuery=pn),pe},t||(e.jQuery=e.$=pe),pe}),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),!1!==r.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&!1!==e.data("remote")},handleRemote:function(i){var r,o,s,a,l,c;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),o=i.data("ujs:submit-button-formaction")||i.attr("action"),s=e(i[0]).serializeArray();var u=i.data("ujs:submit-button");u&&(s.push(u),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);return c={type:r||"GET",data:s,dataType:l,beforeSend:function(e,r){if(r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!n.fire(i,"ajax:beforeSend",[e,r]))return!1;i.trigger("ajax:send",e)},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(o)},a&&(c.xhrFields={withCredentials:a}),o&&(c.url=o),n.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(e){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l===t||a===t||n.isCrossDomain(r)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),i!==t&&(e.data("ujs:enable-with",e[n]()),e[n](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),r=!1;if(!i)return!0;if(n.fire(e,"confirm")){try{r=n.confirm(i)}catch(e){(console.error||console.log).call(console,e.stack||e)}t=n.fire(e,"confirm:complete",[r])}return r&&t},blankInputs:function(t,n,i){var r,o,s,a,l=e(),c=n||"input,textarea",u=t.find(c),d={};return u.each(function(){r=e(this),r.is("input[type=radio]")?(a=r.attr("name"),d[a]||(0===t.find('input[type=radio]:checked[name="'+a+'"]').length&&(s=t.find('input[type=radio][name="'+a+'"]'),l=l.add(s)),d[a]=a)):(o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val())===i&&(l=l.add(r))}),!!l.length&&l},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");i!==t&&(e.data("ujs:enable-with",e.html()),e.html(i)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(e(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(e(this))}),i.on("click.rails",n.linkClickSelector,function(t){var i=e(this),r=i.data("method"),o=i.data("params"),s=t.metaKey||t.ctrlKey;if(!n.allowAction(i))return n.stopEverything(t);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=n.handleRemote(i);return!1===a?n.enableElement(i):a.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(t){var i=e(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return!1===r?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(t){var i=e(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.on("submit.rails",n.formSubmitSelector,function(i){var r,o,s=e(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===t)if(s.data("ujs:formnovalidate-button")===t){if((r=n.blankInputs(s,n.requiredInputSelector,!1))&&n.fire(s,"ajax:aborted:required",[r]))return n.stopEverything(i)}else s.data("ujs:formnovalidate-button",t);if(a){if(o=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.on("click.rails",n.formInputClickSelector,function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null,s=i.closest("form");0===s.length&&(s=e("#"+i.attr("form"))),s.data("ujs:submit-button",o),s.data("ujs:formnovalidate-button",i.attr("formnovalidate")),s.data("ujs:submit-button-formaction",i.attr("formaction")),s.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(t){this===t.target&&n.disableFormElements(e(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){function t(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}return e.ui.focusable=function(n,i){var r,o,s,a,l,c=n.nodeName.toLowerCase();return"area"===c?(r=n.parentNode,o=r.name,!(!n.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=e("img[usemap='#"+o+"']"),s.length>0&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(c)?(a=!n.disabled)&&(l=e(n).closest("fieldset")[0])&&(a=!l.disabled):a="a"===c?n.href||i:i,a&&e(n).is(":visible")&&t(e(n)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}()}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version","./escape-selector"],e):e(jQuery)}(function(e){return e.fn.labels=function(){var t,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),i=this.attr("id"),i&&(t=this.eq(0).parents().last(),o=t.add(t.length?t.siblings():this.siblings()),n="label[for='"+e.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){"1.7"===e.fn.jquery.substring(0,3)&&(e.each(["Width","Height"],function(t,n){function i(t,n,i,o){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return t===undefined?s["inner"+n].call(this):this.each(function(){e(this).css(o,i(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,r)+"px")})}}),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.plugin={add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{tabbable:function(t){var n=e.attr(t,"tabindex"),i=null!=n;return(!i||n>=0)&&e.ui.focusable(t,i)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){var t="ui-effects-",n="ui-effects-style",i="ui-effects-animated",r=e;return e.effects={effect:{}},function(e,t){function n(e,t,n){var i=d[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=c(),i=n._rgba=[];return t=t.toLowerCase(),f(l,function(e,r){var o,s=r.re.exec(t),a=s&&r.parse(s),l=r.space||"rgba";if(a)return o=n[l](a),n[u[l].cache]=o[u[l].cache],i=n._rgba=o._rgba,!1}),i.length?("0,0,0,0"===i.join()&&e.extend(i,o.transparent),n):o[t]}function r(e,t,n){return n=(n+1)%1,6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(r,s,a,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(s),s=t);var d=this,h=e.type(r),p=this._rgba=[];return s!==t&&(r=[r,s,a,l],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=n(r[t.idx],t)}),this):"object"===h?(r instanceof c?f(u,function(e,t){r[t.cache]&&(d[t.cache]=r[t.cache].slice())}):f(u,function(t,i){var o=i.cache;f(i.props,function(e,t){if(!d[o]&&i.to){if("alpha"===e||null==r[e])return;d[o]=i.to(d._rgba)}d[o][t.idx]=n(r[e],t,!0)}),d[o]&&e.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):void 0},is:function(e){var t=c(e),n=!0,i=this;return f(u,function(e,r){var o,s=t[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(e,t){if(null!=s[t.idx])return n=s[t.idx]===o[t.idx]})),n}),n},_space:function(){var e=[],t=this;return f(u,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=c(e),r=i._space(),o=u[r],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return i=i[o.cache],f(o.props,function(e,r){var o=r.idx,s=a[o],c=i[o],u=d[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=n((c-s)*t+s,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(t)._rgba;return c(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,s=e[3],a=Math.max(i,r,o),l=Math.min(i,r,o),c=a-l,u=a+l,d=.5*u;return t=l===a?0:i===a?60*(r-o)/c+360:r===a?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==s?1:s]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,t+1/3)),Math.round(255*r(a,s,t)),Math.round(255*r(a,s,t-1/3)),o]},f(u,function(i,r){var o=r.props,s=r.cache,l=r.to,u=r.from;c.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===t)return this[s].slice();var r,a=e.type(i),d="array"===a||"object"===a?i:arguments,h=this[s].slice();return f(o,function(e,t){var i=d["object"===a?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)}),u?(r=c(u(h)),r[s]=h,r):c(h)},f(o,function(t,n){c.fn[t]||(c.fn[t]=function(r){var o,s=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=e.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r))&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1)),c[n.idx]=r,this[l](c)))})})}),c.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,r){var o,s,a="";if("transparent"!==r&&("string"!==e.type(r)||(o=i(r)))){if(r=c(o||r),!h.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(e){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(s),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(r),function(){function t(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(t,n){var i,r,s={};for(i in n)r=n[i],t[i]!==r&&(o[i]||!e.fx.step[i]&&isNaN(parseFloat(r))||(s[i]=r));return s}var i=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(r.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(r,o,s,a){var l=e.speed(o,s,a);return this.queue(function(){var o,s=e(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){return{el:e(this),start:t(this)}}),o=function(){e.each(i,function(e,t){r[t]&&s[t+"Class"](r[t])})},o(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,o){return i?e.effects.animateClass.call(this,{add:n},i,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,o,s){return"boolean"==typeof i||i===undefined?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,o)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})}(),function(){function r(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function o(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}function s(e,t){var n=t.outerWidth(),i=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(e)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(n){return!!e(n).data(i)||t(n)}}(e.expr.filters.animated)),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,n){for(var i=0,r=n.length;i<r;i++)null!==n[i]&&e.data(t+n[i],e[0].style[n[i]])},restore:function(e,n){for(var i,r=0,o=n.length;r<o;r++)null!==n[r]&&(i=e.data(t+n[r]),e.css(n[r],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(i),(t[0]===o||e.contains(t[0],o))&&e(o).trigger("focus"),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.1",define:function(t,n,i){return i||(i=n,n="effect"),e.effects.effect[t]=i,e.effects.effect[t].mode=n,i},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,r="vertical"!==n?(t||100)/100:1;return{height:e.height()*r,width:e.width()*i,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();t>1&&i.splice.apply(i,[1,0].concat(i.splice(t,n))),e.dequeue()},saveStyle:function(e){e.data(n,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(n)||"",e.removeData(n)},mode:function(e,t){var n=e.is(":hidden");return"toggle"===t&&(t=n?"show":"hide"),(n?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(n){var i,r=n.css("position"),o=n.position();return n.css({marginTop:n.css("marginTop"),marginBottom:n.css("marginBottom"),marginLeft:n.css("marginLeft"),marginRight:n.css("marginRight")}).outerWidth(n.outerWidth()).outerHeight(n.outerHeight()),/^(static|relative)/.test(r)&&(r="absolute",i=e("<"+n[0].nodeName+">").insertAfter(n).css({display:/^(inline|ruby)/.test(n.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:n.css("marginTop"),marginBottom:n.css("marginBottom"),marginLeft:n.css("marginLeft"),marginRight:n.css("marginRight"),"float":n.css("float")}).outerWidth(n.outerWidth()).outerHeight(n.outerHeight()).addClass("ui-effects-placeholder"),n.data(t+"placeholder",i)),n.css({position:r,left:o.left,top:o.top}),i},removePlaceholder:function(e){var n=t+"placeholder",i=e.data(n);i&&(i.remove(),e.removeData(n))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),e.fn.extend({effect:function(){function t(t){function r(){l.removeData(i),e.effects.cleanUp(l),"hide"===n.mode&&l.hide(),a()}function a(){e.isFunction(c)&&c.call(l[0]),e.isFunction(t)&&t()}var l=e(this);n.mode=d.shift(),!1===e.uiBackCompat||s?"none"===n.mode?(l[u](),a()):o.call(l[0],n,r):(l.is(":hidden")?"hide"===u:"show"===u)?(l[u](),a()):o.call(l[0],n,a)}var n=r.apply(this,arguments),o=e.effects.effect[n.effect],s=o.mode,a=n.queue,l=a||"fx",c=n.complete,u=n.mode,d=[],h=function(t){var n=e(this),r=e.effects.mode(n,u)||s;n.data(i,!0),d.push(r),s&&("show"===r||r===s&&"hide"===r)&&n.show(),s&&"none"===r||e.effects.saveStyle(n),e.isFunction(t)&&t()};return e.fx.off||!o?u?this[u](n.duration,c):this.each(function(){c&&c.call(this)}):!1===a?this.each(h).each(t):this.queue(l,h).queue(l,t)},show:function(e){return function(t){if(o(t))return e.apply(this,arguments);var n=r.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(t){if(o(t))return e.apply(this,arguments);var n=r.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(t){if(o(t)||"boolean"==typeof t)return e.apply(this,arguments);var n=r.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):s(this.css("clip"),this)},transfer:function(t,n){var i=e(this),r=e(t.to),o="fixed"===r.css("position"),s=e("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),e.isFunction(n)&&n()})}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=s(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}})}(),e.effects}),function(e){"function"==typeof define&&define.amd?define(["jquery","./form","./version"],e):e(jQuery)}(function(e){return e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var n=t.data("ui-form-reset-instances");e.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return function(){function t(e,t,n){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{
width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var r,o=Math.max,s=Math.abs,a=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,d=/%$/,h=e.fn.position;e.position={scrollbarWidth:function(){if(r!==undefined)return r;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return e("body").append(i),t=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),r=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:i||r?{left:0,top:0}:e(t).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return h.apply(this,arguments);r=e.extend({},r);var d,p,f,g,m,v,y=e(r.of),b=e.position.getWithinInfo(r.within),w=e.position.getScrollInfo(b),_=(r.collision||"flip").split(" "),C={};return v=i(y),y[0].preventDefault&&(r.at="left top"),p=v.width,f=v.height,g=v.offset,m=e.extend({},g),e.each(["my","at"],function(){var e,t,n=(r[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",e=c.exec(n[0]),t=c.exec(n[1]),C[this]=[e?e[0]:0,t?t[0]:0],r[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===r.at[0]?m.left+=p:"center"===r.at[0]&&(m.left+=p/2),"bottom"===r.at[1]?m.top+=f:"center"===r.at[1]&&(m.top+=f/2),d=t(C.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var i,a,l=e(this),c=l.outerWidth(),u=l.outerHeight(),h=n(this,"marginLeft"),v=n(this,"marginTop"),A=c+h+n(this,"marginRight")+w.width,S=u+v+n(this,"marginBottom")+w.height,$=e.extend({},m),x=t(C.my,l.outerWidth(),l.outerHeight());"right"===r.my[0]?$.left-=c:"center"===r.my[0]&&($.left-=c/2),"bottom"===r.my[1]?$.top-=u:"center"===r.my[1]&&($.top-=u/2),$.left+=x[0],$.top+=x[1],i={marginLeft:h,marginTop:v},e.each(["left","top"],function(t,n){e.ui.position[_[t]]&&e.ui.position[_[t]][n]($,{targetWidth:p,targetHeight:f,elemWidth:c,elemHeight:u,collisionPosition:i,collisionWidth:A,collisionHeight:S,offset:[d[0]+x[0],d[1]+x[1]],my:r.my,at:r.at,within:b,elem:l})}),r.using&&(a=function(e){var t=g.left-$.left,n=t+p-c,i=g.top-$.top,a=i+f-u,d={target:{element:y,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:$.left,top:$.top,width:c,height:u},horizontal:n<0?"left":t>0?"right":"center",vertical:a<0?"top":i>0?"bottom":"middle"};p<c&&s(t+n)<p&&(d.horizontal="center"),f<u&&s(i+a)<f&&(d.vertical="middle"),o(s(t),s(n))>o(s(i),s(a))?d.important="horizontal":d.important="vertical",r.using.call(this,e,d)}),l.offset(e.extend($,{using:a}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,c=a+t.collisionWidth-s-r;t.collisionWidth>s?l>0&&c<=0?(n=e.left+l+t.collisionWidth-s-r,e.left+=l-n):e.left=c>0&&l<=0?r:l>c?r+s-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=o(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,c=a+t.collisionHeight-s-r;t.collisionHeight>s?l>0&&c<=0?(n=e.top+l+t.collisionHeight-s-r,e.top+=l-n):e.top=c>0&&l<=0?r:l>c?r+s-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?((n=e.left+h+p+f+t.collisionWidth-a-o)<0||n<s(u))&&(e.left+=h+p+f):d>0&&((i=e.left-t.collisionPosition.marginLeft+h+p+f-l)>0||s(i)<d)&&(e.left+=h+p+f)},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-a-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];u<0?((i=e.top+p+f+g+t.collisionHeight-a-o)<0||i<s(u))&&(e.top+=p+f+g):d>0&&((n=e.top-t.collisionPosition.marginTop+p+f+g-l)>0||s(n)<d)&&(e.top+=p+f+g)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=e._data(r,"events"),i&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,o,s,a={},l=t.split(".")[0];t=t.split(".")[1];var c=l+"-"+t;return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},r=e[l][t],o=e[l][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,i){if(!e.isFunction(i))return void(a[t]=i);a[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()}),o.prototype=e.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||t:t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,r,o=n.call(arguments,1),s=0,a=o.length;s<a;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&r!==undefined&&(e.isPlainObject(r)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],r):e.widget.extend({},r):t[i]=r);return t},e.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=n.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var n,i=e.data(this,r);return"instance"===o?(l=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a),n!==i&&n!==undefined?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):l=undefined:(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new i(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(r=s[t]=e.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return r[t]===undefined?null:r[t];r[t]=n}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,r;for(n in t)r=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&r&&r.length&&(i=e(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,o){var s,a;for(a=0;a<n.length;a++)s=r.classesElementLookup[n[a]]||e(),s=e(t.add?e.unique(s.get().concat(t.element.get())):s.not(t.element).get()),r.classesElementLookup[n[a]]=s,i.push(n[a]),o&&t.classes[n[a]]&&i.push(t.classes[n[a]])}var i=[],r=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,r){-1!==e.inArray(t.target,r)&&(n.classesElementLookup[i]=e(r.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,o={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function a(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,a):n.on(c,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("blind","hide",function(t,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=e(this),o=t.direction||"up",s=r.cssClip(),a={clip:e.extend({},s)},l=e.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]],"show"===t.mode&&(r.cssClip(a.clip),l&&l.css(e.effects.clipToBox(a)),a.clip=s),l&&l.animate(e.effects.clipToBox(a),t.duration,t.easing),r.animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:n})})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("bounce",function(t,n){var i,r,o,s=e(this),a=t.mode,l="hide"===a,c="show"===a,u=t.direction||"up",d=t.distance,h=t.times||5,p=2*h+(c||l?1:0),f=t.duration/p,g=t.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=0,b=s.queue().length;for(e.effects.createPlaceholder(s),o=s.css(m),d||(d=s["top"===m?"outerHeight":"outerWidth"]()/3),c&&(r={opacity:1},r[m]=o,s.css("opacity",0).css(m,v?2*-d:2*d).animate(r,f,g)),l&&(d/=Math.pow(2,h-1)),r={},r[m]=o;y<h;y++)i={},i[m]=(v?"-=":"+=")+d,s.animate(i,f,g).animate(r,f,g),d=l?2*d:d/2;l&&(i={opacity:0},i[m]=(v?"-=":"+=")+d,s.animate(i,f,g)),s.queue(n),e.effects.unshift(s,b,p+1)})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("clip","hide",function(t,n){var i,r={},o=e(this),s=t.direction||"vertical",a="both"===s,l=a||"horizontal"===s,c=a||"vertical"===s;i=o.cssClip(),r.clip={top:c?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:c?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},e.effects.createPlaceholder(o),"show"===t.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:n})})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("drop","hide",function(t,n){var i,r=e(this),o=t.mode,s="show"===o,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"-=":"+=",u="+="===c?"-=":"+=",d={opacity:0};e.effects.createPlaceholder(r),i=t.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,d[l]=c+i,s&&(r.css(d),d[l]=u+i,d.opacity=1),r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:n})})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("explode","hide",function(t,n){function i(){b.push(this),b.length===d*h&&r()}function r(){p.css({visibility:"visible"}),e(b).remove(),n()}var o,s,a,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,p=e(this),f=t.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/d),b=[];for(o=0;o<d;o++)for(l=m.top+o*y,u=o-(d-1)/2,s=0;s<h;s++)a=m.left+s*v,c=s-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(g?c*v:0),top:l+(g?u*y:0),opacity:g?0:1}).animate({left:a+(g?0:c*v),top:l+(g?0:u*y),opacity:g?1:0},t.duration||500,t.easing,i)})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("fade","toggle",function(t,n){var i="show"===t.mode;e(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:n})})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("fold","hide",function(t,n){var i=e(this),r=t.mode,o="show"===r,s="hide"===r,a=t.size||15,l=/([0-9]+)%/.exec(a),c=!!t.horizFirst,u=c?["right","bottom"]:["bottom","right"],d=t.duration/2,h=e.effects.createPlaceholder(i),p=i.cssClip(),f={clip:e.extend({},p)},g={clip:e.extend({},p)},m=[p[u[0]],p[u[1]]],v=i.queue().length;l&&(a=parseInt(l[1],10)/100*m[s?0:1]),f.clip[u[0]]=a,g.clip[u[0]]=a,g.clip[u[1]]=0,o&&(i.cssClip(g.clip),h&&h.css(e.effects.clipToBox(g)),g.clip=p),i.queue(function(n){h&&h.animate(e.effects.clipToBox(f),d,t.easing).animate(e.effects.clipToBox(g),d,t.easing),n()}).animate(f,d,t.easing).animate(g,d,t.easing).queue(n),e.effects.unshift(i,v,4)})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("highlight","show",function(t,n){var i=e(this),r={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(r.opacity=0),e.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:n})})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("size",function(t,n){var i,r,o,s=e(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=t.mode,d="effect"!==u,h=t.scale||"both",p=t.origin||["middle","center"],f=s.css("position"),g=s.position(),m=e.effects.scaledDimensions(s),v=t.from||m,y=t.to||e.effects.scaledDimensions(s,0);e.effects.createPlaceholder(s),"show"===u&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},"box"!==h&&"both"!==h||(r.from.y!==r.to.y&&(v=e.effects.setTransition(s,l,r.from.y,v),y=e.effects.setTransition(s,l,r.to.y,y)),r.from.x!==r.to.x&&(v=e.effects.setTransition(s,c,r.from.x,v),y=e.effects.setTransition(s,c,r.to.x,y))),"content"!==h&&"both"!==h||r.from.y!==r.to.y&&(v=e.effects.setTransition(s,a,r.from.y,v),y=e.effects.setTransition(s,a,r.to.y,y)),p&&(i=e.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,y.top=(m.outerHeight-y.outerHeight)*i.y+g.top,y.left=(m.outerWidth-y.outerWidth)*i.x+g.left),s.css(v),"content"!==h&&"both"!==h||(l=l.concat(["marginTop","marginBottom"]).concat(a),c=c.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var n=e(this),i=e.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=e.effects.setTransition(n,l,r.from.y,o),s=e.effects.setTransition(n,l,r.to.y,s)),r.from.x!==r.to.x&&(o=e.effects.setTransition(n,c,r.from.x,o),s=e.effects.setTransition(n,c,r.to.x,s)),d&&e.effects.saveStyle(n),n.css(o),n.animate(s,t.duration,t.easing,function(){d&&e.effects.restoreStyle(n)})})),s.animate(y,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=s.offset();0===y.opacity&&s.css("opacity",v.opacity),d||(s.css("position","static"===f?"relative":f).offset(t),e.effects.saveStyle(s)),n()}})})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect","./effect-size"],e):e(jQuery)}(function(e){return e.effects.define("scale",function(t,n){var i=e(this),r=t.mode,o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==r?0:100),s=e.extend(!0,{from:e.effects.scaledDimensions(i),to:e.effects.scaledDimensions(i,o,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(s.from.opacity=1,s.to.opacity=0),e.effects.effect.size.call(this,s,n)})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect","./effect-scale"],e):e(jQuery)}(function(e){return e.effects.define("puff","hide",function(t,n){var i=e.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,i,n)})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("pulsate","show",function(t,n){var i=e(this),r=t.mode,o="show"===r,s="hide"===r,a=o||s,l=2*(t.times||5)+(a?1:0),c=t.duration/l,u=0,d=1,h=i.queue().length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),u=1);d<l;d++)i.animate({opacity:u},c,t.easing),u=1-u;i.animate({opacity:u},c,t.easing),i.queue(n),e.effects.unshift(i,h,l+1)})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("shake",function(t,n){var i=1,r=e(this),o=t.direction||"left",s=t.distance||20,a=t.times||3,l=2*a+1,c=Math.round(t.duration/l),u="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o,h={},p={},f={},g=r.queue().length;for(e.effects.createPlaceholder(r),h[u]=(d?"-=":"+=")+s,p[u]=(d?"+=":"-=")+2*s,f[u]=(d?"-=":"+=")+2*s,r.animate(h,c,t.easing);i<a;i++)r.animate(p,c,t.easing).animate(f,c,t.easing);r.animate(p,c,t.easing).animate(h,c/2,t.easing).queue(n),e.effects.unshift(r,g,l+1)})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){return e.effects.define("slide","show",function(t,n){var i,r,o=e(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0),h={};e.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[c],h[c]=(u?-1:1)*d+r,h.clip=o.cssClip(),h.clip[s[l][1]]=h.clip[s[l][0]],"show"===a&&(o.cssClip(h.clip),o.css(c,h[c]),h.clip=i,h[c]=r),o.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:n})})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],e):e(jQuery)}(function(e){var t;return!1!==e.uiBackCompat&&(t=e.effects.define("transfer",function(t,n){e(this).transfer(t,n)})),t}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode","../unique-id","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,n,i=this.options.icons;i&&(t=e("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header),t.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){if("active"===e)return void this._activate(t);"event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),o=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),e(o).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(t=r.height(),this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each(function(){var n=e(this).is(":visible");n||e(this).show(),t=Math.max(t,e(this).css("height","").height()),n||e(this).hide()}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n,i,r=this.options,o=this.active,s=e(t.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,c=l?e():s.next(),u=o.next(),d={oldHeader:o,oldPanel:u,newHeader:l?e():s,newPanel:c};t.preventDefault(),a&&!r.collapsible||!1===this._trigger("beforeActivate",t,d)||(r.active=!l&&this.headers.index(s),this.active=a?e():s,this._toggle(d),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,r,o,s=this,a=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,h=function(){s._toggleComplete(n)};return"number"==typeof d&&(o=d),"string"==typeof d&&(r=d),r=r||d.easing||u.easing,o=o||d.duration||u.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-a),a=0)}})):t.animate(this.hideProps,o,r,h):e.animate(this.showProps,o,r,h)},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target),i=e(e.ui.safeActiveElement(this.document[0]))
;!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.target).closest(".ui-menu-item"),i=e(t.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var n,i,r,o,s=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,i=this.previousFilter||"",o=!1,r=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(t.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(t,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n,i,r,o,s=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev(),i=e("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),t=l.add(this.element),n=t.find(this.options.items),n.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&s._addClass(t,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=t.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;if(!this.active)return void this.next(t);this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))},previousPage:function(t){var n,i,r;if(!this.active)return void this.next(t);this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./menu","../keycode","../position","../safe-active-element","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){if(i)return i=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,n){var i,r;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),(i=n.item.attr("aria-label")||r.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(t,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||i)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),--this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<div>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete}),function(e){"function"==typeof define&&define.amd?define(["jquery","../widget"],e):e(jQuery)}(function(e){var t=/ui-corner-([a-z]){2,6}/g;return e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,n=[];e.each(this.options.items,function(i,r){var o,s={};if(r)return"controlgroupLabel"===i?(o=t.element.find(r),o.each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(e.fn[i]&&(s=t["_"+i+"Options"]?t["_"+i+"Options"]("middle"):{classes:{}},t.element.find(r).each(function(){var r=e(this),o=r[i]("instance"),a=e.widget.extend({},s);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(a.classes=t._resolveClassesValues(a.classes,o)),r[i](a);var l=r[i]("widget");e.data(l[0],"ui-controlgroup-data",o||r[i]("instance")),n.push(l[0])}})))}),this.childWidgets=e(e.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var n=e(this),i=n.data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(e,t){var n=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(n,i){var r={};return e.each(n,function(o){var s=i.options.classes[o]||"";s=e.trim(s.replace(t,"")),r[o]=(s+" "+n[o]).replace(/\s+/g," ")}),r},_setOption:function(e,t){if("direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"===e)return void this._callChildMethod(t?"disable":"enable");this.refresh()},refresh:function(){var t,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,i){var r=t[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===t.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(t[i](),i)}),this._callChildMethod("refresh"))}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../form-reset-mixin","../labels","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=e(n[n.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),t=this.element[0].disabled,null!=t&&(r.disabled=t),r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t,n=this.element[0].name,i="input[name='"+e.ui.escapeSelector(n)+"']";return n?(t=this.form.length?e(this.form[0].elements).filter(i):e(i).filter(function(){return 0===e(this).form().length}),t.not(this.element)):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==undefined&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio}),function(e){"function"==typeof define&&define.amd?define(["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,null!=e&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,n){var i="iconPosition"!==t,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=e.showLabel===undefined?this.options.showLabel:e.showLabel,n=e.icon===undefined?this.options.icon:e.icon;t||n||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){if("text"===e)return void this._super("showLabel",t);"showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode"],e):e(jQuery)}(function(e){function t(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,
changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,r)}function r(){e.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function o(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.extend(e.ui,{datepicker:{version:"1.12.1"}});var s;return e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,o;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),r),o.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[a?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),"focus"!==i&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r)),t[a?"before":"after"](n.trigger),n.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,r,s){var a,l,c,u,d,h=this._dialogInst;return h||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),o(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),s===r&&(s=null))},_enableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,s,a,l,c=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):c?"all"===n?e.extend({},c.settings):this._get(c,n):null;r=n||{},"string"==typeof n&&(r={},r[n]=i),c&&(this._curInst===c&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),o(c.settings,r),null!==a&&r.dateFormat!==undefined&&r.minDate===undefined&&(c.settings.minDate=this._formatDate(c,a)),null!==l&&r.dateFormat!==undefined&&r.maxDate===undefined&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,s),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,o=e.datepicker._getInst(t.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),r[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]),n=e.datepicker._get(o,"onSelect"),n?(i=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);if(e.datepicker._get(r,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(n){if(n=n.target||n,"input"!==n.nodeName.toLowerCase()&&(n=e("input",n.parentNode)[0]),!e.datepicker._isDisabledDatepicker(n)&&e.datepicker._lastInput!==n){var i,r,s,a,l,c,u;i=e.datepicker._getInst(n),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(i,"beforeShow"),s=r?r.apply(n,[n,i]):{},!1!==s&&(o(i.settings,s),i.lastVal=null,e.datepicker._lastInput=n,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(n.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(n),e.datepicker._pos[1]+=n.offsetHeight),a=!1,e(n).parents().each(function(){return!(a|="fixed"===e(this).css("position"))}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,a),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",t(e(n))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,"showOptions"),u):i.dpDiv[c||"show"](c?u:null),e.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,s=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),o=i[1],a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&r.apply(a.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-s:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+a?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+a):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,o,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[n]||e.effects[n])?s.dpDiv.hide(n,e.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(t,n,i,r){var o,s=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=e("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(o).val(r))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var r,o,s,a,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;return n&&r++,n},_=function(e){var t=w(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),s=n.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},C=function(t,i,r){var o=-1,s=e.map(w(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var i=t[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return o=t[0],l+=i.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+l},A=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||w("'")?A():b=!1;else switch(t.charAt(r)){case"d":v=_("d");break;case"D":C("D",d,h);break;case"o":y=_("o");break;case"m":m=_("m");break;case"M":m=C("M",p,f);break;case"y":g=_("y");break;case"@":a=new Date(_("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((_("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?A():b=!0;break;default:A()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=u?0:-100)),y>-1)for(m=1,v=y;;){if(o=this._getDaysInMonth(g,m-1),v<=o)break;m++,v-=o}if(a=this._daylightSavingAdjust(new Date(g,m-1,v)),a.getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},u=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),r,o);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),s,a);break;case"y":d+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,s=this._getFormatConfig(e);try{o=this.parseDate(n,i,s)||r}catch(e){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(r,o))}l=a.exec(n)}return new Date(r,o,s)},s=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return s=s&&"Invalid Date"===s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,s,a,l,c,u,d,h,p,f,g,m,v,y,b,w,_,C,A,S,$,x,k,E,P,F,D,T,B,L,M,R,I,O,N,z=new Date,U=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),W=this._get(e,"isRTL"),j=this._get(e,"showButtonPanel"),H=this._get(e,"hideIfNoPrevNext"),V=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),K=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),Y=1!==q[0]||1!==q[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-K,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),t=J&&t<J?J:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,n=this._get(e,"prevText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-G,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>":H?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=V?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Z+G,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>":H?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>",s=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?X:U,s=V?this.formatDate(s,a,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",C=0;C<q[0];C++){for(A="",this.maxRows=4,S=0;S<q[1];S++){if($=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),x=" ui-corner-all",k="",Y){if(k+="<div class='ui-datepicker-group",q[1]>1)switch(S){case 0:k+=" ui-datepicker-group-first",x=" ui-corner-"+(W?"right":"left");break;case q[1]-1:k+=" ui-datepicker-group-last",x=" ui-corner-"+(W?"left":"right");break;default:k+=" ui-datepicker-group-middle",x=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===C?W?o:i:"")+(/all|right/.test(x)&&0===C?W?i:o:"")+this._generateMonthYearHeader(e,Z,ee,J,Q,C>0||S>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",_=0;_<7;_++)P=(_+u)%7,E+="<th scope='col'"+((_+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[P]+"'>"+p[P]+"</span></th>";for(k+=E+"</tr></thead><tbody>",F=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,F)),D=(this._getFirstDayOfMonth(ee,Z)-u+7)%7,T=Math.ceil((D+F)/7),B=Y&&this.maxRows>T?this.maxRows:T,this.maxRows=B,L=this._daylightSavingAdjust(new Date(ee,Z,1-D)),M=0;M<B;M++){for(k+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(L)+"</td>":"",_=0;_<7;_++)I=m?m.apply(e.input?e.input[0]:null,[L]):[!0,""],O=L.getMonth()!==Z,N=O&&!y||!I[0]||J&&L<J||Q&&L>Q,R+="<td class='"+((_+u+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+(L.getTime()===$.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===L.getTime()&&b.getTime()===$.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!v?"":" "+I[1]+(L.getTime()===X.getTime()?" "+this._currentClass:"")+(L.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+(O&&!v||!I[2]?"":" title='"+I[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(O&&!v?"&#xa0;":N?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===U.getTime()?" ui-state-highlight":"")+(L.getTime()===X.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);k+=R+"</tr>"}Z++,Z>11&&(Z=0,ee++),k+="</tbody></table>"+(Y?"</div>"+(q[0]>0&&S===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),A+=k}w+=A}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,i,r,o,s,a){var l,c,u,d,h,p,f,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=r.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),g=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),r=e.selectedMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&t<n?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){
var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,a=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1",e.datepicker}),function(e){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,n.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(n).length||e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",t)&&n._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=e(r.containment),void((i=n[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))})},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(t,n,i){e.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",t),i.dropped=o.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-t.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-t.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(a).scrollTop()<r.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<r.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(a).scrollLeft()<r.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<r.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var r,o,s,a,l,c,u,d,h,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,c=l+i.snapElements[h].width,u=i.snapElements[h].top-i.margins.top,d=u+i.snapElements[h].height,v<l-g||m>c+g||b<u-g||y>d+g||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-b)<=g,o=Math.abs(d-y)<=g,s=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=r||o||s||a,"outer"!==f.snapMode&&(r=Math.abs(u-y)<=g,o=Math.abs(d-b)<=g,s=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||o||s||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,o=i.options,s=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}}),e.ui.draggable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n=this.options,i=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)t=e.trim(i[n]),r="ui-resizable-"+t,o=e("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(o);this._renderAxis=function(t){var n,i,r,o;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)((i=e(this.handles[n])[0])===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,o=this.axis,s=t.pageX-r.left||0,a=t.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,r,o,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:Infinity,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:Infinity},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){
var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&c&&(e.left=a-t.minWidth),i&&c&&(e.left=a-t.maxWidth),s&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(r[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,o,s,a,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:o,a=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:s,height:a}))},resize:function(t){var n,i,r,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,d={top:0,left:0},h=s.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),u&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-d.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-d.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};e(r.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(r[t]=n||null)}),t.css(r)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((r.width-o.width)/c)*c,h=Math.round((r.height-o.height)/u)*u,p=o.width+d,f=o.height+h,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),y&&(f+=u),g&&(p-=c),m&&(f-=u),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=s.top-h):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=s.left-d):((f-u<=0||p-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=s.top-h):(f=u-t.height,n.size.height=f,n.position.top=s.top+o.height-f),p-c>0?(n.size.width=p,n.position.left=s.left-d):(p=c-t.width,n.size.width=p,n.position.left=s.left+o.width-p))}}),e.ui.resizable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./button","./draggable","./mouse","./resizable","../focusable","../keycode","../position","../safe-active-element","../safe-blur","../tabbable","../unique-id","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",t),i},open:function(){var t=this;if(this._isOpen)return void(this._moveToTop()&&this._focusTabbable());this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function n(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){r.trigger("focus")}),t.preventDefault()):(this._delay(function(){i.trigger("focus")}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length)return void this._removeClass(this.uiDialog,"ui-dialog-buttons");e.each(n,function(n,i){var r,o;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,e("<button></button>",i).button(o).appendTo(t.uiButtonSet).on("click",function(){r.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(e(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,o){var s=o.offset.left-n.document.scrollLeft(),a=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},n._removeClass(e(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,r){n._addClass(e(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(r))},resize:function(e,i){n._trigger("resize",e,t(i))},stop:function(r,o){var s=n.uiDialog.offset(),a=s.left-n.document.scrollLeft(),l=s.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(e(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,n){var i,r,o=this.uiDialog;"disabled"!==t&&(this._super(t,n),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&(i=o.is(":data(ui-draggable)"),i&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(r=o.is(":data(ui-resizable)"),r&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),e.ui.dialog}),function(e){"function"==typeof define&&define.amd?define(["jquery","./draggable","./mouse","../version","../widget"],e):e(jQuery)}(function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(n)))},_drop:function(n,i){var r=i||e.ui.ddmanager.current,o=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&t(r,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,n))return o=!0,!1}),!o&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",n,this.ui(r)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,i,r){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=o+t.helperProportions.width,l=s+t.helperProportions.height,c=n.offset.left,u=n.offset.top,d=c+n.proportions().width,h=u+n.proportions().height;switch(i){case"fit":return c<=o&&a<=d&&u<=s&&l<=h;case"intersect":return c<o+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&u<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(r.pageY,u,n.proportions().height)&&e(r.pageX,c,n.proportions().width);case"touch":return(s>=u&&s<=h||l>=u&&l<=h||s<u&&l>h)&&(o>=c&&o<=d||a>=c&&a<=d||o<c&&a>d);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var i,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue e}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(n,i){var r=!1;return e.each((e.ui.ddmanager.droppables[n.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t(n,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(n,i){n.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(n,i),e.each(e.ui.ddmanager.droppables[n.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,o,s,a=t(n,this,this.options.tolerance,i),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(o=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o}),s.length&&(r=e(s[0]).droppable("instance"),r.greedyChild="isover"===l)),r&&"isover"===l&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,i),r&&"isout"===l&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable}),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=e("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===undefined)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===undefined&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./mouse","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.selectable",e.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var n=e(this),i=n.offset(),r={left:i.left-t.elementPos.left,top:i.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){
var i,r=e.data(this,"selectable-item");if(r)return i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=t.pageX,l=t.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),c=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?c=!(u.left>a||u.right<o||u.top>l||u.bottom<s):"fit"===r.tolerance&&(c=u.left>o&&u.right<a&&u.top>s&&u.bottom<l),c?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./menu","../escape-selector","../form-reset-mixin","../keycode","../labels","../position","../unique-id","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.selectmenu",[e.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=e()},_drawButton:function(){var t,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=e("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",e,{item:i}),t.isOpen||t._select(i,e)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var n=e("<span>");return this._setText(n,t.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(t,n){var i=this,r="";e.each(n,function(n,o){var s;o.optgroup!==r&&(s=e("<li>",{text:o.optgroup}),i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(t),r=o.optgroup),i._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>"),r=e("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0),i.length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+e.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)}this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;if(!1===e)return void this.button.css("width","");null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(t){var n=this,i=[];t.each(function(t,r){i.push(n._parseOption(e(r),t))}),this.items=i},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}])}),function(e){"function"==typeof define&&define.amd?define(["jquery","./mouse","../keycode","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;t<n;t++)o.push("<span tabindex='0'></span>");this.handles=r.add(e(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,s,a,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-c.values(t));(r>n||r===n&&(t===c._lastChangedValue||c.values(t)===u.min))&&(r=n,o=e(this),s=t)}),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-a.left-o.width()/2,top:t.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:t!==undefined?t:this.value()};return this._hasMultipleValues()&&(i.value=t!==undefined?t:this.values(e),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),r=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(i,n):Math.max(i,n)),o[t]=n),n!==r&&!1!==this._trigger("slide",e,this._uiHash(t,n,o))&&(this._hasMultipleValues()?this.values(t,n):this.value(n))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),this._super(t,n),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;e=Math.round((e-t)/n)*n+t,e>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,i,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(t){var n,i,r,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o)return i=e(this),!1}),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||e.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>a&&i+c<l,h="y"===this.options.axis||t+u>o&&t+u<s,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!i||!r)&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},
_getItemsAsjQuery:function(t){function n(){a.push(this)}var i,r,o,s,a=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(o=e(c[i],this.document[0]),r=o.length-1;r>=0;r--)(s=e.data(o[r],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=e(h[n],this.document[0]),i=r.length-1;i>=0;i--)(o=e.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(s=d[n][1],a=d[n][0],i=0,c=a.length;i<c;i++)l=e(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]);return t._addClass(r,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,r,o,s,a,l,c,u,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,u=h.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",d=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,t[d]-l>this.items[i][a]/2&&(c=!0),Math.abs(t[d]-l)<r&&(r=Math.abs(t[d]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./button","../version","../keycode","../safe-active-element","../widget"],e):e(jQuery)}(function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}return e.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),n=this.element;return e.each(["min","max","step"],function(e,i){var r=n.attr(i);null!=r&&r.length&&(t[i]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur)return void delete this.cancelBlur;this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){this.element[0]===e.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return t=null!==i.min?i.min:0,n=e-t,n=Math.round(n/i.step)*i.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var n,i,r;if("culture"===e||"numberFormat"===e)return n=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(n));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:t(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==e.uiBackCompat&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),e.ui.spinner}),function(e){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../keycode","../safe-active-element","../unique-id","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,i;n=t.href.replace(e,""),i=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}return t.hash.length>1&&n===i}}(),_create:function(){var t=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(n,r){if(e(r).attr("aria-controls")===i)return t=n,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(e.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function i(){return t>r&&(t=0),t<0&&(t=r),t}for(var r=this.tabs.length-1;-1!==e.inArray(i(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){if("active"===e)return void this._activate(t);this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=e(),this.anchors.each(function(n,i){var r,o,s,a=e(i).uniqueId().attr("id"),l=e(i).closest("li"),c=l.attr("aria-controls");t._isLocal(i)?(r=i.hash,s=r.substring(1),o=t.element.find(t._sanitizeSelector(r))):(s=l.attr("aria-controls")||e({}).uniqueId()[0].id,r="#"+s,o=t.element.find(r),o.length||(o=t._createPanel(s),o.insertAfter(t.panels[n-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var n,i,r;for(e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),r=0;i=this.tabs[r];r++)n=e(i),!0===t||-1!==e.inArray(r,t)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r.closest("li"),s=o[0]===i[0],a=s&&n.collapsible,l=a?e():this._getPanelForTab(o),c=i.length?this._getPanelForTab(i):e(),u={oldTab:i,oldPanel:c,newTab:a?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!n.collapsible||!1===this._trigger("beforeActivate",t,u)||(n.active=!a&&this.tabs.index(o),this.active=s?e():o,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,u))},_toggle:function(t,n){function i(){o.running=!1,o._trigger("activate",t,n)}function r(){o._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,i):(s.show(),i())}var o=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){o._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(t===undefined?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setOptionDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(t===undefined)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setOptionDisabled(n)}},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(e,t){
"abort"===t&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),s.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(e,t,r){setTimeout(function(){s.html(e),i._trigger("load",n,a),l(r,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,o){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==e.uiBackCompat&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),e.ui.tabs}),function(e){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../unique-id","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1),t.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=e([])},_setOption:function(t,n){var i=this;this._super(t,n),"content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i.element[0],t.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=e([])},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,r=this,o=t?t.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(t,e,i);(n=i.call(e[0],function(n){r._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=o),this._open(t,e,n))})}))&&this._open(t,e,n)},_open:function(t,n,i){function r(e){c.of=e,s.is(":hidden")||s.position(c)}var o,s,a,l,c=e.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),s=o.tooltip,this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),l=e("<div>").html(s.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):s.position(e.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(c.of),clearInterval(a))},e.fx.interval)),this._trigger("open",t,{tooltip:s})}},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,n,i)},close:function(t){var n,i=this,r=e(t?t.currentTarget:this.element),o=this._find(r);if(!o)return void r.removeData("ui-tooltip-open");n=o.tooltip,o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),o.closing=!0,this._trigger("close",t,{tooltip:n}),o.hiding||(o.closing=!1))},_tooltip:function(t){var n=e("<div>").attr("role","tooltip"),i=e("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(t)),this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],t.close(r,!0),e("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==e.uiBackCompat&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),e.ui.tooltip}),function(e){"use strict";function t(e){if(!_(e))return Qi;w(e.objectMaxDepth)&&(Qi.objectMaxDepth=n(e.objectMaxDepth)?e.objectMaxDepth:NaN)}function n(e){return S(e)&&e>0}function i(e,t){return t=t||Error,function(){var n,i,r=arguments[0],o=arguments[1],s="["+(e?e+":":"")+r+"] ",a=K(arguments,2).map(function(e){return $e(e,Qi.objectMaxDepth)});for(s+=o.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<a.length?a[t]:e}),s+="\nhttp://errors.angularjs.org/1.6.5/"+(e?e+"/":"")+r,i=0,n="?";i<a.length;i++,n="&")s+=n+"p"+i+"="+encodeURIComponent(a[i]);return new t(s)}}function r(e){if(null==e||P(e))return!1;if(br(e)||A(e)||ar&&e instanceof ar)return!0;var t="length"in Object(e)&&e.length;return S(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function o(e,t,n){var i,s;if(e)if(k(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(br(e)||r(e)){var a="object"!=typeof e;for(i=0,s=e.length;i<s;i++)(a||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(C(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)tr.call(e,i)&&t.call(n,e[i],i,e);return e}function s(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function a(e){return function(t,n){e(n,t)}}function l(){return++vr}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var s=t[r];if(_(s)||k(s))for(var a=Object.keys(s),l=0,d=a.length;l<d;l++){var h=a[l],p=s[h];n&&_(p)?$(p)?e[h]=new Date(p.valueOf()):E(p)?e[h]=new RegExp(p):p.nodeName?e[h]=p.cloneNode(!0):O(p)?e[h]=p.clone():(_(e[h])||(e[h]=br(p)?[]:{}),u(e[h],[p],!0)):e[h]=p}}return c(e,i),e}function d(e){return u(e,ur.call(arguments,1),!1)}function h(e){return u(e,ur.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function f(e,t){return d(Object.create(e),t)}function g(){}function m(e){return e}function v(e){return function(){return e}}function y(e){return k(e.toString)&&e.toString!==pr}function b(e){return void 0===e}function w(e){return void 0!==e}function _(e){return null!==e&&"object"==typeof e}function C(e){return null!==e&&"object"==typeof e&&!fr(e)}function A(e){return"string"==typeof e}function S(e){return"number"==typeof e}function $(e){return"[object Date]"===pr.call(e)}function x(e){switch(pr.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function k(e){return"function"==typeof e}function E(e){return"[object RegExp]"===pr.call(e)}function P(e){return e&&e.window===e}function F(e){return e&&e.$evalAsync&&e.$watch}function D(e){return"[object File]"===pr.call(e)}function T(e){return"[object FormData]"===pr.call(e)}function B(e){return"[object Blob]"===pr.call(e)}function L(e){return"boolean"==typeof e}function M(e){return e&&k(e.then)}function R(e){return e&&S(e.length)&&wr.test(pr.call(e))}function I(e){return"[object ArrayBuffer]"===pr.call(e)}function O(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function N(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function z(e){return nr(e.nodeName||e[0]&&e[0].nodeName)}function U(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function W(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function j(e,t,i){function r(e,t,n){if(--n<0)return"...";var i,r=t.$$hashKey;if(br(e))for(var o=0,a=e.length;o<a;o++)t.push(s(e[o],n));else if(C(e))for(i in e)t[i]=s(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=s(e[i],n));else for(i in e)tr.call(e,i)&&(t[i]=s(e[i],n));return c(t,r),t}function s(e,t){if(!_(e))return e;var n=l.indexOf(e);if(-1!==n)return u[n];if(P(e)||F(e))throw gr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,o=a(e);return o===undefined&&(o=br(e)?[]:Object.create(fr(e)),i=!0),l.push(e),u.push(o),i?r(e,o,t):o}function a(e){switch(pr.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(s(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(k(e.cloneNode))return e.cloneNode(!0)}var l=[],u=[];if(i=n(i)?i:NaN,t){if(R(t)||I(t))throw gr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw gr("cpi","Can't copy! Source and destination are identical.");return br(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),l.push(e),u.push(t),r(e,t,i)}return s(e,i)}function H(e,t){return e===t||e!==e&&t!==t}function V(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,r,o=typeof e,s=typeof t;if(o===s&&"object"===o){if(!br(e)){if($(e))return!!$(t)&&H(e.getTime(),t.getTime());if(E(e))return!!E(t)&&e.toString()===t.toString();if(F(e)||F(t)||P(e)||P(t)||br(t)||$(t)||E(t))return!1;r=we();for(i in e)if("$"!==i.charAt(0)&&!k(e[i])){if(!V(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&w(t[i])&&!k(t[i]))return!1;return!0}if(!br(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!V(e[i],t[i]))return!1;return!0}}return!1}function q(e,t,n){return e.concat(ur.call(t,n))}function K(e,t){return ur.call(e,t||0)}function G(e,t){var n=arguments.length>2?K(arguments,2):[];return!k(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,q(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function Y(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=undefined:P(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":F(n)&&(i="$SCOPE"),i}function X(e,t){return b(e)?undefined:(S(t)||(t=t?2:null),JSON.stringify(e,Y,t))}function J(e){return A(e)?JSON.parse(e):e}function Q(e,t){e=e.replace($r,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return yr(n)?t:n}function Z(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function ee(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return Z(e,n*(Q(t,i)-i))}function te(e){e=ar(e).clone().empty();var t=ar("<div>").append(e).html();try{return e[0].nodeType===Tr?nr(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+nr(t)})}catch(e){return nr(t)}}function ne(e){try{return decodeURIComponent(e)}catch(e){}}function ie(e){var t={};return o((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=ne(i),w(i)&&(r=!w(r)||ne(r),tr.call(t,i)?br(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function re(e){var t=[];return o(e,function(e,n){br(e)?o(e,function(e){t.push(se(n,!0)+(!0===e?"":"="+se(e,!0)))}):t.push(se(n,!0)+(!0===e?"":"="+se(e,!0)))}),t.length?t.join("&"):""}function oe(e){return se(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function se(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ae(e,t){var n,i,r=xr.length;for(i=0;i<r;++i)if(n=xr[i]+t,A(n=e.getAttribute(n)))return n;return null}function le(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var i=n.attributes;return[i.getNamedItem("src"),i.getNamedItem("href"),i.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}function ce(t,n){var i,r,s={};if(o(xr,function(e){var n=e+"app";!i&&t.hasAttribute&&t.hasAttribute(n)&&(i=t,r=t.getAttribute(n))}),o(xr,function(e){var n,o=e+"app";!i&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(o))}),i){if(!kr)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");s.strictDi=null!==ae(i,"strict-di"),n(i,r?[r]:[],s)}}function ue(t,n,i){_(i)||(i={}),i=d({strictDi:!1},i);var r=function(){if(t=ar(t),t.injector()){var r=t[0]===e.document?"document":te(t);throw gr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=ht(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!a.test(e.name))return r();e.name=e.name.replace(a,""),mr.resumeBootstrap=function(e){return o(e,function(e){n.push(e)}),r()},k(mr.resumeDeferredBootstrap)&&mr.resumeDeferredBootstrap()}function de(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function he(e){var t=mr.element(e).injector();if(!t)throw gr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function pe(e,t){return t=t||"_",e.replace(Er,function(e,n){return(n?t:"")+e.toLowerCase()})}function fe(){var t;if(!Pr){var n=Sr();lr=b(n)?e.jQuery:n?e[n]:undefined,lr&&lr.fn.on?(ar=lr,d(lr.fn,{scope:Yr.scope,isolateScope:Yr.isolateScope,controller:Yr.controller,injector:Yr.injector,inheritedData:Yr.inheritedData}),t=lr.cleanData,lr.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)(n=lr._data(i,"events"))&&n.$destroy&&lr(i).triggerHandler("$destroy");t(e)}):ar=Ie,mr.element=ar,Pr=!0}}function ge(e,t,n){if(!e)throw gr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function me(e,t,n){return n&&br(e)&&(e=e[e.length-1]),ge(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ve(e,t){if("hasOwnProperty"===e)throw gr("badname","hasOwnProperty is not a valid {0} name",t)}function ye(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,s=r.length,a=0;a<s;a++)i=r[a],e&&(e=(o=e)[i]);return!n&&k(e)?G(o,e):e}function be(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=ar(ur.call(e,0,r))),t.push(n));return t||e}function we(){return Object.create(null)}function _e(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!y(e)||br(e)||$(e)?X(e):e.toString()}return e}function Ce(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||i,t(o,"module",function(){var e={};return function(i,o,s){var a={};return function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)}(i,"module"),o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,t,n,i){return i||(i=l),function(){return i[n||"push"]([e,t,arguments]),h}}function t(e,t,n){return n||(n=l),function(r,o){return o&&k(o)&&(o.$$moduleName=i),n.push([e,t,arguments]),h}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var l=[],c=[],u=[],d=e("$injector","invoke","push",c),h={_invokeQueue:l,_configBlocks:c,_runBlocks:u,info:function(e){if(w(e)){if(!_(e))throw r("aobj","Argument '{0}' must be an object","value");return a=e,this}return a},requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator",c),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:d,run:function(e){return u.push(e),this}};return s&&d(s),h})}})}function Ae(e,t){if(br(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(_(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function Se(e,t){var i=[];return n(t)&&(e=mr.copy(e,null,t)),JSON.stringify(e,function(e,t){if(t=Y(e,t),_(t)){if(i.indexOf(t)>=0)return"...";i.push(t)}return t})}function $e(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):b(e)?"undefined":"string"!=typeof e?Se(e,t):e}function xe(n){d(n,{errorHandlingConfig:t,bootstrap:ue,copy:j,extend:d,merge:h,equals:V,element:ar,forEach:o,injector:ht,noop:g,bind:G,toJson:X,fromJson:J,identity:m,isUndefined:b,isDefined:w,isString:A,isFunction:k,isObject:_,isNumber:S,isElement:O,isArray:br,version:Rr,isDate:$,lowercase:nr,uppercase:ir,callbacks:{$$counter:0},getTestability:he,reloadWithDebugInfo:de,$$minErr:i,$$csp:Ar,$$encodeUriSegment:oe,$$encodeUriQuery:se,$$stringify:_e}),cr=Ce(e),cr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Mn}),e.provider("$compile",At).directive({a:ss,input:xs,textarea:xs,form:hs,script:wa,select:Aa,option:Sa,ngBind:Ps,ngBindHtml:Ds,ngBindTemplate:Fs,ngClass:Bs,ngClassEven:Ms,ngClassOdd:Ls,ngCloak:Rs,ngController:Is,ngForm:ps,ngHide:pa,ngIf:zs,ngInclude:Us,ngInit:js,ngNonBindable:ra,ngPluralize:la,ngRepeat:ca,ngShow:ha,ngStyle:fa,ngSwitch:ga,ngSwitchWhen:ma,ngSwitchDefault:va,ngOptions:aa,ngTransclude:ba,ngModel:ta,ngList:Hs,ngChange:Ts,pattern:xa,ngPattern:xa,required:$a,ngRequired:$a,minlength:Ea,ngMinlength:Ea,maxlength:ka,ngMaxlength:ka,ngValue:Es,ngModelOptions:ia}).directive({ngInclude:Ws}).directive(as).directive(Os),e.provider({$anchorScroll:pt,$animate:fo,$animateCss:vo,$$animateJs:ho,$$animateQueue:po,$$AnimateRunner:mo,$$animateAsyncRun:go,$browser:bt,$cacheFactory:wt,$controller:Pt,$document:Ft,$$isDocumentHidden:Dt,$exceptionHandler:Tt,$filter:Xn,$$forceReflow:So,$interpolate:qt,$interval:Kt,$http:Wt,$httpParamSerializer:Lt,$httpParamSerializerJQLike:Mt,$httpBackend:Ht,$xhrFactory:jt,$jsonpCallbacks:To,$location:cn,$log:un,$parse:xn,$rootScope:Ln,$q:kn,$$q:En,$sce:zn,$sceDelegate:Nn,$sniffer:Un,$templateCache:_t,$templateRequest:Wn,$$testability:jn,$timeout:Hn,$window:Kn,$$rAF:Bn,$$jqLite:ot,$$Map:to,$$cookieReader:Yn})}]).info({angularVersion:"1.6.5"})}function ke(){return++Or}function Ee(e){return Fe(e.replace(zr,"ms-"))}function Pe(e,t){return t.toUpperCase()}function Fe(e){return e.replace(Nr,Pe)}function De(e){return!Hr.test(e)}function Te(e){var t=e.nodeType;return t===Fr||!t||t===Lr}function Be(e){for(var t in Ir[e.ng339])return!0;return!1}function Le(e,t){var n,i,r,s,a=t.createDocumentFragment(),l=[];if(De(e))l.push(t.createTextNode(e));else{for(n=a.appendChild(t.createElement("div")),i=(Vr.exec(e)||["",""])[1].toLowerCase(),r=Kr[i]||Kr._default,n.innerHTML=r[1]+e.replace(qr,"<$1></$2>")+r[2],s=r[0];s--;)n=n.lastChild;l=q(l,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",o(l,function(e){a.appendChild(e)}),a}function Me(t,n){n=n||e.document;var i;return(i=jr.exec(t))?[n.createElement(i[1])]:(i=Le(t,n))?i.childNodes:[]}function Re(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Ie(e){if(e instanceof Ie)return e;var t;if(A(e)&&(e=_r(e),t=!0),!(this instanceof Ie)){if(t&&"<"!==e.charAt(0))throw Wr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ie(e)}t?Ke(this,Me(e)):k(e)?Ze(e):Ke(this,e)}function Oe(e){return e.cloneNode(!0)}function Ne(e,t){!t&&Te(e)&&ar.cleanData([e]),e.querySelectorAll&&ar.cleanData(e.querySelectorAll("*"))}function ze(e,t,n,i){if(w(i))throw Wr("offargs","jqLite#off() does not support the `selector` argument");var r=We(e),s=r&&r.events,a=r&&r.handle;if(a)if(t){var l=function(t){var i=s[t];w(n)&&W(i||[],n),w(n)&&i&&i.length>0||(e.removeEventListener(t,a),delete s[t])};o(t.split(" "),function(e){l(e),Ur[e]&&l(Ur[e])})}else for(t in s)"$destroy"!==t&&e.removeEventListener(t,a),delete s[t]}function Ue(e,t){var n=e.ng339,i=n&&Ir[n];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ze(e)),delete Ir[n],e.ng339=undefined}}function We(e,t){var n=e.ng339,i=n&&Ir[n];return t&&!i&&(e.ng339=n=ke(),i=Ir[n]={events:{},data:{},handle:undefined}),i}function je(e,t,n){if(Te(e)){var i,r=w(n),o=!r&&t&&!_(t),s=!t,a=We(e,!o),l=a&&a.data;if(r)l[Fe(t)]=n;else{if(s)return l;if(o)return l&&l[Fe(t)];for(i in t)l[Fe(i)]=t[i]}}}function He(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Ve(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",_r((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+_r(t)+" "," ")))})}function qe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=_r(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",_r(n))}}function Ke(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Ge(e,t){return Ye(e,"$"+(t||"ngController")+"Controller")}function Ye(e,t,n){e.nodeType===Lr&&(e=e.documentElement);for(var i=br(t)?t:[t];e;){for(var r=0,o=i.length;r<o;r++)if(w(n=ar.data(e,i[r])))return n;e=e.parentNode||e.nodeType===Mr&&e.host}}function Xe(e){for(Ne(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Je(e,t){t||Ne(e);var n=e.parentNode;n&&n.removeChild(e)}function Qe(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):ar(n).on("load",t)}function Ze(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function et(e,t){var n=Xr[t.toLowerCase()];return n&&Jr[z(e)]&&n}function tt(e){return Qr[e]}function nt(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(b(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var a=r.specialHandlerWrapper||it;o>1&&(r=Ae(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||a(e,n,r[l])}};return n.elem=e,n}function it(e,t,n){n.call(e,t)}function rt(e,t,n){var i=t.relatedTarget;i&&(i===e||Gr.call(e,i))||n.call(e,t)}function ot(){this.$get=function(){return d(Ie,{hasClass:function(e,t){return e.attr&&(e=e[0]),He(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),qe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ve(e,t)}})}}function st(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"===i||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||l)():i+":"+e}function at(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function lt(e){return Function.prototype.toString.call(e)}function ct(e){var t=lt(e).replace(so,"");return t.match(no)||t.match(io)}function ut(e){var t=ct(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function dt(e,t,n){var i,r,s;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw A(n)&&n||(n=e.name||ut(e)),ao("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=ct(e),o(r[1].split(ro),function(e){e.replace(oo,function(e,t,n){i.push(n)})})}e.$inject=i}}else br(e)?(s=e.length-1,me(e[s],"fn"),i=e.slice(0,s)):me(e,"fn",!0);return i}function ht(e,t){function n(e){return function(t,n){if(!_(t))return e(t,n);o(t,a(e))}}function i(e,t){if(ve(e,"service"),(k(t)||br(t))&&(t=C.instantiate(t)),!t.$get)throw ao("pget","Provider '{0}' must define $get factory method.",e);return w[e+g]=t}function r(e,t){return function(){var n=x.invoke(t,this);if(b(n))throw ao("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:!1!==n?r(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,v(t),!1)}function u(e,t){ve(e,"constant"),w[e]=t,S[e]=t}function d(e,t){var n=C.get(e+g),i=n.$get;n.$get=function(){var e=x.invoke(i,n);return x.invoke(t,null,{$delegate:e})}}function h(e){ge(b(e)||br(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=C.get(i[0]);r[i[1]].apply(r,i[2])}}if(!y.get(e)){y.set(e,!0);try{A(e)?(t=cr(e),x.modules[e]=t,n=n.concat(h(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):k(e)?n.push(C.invoke(e)):br(e)?n.push(C.invoke(e)):me(e,"module")}catch(t){throw br(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ao("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function p(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===f)throw ao("cdep","Circular dependency found: {0}",t+" <- "+m.join(" <- "));return e[t]}try{return m.unshift(t),e[t]=f,e[t]=n(t,i),e[t]}catch(n){throw e[t]===f&&delete e[t],n}finally{m.shift()}}function r(e,n,r){for(var o=[],s=ht.$$annotate(e,t,r),a=0,l=s.length;a<l;a++){var c=s[a];if("string"!=typeof c)throw ao("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:i(c,r))}return o}function o(e){if(sr||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return L(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(lt(e))),t}function s(e,t,n,i){"string"==typeof n&&(i=n,n=null);var s=r(e,n,i);return br(e)&&(e=e[e.length-1]),o(e)?(s.unshift(null),new(Function.prototype.bind.apply(e,s))):e.apply(t,s)}function a(e,t,n){var i=br(e)?e[e.length-1]:e,o=r(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:s,instantiate:a,get:i,annotate:ht.$$annotate,has:function(t){return w.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=!0===t;var f={},g="Provider",m=[],y=new eo,w={$provide:{provider:n(i),factory:n(s),service:n(l),value:n(c),constant:n(u),decorator:d}},C=w.$injector=p(w,function(e,t){throw mr.isString(t)&&m.push(t),ao("unpr","Unknown provider: {0}",m.join(" <- "))}),S={},$=p(S,function(e,t){var n=C.get(e+g,t);return x.invoke(n.$get,n,undefined,e)}),x=$;w["$injector"+g]={$get:v($)},x.modules=C.modules=we();var E=h(e);return x=$.get("$injector"),x.strictDi=t,o(E,function(e){e&&x.invoke(e)}),x}function pt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===z(e))return t=e,!0}),t}function o(){var e=a.yOffset;if(k(e))e=e();else if(O(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else S(e)||(e=0);return e}function s(e){if(e){e.scrollIntoView();var n=o();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function a(e){e=A(e)?e:S(e)?e.toString():n.hash();var t;e?(t=l.getElementById(e))?s(t):(t=r(l.getElementsByName(e)))?s(t):"top"===e&&s(null):s(null)}var l=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Qe(function(){i.$evalAsync(a)})}),a}]}function ft(e,t){return e||t?e?t?(br(e)&&(e=e.join(" ")),br(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function gt(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===co)return n}}function mt(e){A(e)&&(e=e.split(" "));var t=we();return o(e,function(e){e.length&&(t[e]=!0)}),t}function vt(e){return _(e)?e:{}}function yt(e,t,n,i){function r(e){try{e.apply(null,K(arguments,1))}finally{if(0===--v)for(;y.length;)try{y.pop()()}catch(e){n.error(e)}}}function s(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function a(){S=null,c()}function l(){w=$(),w=b(w)?null:w,V(w,E)&&(w=E),E=w,_=w}function c(){var e=_;l(),C===u.url()&&e===w||(C=u.url(),_=w,o(x,function(e){e(u.url(),w)}))}var u=this,d=e.location,h=e.history,p=e.setTimeout,f=e.clearTimeout,m={};u.isMock=!1;var v=0,y=[];u.$$completeOutstandingRequest=r,u.$$incOutstandingRequestCount=function(){v++},u.notifyWhenNoOutstandingRequests=function(e){0===v?e():y.push(e)};var w,_,C=d.href,A=t.find("base"),S=null,$=i.history?function(){try{return h.state}catch(e){}}:g;l(),u.url=function(t,n,r){if(b(r)&&(r=null),d!==e.location&&(d=e.location),h!==e.history&&(h=e.history),t){var o=_===r;if(C===t&&(!i.history||o))return u;var a=C&&Zt(C)===Zt(t);return C=t,_=r,!i.history||a&&o?(a||(S=t),n?d.replace(t):a?d.hash=s(t):d.href=t,d.href!==t&&(S=t)):(h[n?"replaceState":"pushState"](r,"",t),l()),S&&(S=t),u}return S||d.href.replace(/%27/g,"'")},u.state=function(){return w};var x=[],k=!1,E=null;u.onUrlChange=function(t){return k||(i.history&&ar(e).on("popstate",a),ar(e).on("hashchange",a),k=!0),x.push(t),t},
u.$$applicationDestroyed=function(){ar(e).off("hashchange popstate",a)},u.$$checkUrlChange=c,u.baseHref=function(){var e=A.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return v++,n=p(function(){delete m[n],r(e)},t||0),m[n]=!0,n},u.defer.cancel=function(e){return!!m[e]&&(delete m[e],f(e),r(g),!0)}}function bt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new yt(e,i,t,n)}]}function wt(){this.$get=function(){function e(e,n){function r(e){e!==h&&(p?p===e&&(p=e.n):p=e,o(e.n,e.p),o(e,h),h=e,h.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var s=0,a=d({},n,{id:e}),l=we(),c=n&&n.capacity||Number.MAX_VALUE,u=we(),h=null,p=null;return t[e]={put:function(e,t){if(!b(t)){if(c<Number.MAX_VALUE){r(u[e]||(u[e]={key:e}))}return e in l||s++,l[e]=t,s>c&&this.remove(p.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t===h&&(h=t.p),t===p&&(p=t.n),o(t.n,t.p),delete u[e]}e in l&&(delete l[e],s--)},removeAll:function(){l=we(),s=0,u=we(),h=p=null},destroy:function(){l=null,a=null,u=null,delete t[e]},info:function(){return d({},a,{size:s})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function _t(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ct(){}function At(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,r=we();return o(e,function(e,o){if(e in E)return void(r[o]=E[e]);var s=e.match(i);if(!s)throw yo("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(E[e]=r[o])}),r}function r(e,t){var n={isolateScope:null,bindToController:null};if(_(e.scope)&&(!0===e.bindToController?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),_(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw yo("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function s(e){var t=e.charAt(0);if(!t||t!==nr(t))throw yo("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw yo("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!br(t)&&_(t)&&o(t,function(e,n){var i=e.match(S);e.substring(i[0].length)||(t[n]=i[0]+n)}),t}function c(e,t){if(e&&(!A(e)||!/[EACM]/.test(e)))throw yo("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var u={},h="Directive",p=/^\s*directive:\s*([\w-]+)\s+(.*)$/,y=/(([\w-]+)(?::([^;]+))?;?)/,C=N("ngSrc,ngSrcset,src,srcset"),S=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,$=/^(on[a-z]+|formaction)$/,E=we();this.directive=function e(n,i){return ge(n,"name"),ve(n,"directive"),A(n)?(s(n),ge(i,"directiveFactory"),u.hasOwnProperty(n)||(u[n]=[],t.factory(n+h,["$injector","$exceptionHandler",function(e,t){var i=[];return o(u[n],function(r,o){try{var s=e.invoke(r);k(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=l(s),s.restrict=c(s.restrict,n),s.$$moduleName=r.$$moduleName,i.push(s)}catch(e){t(e)}}),i}])),u[n].push(i)):o(n,a(e)),this},this.component=function e(t,n){function i(e){function t(t){return k(t)||br(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var i=n.template||n.templateUrl?n.template:"",s={controller:r,controllerAs:Et(n.controller)||n.controllerAs||"$ctrl",template:t(i),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return o(n,function(e,t){"$"===t.charAt(0)&&(s[t]=e)}),s}if(!A(t))return o(t,a(G(this,e))),this;var r=n.controller||function(){};return o(n,function(e,t){"$"===t.charAt(0)&&(i[t]=e,k(r)&&(r[t]=e))}),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationWhitelist=function(e){return w(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var P=!0;this.debugInfoEnabled=function(e){return w(e)?(P=e,this):P};var D=!1;this.preAssignBindingsEnabled=function(e){return w(e)?(D=e,this):D};var T=10;this.onChangesTtl=function(e){return arguments.length?(T=e,this):T};var B=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(B=e,this):B};var M=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(M=e,this):M},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,i,s,a,l,c,v,E,R){function I(){try{if(!--Fe)throw $e=undefined,yo("infchng","{0} $onChanges() iterations reached. Aborting!\n",T);c.$apply(function(){for(var e=[],t=0,n=$e.length;t<n;++t)try{$e[t]()}catch(t){e.push(t)}if($e=undefined,e.length)throw e})}finally{Fe++}}function O(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function N(e,t,n){ke.innerHTML="<span "+t+">";var i=ke.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function U(e,t){try{e.addClass(t)}catch(e){}}function j(e,t,n,i,r){e instanceof ar||(e=ar(e));var o=Y(e,t,e,n,i,r);j.$$addScopeClass(e);var s=null;return function(t,n,i){if(!e)throw yo("multilink","This element has already been linked.");ge(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new()),i=i||{};var a=i.parentBoundTranscludeFn,l=i.transcludeControllers,c=i.futureParentElement;a&&a.$$boundTransclude&&(a=a.$$boundTransclude),s||(s=q(c));var u;if(u="html"!==s?ar(ve(s,ar("<div>").append(e).html())):n?Yr.clone.call(e):e,l)for(var d in l)u.data("$"+d+"Controller",l[d].instance);return j.$$addScopeInfo(u,t),n&&n(u,t),o&&o(t,u,u,a),n||(e=o=null),u}}function q(e){var t=e&&e[0];return t&&"foreignobject"!==z(t)&&pr.call(t).match(/SVG/)?"svg":"html"}function Y(e,t,n,i,r,o){function s(e,n,i,r){var o,s,a,l,c,u,d,h,g;if(p){var m=n.length;for(g=new Array(m),c=0;c<f.length;c+=3)d=f[c],g[d]=n[d]}else g=n;for(c=0,u=f.length;c<u;)a=g[f[c++]],o=f[c++],s=f[c++],o?(o.scope?(l=e.$new(),j.$$addScopeInfo(ar(a),l)):l=e,h=o.transcludeOnThisElement?J(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?J(e,t):null,o(s,l,a,i,h)):s&&s(e,a.childNodes,undefined,r)}for(var a,l,c,u,d,h,p,f=[],g=br(e)||e instanceof ar,m=0;m<e.length;m++)a=new O,11===sr&&X(e,m,g),l=Q(e[m],[],a,0===m?i:undefined,r),c=l.length?re(l,e[m],a,t,n,null,[],[],o):null,c&&c.scope&&j.$$addScopeClass(a.$$element),d=c&&c.terminal||!(u=e[m].childNodes)||!u.length?null:Y(u,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||d)&&(f.push(m,c,d),h=!0,p=p||c),o=null;return h?s:null}function X(e,t,n){var i,r=e[t],o=r.parentNode;if(r.nodeType===Tr)for(;;){if(!(i=o?r.nextSibling:e[t+1])||i.nodeType!==Tr)break;r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}}function J(e,t,n){function i(i,r,o,s,a){return i||(i=e.$new(!1,a),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var r=i.$$slots=we();for(var o in t.$$slots)t.$$slots[o]?r[o]=J(e,t.$$slots[o],n):r[o]=null;return i}function Q(e,t,n,i,r){var o,s,a,l=e.nodeType,c=n.$attr;switch(l){case Fr:s=z(e),le(t,$t(s),"E",i,r);for(var u,d,h,p,f,g,m=e.attributes,v=0,b=m&&m.length;v<b;v++){var w=!1,C=!1;u=m[v],d=u.name,f=u.value,p=$t(d),g=Me.test(p),g&&(d=d.replace(wo,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var S=p.match(Re);S&&ce(S[1])&&(w=d,C=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),h=$t(d.toLowerCase()),c[h]=d,!g&&n.hasOwnProperty(h)||(n[h]=f,et(e,h)&&(n[h]=!0)),be(e,t,f,h,g),le(t,h,"A",i,r,w,C)}if("input"===s&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Pe)break;if(a=e.className,_(a)&&(a=a.animVal),A(a)&&""!==a)for(;o=y.exec(a);)h=$t(o[2]),le(t,h,"C",i,r)&&(n[h]=_r(o[3])),a=a.substr(o.index+o[0].length);break;case Tr:me(t,e.nodeValue);break;case Br:if(!Ee)break;Z(e,t,n,i,r)}return t.sort(he),t}function Z(e,t,n,i,r){try{var o=p.exec(e.nodeValue);if(o){var s=$t(o[1]);le(t,s,"M",i,r)&&(n[s]=_r(o[2]))}}catch(e){}}function ee(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw yo("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===Fr&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return ar(i)}function ne(e,t,n){return function(i,r,o,s,a){return r=ee(r[0],t,n),e(i,r,o,s,a)}}function ie(e,t,n,i,r,o){var s;return e?j(t,n,i,r,o):function(){return s||(s=j(t,n,i,r,o),t=n=o=null),s.apply(this,arguments)}}function re(e,t,n,r,s,a,l,c,u){function h(e,t,n,i){e&&(n&&(e=ne(e,n,i)),e.require=f.require,e.directiveName=g,(S===f||f.$$isolateScope)&&(e=Ce(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=ne(t,n,i)),t.require=f.require,t.directiveName=g,(S===f||f.$$isolateScope)&&(t=Ce(t,{isolateScope:!0})),c.push(t))}function p(e,r,s,a,u){function h(e,t,n,i){var r;if(F(e)||(i=n,n=t,t=e,e=undefined),T&&(r=y),n||(n=T?x.parent():x),!i)return u(e,t,r,n,N);var o=u.$$slots[i];if(o)return o(e,t,r,n,N);if(b(o))throw yo("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,te(x))}var p,f,g,m,v,y,w,x,E,P;t===s?(E=n,x=n.$$element):(x=ar(s),E=new O(x,n)),v=r,S?m=r.$new(!0):C&&(v=r.$parent),u&&(w=h,w.$$boundTransclude=u,w.isSlotFilled=function(e){return!!u.$$slots[e]}),A&&(y=se(x,E,w,A,m,r,S)),S&&(j.$$addScopeInfo(x,m,!0,!($&&($===S||$===S.$$originalDirective))),j.$$addScopeClass(x,!0),m.$$isolateBindings=S.$$isolateBindings,P=Se(r,E,m,m.$$isolateBindings,S),P.removeWatches&&m.$on("$destroy",P.removeWatches));for(var B in y){var L=A[B],M=y[B],R=L.$$bindings.bindToController;if(D){M.bindingInfo=R?Se(v,E,M.instance,R,L):{};var I=M();I!==M.instance&&(M.instance=I,x.data("$"+L.name+"Controller",I),M.bindingInfo.removeWatches&&M.bindingInfo.removeWatches(),M.bindingInfo=Se(v,E,M.instance,R,L))}else M.instance=M(),x.data("$"+L.name+"Controller",M.instance),M.bindingInfo=Se(v,E,M.instance,R,L)}for(o(A,function(e,t){var n=e.require;e.bindToController&&!br(n)&&_(n)&&d(y[t].instance,oe(t,n,x,y))}),o(y,function(e){var t=e.instance;if(k(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){i(e)}if(k(t.$onInit))try{t.$onInit()}catch(e){i(e)}k(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),k(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),p=0,f=l.length;p<f;p++)g=l[p],Ae(g,g.isolateScope?m:r,x,E,g.require&&oe(g.directiveName,g.require,x,y),w);var N=r;for(S&&(S.template||null===S.templateUrl)&&(N=m),e&&e(N,s.childNodes,undefined,u),p=c.length-1;p>=0;p--)g=c[p],Ae(g,g.isolateScope?m:r,x,E,g.require&&oe(g.directiveName,g.require,x,y),w);o(y,function(e){var t=e.instance;k(t.$postLink)&&t.$postLink()})}u=u||{};for(var f,g,m,v,y,w=-Number.MAX_VALUE,C=u.newScopeDirective,A=u.controllerDirectives,S=u.newIsolateScopeDirective,$=u.templateDirective,x=u.nonTlbTranscludeDirective,E=!1,P=!1,T=u.hasElementTranscludeDirective,B=n.$$element=ar(t),L=a,M=r,R=!1,I=!1,N=0,U=e.length;N<U;N++){f=e[N];var W=f.$$start,H=f.$$end;if(W&&(B=ee(t,W,H)),m=undefined,w>f.priority)break;if(y=f.scope,y&&(f.templateUrl||(_(y)?(fe("new/isolated scope",S||C,f,B),S=f):fe("new/isolated scope",S,f,B)),C=C||f),g=f.name,!R&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(var V,q=N+1;V=e[q++];)if(V.transclude&&!V.$$tlb||V.replace&&(V.templateUrl||V.template)){I=!0;break}R=!0}if(!f.templateUrl&&f.controller&&(A=A||we(),fe("'"+g+"' controller",A[g],f,B),A[g]=f),y=f.transclude)if(E=!0,f.$$tlb||(fe("transclusion",x,f,B),x=f),"element"===y)T=!0,w=f.priority,m=B,B=n.$$element=ar(j.$$createComment(g,n[g])),t=B[0],_e(s,K(m),t),m[0].$$parentNode=m[0].parentNode,M=ie(I,m,r,w,L&&L.name,{nonTlbTranscludeDirective:x});else{var Y=we();if(_(y)){m=[];var X=we(),J=we();o(y,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,X[e]=t,Y[t]=null,J[t]=n}),o(B.contents(),function(e){var t=X[$t(z(e))];t?(J[t]=!0,Y[t]=Y[t]||[],Y[t].push(e)):m.push(e)}),o(J,function(e,t){if(!e)throw yo("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var Z in Y)Y[Z]&&(Y[Z]=ie(I,Y[Z],r))}else m=ar(Oe(t)).contents();B.empty(),M=ie(I,m,r,undefined,undefined,{needsNewScope:f.$$isolateScope||f.$$newScope}),M.$$slots=Y}if(f.template)if(P=!0,fe("template",$,f,B),$=f,y=k(f.template)?f.template(B,n):f.template,y=Le(y),f.replace){if(L=f,m=De(y)?[]:kt(ve(f.templateNamespace,_r(y))),t=m[0],1!==m.length||t.nodeType!==Fr)throw yo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");_e(s,B,t);var re={$attr:{}},le=Q(t,[],re),ce=e.splice(N+1,e.length-(N+1));(S||C)&&ae(le,S,C),e=e.concat(le).concat(ce),ue(n,re),U=e.length}else B.html(y);if(f.templateUrl)P=!0,fe("template",$,f,B),$=f,f.replace&&(L=f),p=de(e.splice(N,e.length-N),B,n,s,E&&M,l,c,{controllerDirectives:A,newScopeDirective:C!==f&&C,newIsolateScopeDirective:S,templateDirective:$,nonTlbTranscludeDirective:x}),U=e.length;else if(f.compile)try{v=f.compile(B,n,M);var he=f.$$originalDirective||f;k(v)?h(null,G(he,v),W,H):v&&h(G(he,v.pre),G(he,v.post),W,H)}catch(e){i(e,te(B))}f.terminal&&(p.terminal=!0,w=Math.max(w,f.priority))}return p.scope=C&&!0===C.scope,p.transcludeOnThisElement=E,p.templateOnThisElement=P,p.transclude=M,u.hasElementTranscludeDirective=T,p}function oe(e,t,n,i){var r;if(A(t)){var s=t.match(S),a=t.substring(s[0].length),l=s[1]||s[3],c="?"===s[2];if("^^"===l?n=n.parent():(r=i&&i[a],r=r&&r.instance),!r){var u="$"+a+"Controller";r=l?n.inheritedData(u):n.data(u)}if(!r&&!c)throw yo("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(br(t)){r=[];for(var d=0,h=t.length;d<h;d++)r[d]=oe(e,t[d],n,i)}else _(t)&&(r={},o(t,function(t,o){r[o]=oe(e,t,n,i)}));return r||null}function se(e,t,n,i,r,o,s){var a=we();for(var c in i){var u=i[c],d={$scope:u===s||u.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},h=u.controller;"@"===h&&(h=t[u.name]);var p=l(h,d,!0,u.controllerAs);a[u.name]=p,e.data("$"+u.name+"Controller",p.instance)}return a}function ae(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=f(e[i],{$$isolateScope:t,$$newScope:n})}function le(e,n,i,o,s,a,l){if(n===s)return null;var c=null;if(u.hasOwnProperty(n))for(var d,p=t.get(n+h),g=0,m=p.length;g<m;g++)if(d=p[g],(b(o)||o>d.priority)&&-1!==d.restrict.indexOf(i)){if(a&&(d=f(d,{$$start:a,$$end:l})),!d.$$bindings){var v=d.$$bindings=r(d,d.name);_(v.isolateScope)&&(d.$$isolateBindings=v.isolateScope)}e.push(d),c=d}return c}function ce(e){if(u.hasOwnProperty(e))for(var n,i=t.get(e+h),r=0,o=i.length;r<o;r++)if(n=i[r],n.multiElement)return!0;return!1}function ue(e,t){var n=t.$attr,i=e.$attr;o(e,function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i.length?i+=("style"===r?";":" ")+t[r]:i=t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function de(e,t,n,r,a,l,c,u){var d,h,p=[],g=t[0],m=e.shift(),v=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=k(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,b=m.templateNamespace;return t.empty(),s(y).then(function(i){var s,f,w,C;if(i=Le(i),m.replace){if(w=De(i)?[]:kt(ve(b,_r(i))),s=w[0],1!==w.length||s.nodeType!==Fr)throw yo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,y);f={$attr:{}},_e(r,t,s);var A=Q(s,[],f);_(m.scope)&&ae(A,!0),e=A.concat(e),ue(n,f)}else s=g,t.html(i);for(e.unshift(v),d=re(e,s,n,a,t,m,l,c,u),o(r,function(e,n){e===s&&(r[n]=t[0])}),h=Y(t[0].childNodes,a);p.length;){var S=p.shift(),$=p.shift(),x=p.shift(),k=p.shift(),E=t[0];if(!S.$$destroyed){if($!==g){var P=$.className;u.hasElementTranscludeDirective&&m.replace||(E=Oe(s)),_e(x,ar($),E),U(ar(E),P)}C=d.transcludeOnThisElement?J(S,d.transclude,k):k,d(h,S,E,r,C)}}p=null})["catch"](function(e){x(e)&&i(e)}),function(e,t,n,i,r){var o=r;t.$$destroyed||(p?p.push(t,n,i,o):(d.transcludeOnThisElement&&(o=J(t,d.transclude,r)),d(h,t,n,i,o)))}}function he(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function fe(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw yo("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,te(i))}function me(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&j.$$addBindingClass(t),function(e,t){var r=t.parent();n||j.$$addBindingClass(r),j.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function ve(t,n){switch(t=nr(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function ye(e,t){if("srcdoc"===t)return v.HTML;var n=z(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return v.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return v.RESOURCE_URL}function be(e,t,i,r,o){var s=ye(e,r),a=!o,l=C[r]||o,c=n(i,a,s,l);if(c){if("multiple"===r&&"select"===z(e))throw yo("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",te(e));if($.test(r))throw yo("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var a=o.$$observers||(o.$$observers=we()),u=o[r];u!==i&&(c=u&&n(u,!0,s,l),i=u),c&&(o[r]=c(e),(a[r]||(a[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||e).$watch(c,function(e,t){"class"===r&&e!==t?o.$updateClass(e,t):o.$set(r,e)}))}}}})}}function _e(t,n,i){var r,o,s=n[0],a=n.length,l=s.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]===s){t[r++]=i;for(var c=r,u=c+a-1,d=t.length;c<d;c++,u++)u<d?t[c]=t[u]:delete t[c];t.length-=a-1,t.context===s&&(t.context=i);break}l&&l.replaceChild(i,s);var h=e.document.createDocumentFragment();for(r=0;r<a;r++)h.appendChild(n[r]);for(ar.hasData(s)&&(ar.data(i,ar.data(s)),ar(s).off("$destroy")),ar.cleanData(h.querySelectorAll("*")),r=1;r<a;r++)delete n[r];n[0]=i,n.length=1}function Ce(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function Ae(e,t,n,r,o,s){try{e(t,n,r,o,s)}catch(e){i(e,te(n))}}function Se(e,t,i,r,s){function l(t,n,r){k(i.$onChanges)&&!H(n,r)&&($e||(e.$$postDigest(I),$e=[]),u||(u={},$e.push(c)),u[t]&&(r=u[t].previousValue),u[t]=new St(r,n))}function c(){i.$onChanges(u),u=undefined}var u,d=[],h={};return o(r,function(r,o){var c,u,p,f,m,v=r.attrName,y=r.optional,b=r.mode;switch(b){case"@":y||tr.call(t,v)||(i[o]=t[v]=undefined),m=t.$observe(v,function(e){if(A(e)||L(e)){var t=i[o];l(o,e,t),i[o]=e}}),t.$$observers[v].$$scope=e,c=t[v],A(c)?i[o]=n(c)(e):L(c)&&(i[o]=c),h[o]=new St(bo,i[o]),d.push(m);break;case"=":if(!tr.call(t,v)){if(y)break;t[v]=undefined}if(y&&!t[v])break;u=a(t[v]),f=u.literal?V:H,p=u.assign||function(){throw c=i[o]=u(e),yo("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,s.name)},c=i[o]=u(e);var w=function(t){return f(t,i[o])||(f(t,c)?p(e,t=i[o]):i[o]=t),c=t};w.$stateful=!0,m=r.collection?e.$watchCollection(t[v],w):e.$watch(a(t[v],w),null,u.literal),d.push(m);break;case"<":if(!tr.call(t,v)){if(y)break;t[v]=undefined}if(y&&!t[v])break;u=a(t[v]);var _=u.literal,C=i[o]=u(e);h[o]=new St(bo,i[o]),m=e.$watch(u,function(e,t){if(t===e){if(t===C||_&&V(t,C))return;t=C}l(o,e,t),i[o]=e},_),d.push(m);break;case"&":if((u=t.hasOwnProperty(v)?a(t[v]):g)===g&&y)break;i[o]=function(t){return u(e,t)}}}),{initialChanges:h,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var $e,xe=/^\w/,ke=e.document.createElement("div"),Ee=B,Pe=M,Fe=T;O.prototype={$normalize:$t,$addClass:function(e){e&&e.length>0&&E.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&E.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=xt(e,t);n&&n.length&&E.addClass(this.$$element,n);var i=xt(t,e);i&&i.length&&E.removeClass(this.$$element,i)},$set:function(e,t,n,r){var s,a=this.$$element[0],l=et(a,e),c=tt(e),u=e;if(l?(this.$$element.prop(e,t),r=l):c&&(this[c]=t,u=c),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=pe(e,"-")),"a"===(s=z(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===s&&"src"===e)this[e]=t=R(t,"src"===e);else if("img"===s&&"srcset"===e&&w(t)){for(var d="",h=_r(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(h)?p:/(,)/,g=h.split(f),m=Math.floor(g.length/2),v=0;v<m;v++){var y=2*v;d+=R(_r(g[y]),!0),d+=" "+_r(g[y+1])}var _=_r(g[2*v]).split(/\s/);d+=R(_r(_[0]),!0),2===_.length&&(d+=" "+_r(_[1])),this[e]=t=d}!1!==n&&(null===t||b(t)?this.$$element.removeAttr(r):xe.test(r)?this.$$element.attr(r,t):N(this.$$element[0],r,t));var C=this.$$observers;C&&o(C[u],function(e){try{e(t)}catch(e){i(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=we()),r=i[e]||(i[e]=[]);return r.push(t),c.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){W(r,t)}}};var Te=n.startSymbol(),Be=n.endSymbol(),Le="{{"===Te&&"}}"===Be?m:function(e){return e.replace(/\{\{/g,Te).replace(/}}/g,Be)},Me=/^ngAttr[A-Z]/,Re=/^(.+)Start$/;return j.$$addBindingInfo=P?function(e,t){var n=e.data("$binding")||[];br(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:g,j.$$addBindingClass=P?function(e){U(e,"ng-binding")}:g,j.$$addScopeInfo=P?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:g,j.$$addScopeClass=P?function(e,t){U(e,t?"ng-isolate-scope":"ng-scope")}:g,j.$$createComment=function(t,n){var i="";return P&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},j}]}function St(e,t){this.previousValue=e,this.currentValue=t}function $t(e){return e.replace(wo,"").replace(_o,Pe)}function xt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s===r[a])continue e;n+=(n.length>0?" ":"")+s}return n}function kt(e){e=ar(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===Br||n.nodeType===Tr&&""===n.nodeValue.trim())&&dr.call(e,t,1)}return e}function Et(e,t){if(t&&A(t))return t;if(A(e)){var n=Ao.exec(e);if(n)return n[3]}}function Pt(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){ve(t,"controller"),_(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,r){function o(e,t,n,r){if(!e||!_(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}return function(i,s,a,l){var c,u,h,p;if(a=!0===a,l&&A(l)&&(p=l),A(i)){if(!(u=i.match(Ao)))throw Co("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);if(h=u[1],p=p||u[3],!(i=e.hasOwnProperty(h)?e[h]:ye(s.$scope,h,!0)||(t?ye(r,h,!0):undefined)))throw Co("ctrlreg","The controller with the name '{0}' is not registered.",h);me(i,h,!0)}if(a){var f=(br(i)?i[i.length-1]:i).prototype;return c=Object.create(f||null),p&&o(s,p,c,h||i.name),d(function(){var e=n.invoke(i,c,s,h);return e!==c&&(_(e)||k(e))&&(c=e,p&&o(s,p,c,h||i.name)),c},{instance:c,identifier:p})}return c=n.instantiate(i,s,h),p&&o(s,p,c,h||i.name),c}}]}function Ft(){this.$get=["$window",function(e){return ar(e.document)}]}function Dt(){this.$get=["$document","$rootScope",function(e,t){function n(){r=i.hidden}var i=e[0],r=i&&i.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return r}}]}function Tt(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Bt(e){return _(e)?$(e)?e.toISOString():X(e):e}function Lt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return s(e,function(e,n){null===e||b(e)||(br(e)?o(e,function(e){t.push(se(n)+"="+se(Bt(e)))}):t.push(se(n)+"="+se(Bt(e))))}),t.join("&")}}}function Mt(){this.$get=function(){return function(e){function t(e,i,r){null===e||b(e)||(br(e)?o(e,function(e,n){t(e,i+"["+(_(e)?n:"")+"]")}):_(e)&&!$(e)?s(e,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):n.push(se(i)+"="+se(Bt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Rt(e,t){if(A(e)){var n=e.replace(Po,"").trim();if(n){var i=t("Content-Type");if(i&&0===i.indexOf($o)||It(n))try{e=J(n)}catch(t){throw Fo("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}return e}function It(e){var t=e.match(ko);return t&&Eo[t[0]].test(e)}function Ot(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=we();return A(e)?o(e.split("\n"),function(e){n=e.indexOf(":"),t(nr(_r(e.substr(0,n))),_r(e.substr(n+1)))}):_(e)&&o(e,function(e,n){t(nr(n),_r(e))}),i}function Nt(e){var t;return function(n){if(t||(t=Ot(e)),n){var i=t[nr(n)];return i===undefined&&(i=null),i}return t}}function zt(e,t,n,i){return k(i)?i(e,t,n):(o(i,function(i){e=i(e,t,n)}),e)}function Ut(e){return 200<=e&&e<300}function Wt(){var e=this.defaults={transformResponse:[Rt],transformRequest:[function(e){return!_(e)||D(e)||B(e)||T(e)?e:X(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ae(xo),put:Ae(xo),patch:Ae(xo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,s,a,l,c,u,h,p){function f(t){function n(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function s(){r.$$completeOutstandingRequest(g)}function a(e,t){var n,i={};return o(e,function(e,r){k(e)?null!=(n=e(t))&&(i[r]=n):i[r]=e}),i}function l(t){var n,i,r,o=e.headers,s=d({},t.headers);o=d({},o.common,o[nr(t.method)]);e:for(n in o){i=nr(n);for(r in s)if(nr(r)===i)continue e;s[n]=o[n]}return a(s,Ae(t))}function c(t){var n=t.headers,i=zt(t.data,Nt(n),undefined,t.transformRequest);return b(i)&&o(n,function(e,t){"content-type"===nr(t)&&delete n[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),y(t,i).then(f,f)}function f(e){var t=d({},e);return t.data=zt(e.data,e.headers,e.status,m.transformResponse),Ut(e.status)?t:u.reject(t)}if(!_(t))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!A(p.valueOf(t.url)))throw i("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url);var m=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);m.headers=l(t),m.method=ir(m.method),m.paramSerializer=A(m.paramSerializer)?h.get(m.paramSerializer):m.paramSerializer,r.$$incOutstandingRequestCount();var v=[],w=[],C=u.resolve(m);return o(x,function(e){(e.request||e.requestError)&&v.unshift(e.request,e.requestError),(e.response||e.responseError)&&w.push(e.response,e.responseError)}),C=n(C,v),C=C.then(c),C=n(C,w),C=C["finally"](s)}function m(){o(arguments,function(e){f[e]=function(t,n){return f(d({},n||{},{method:e,url:t}))}})}function v(){o(arguments,function(e){f[e]=function(t,n,i){return f(d({},i||{},{method:e,url:t,data:n}))}})}function y(n,i){function r(e){if(e){var n={};return o(e,function(e,i){n[i]=function(n){function i(){e(n)}t?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),n}}function l(e,n,i,r){function o(){d(n,e,i,r)}m&&(Ut(e)?m.put(P,[e,n,Ot(i),r]):m.remove(P)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function d(e,t,i,r){t=t>=-1?t:0,(Ut(t)?y.resolve:y.reject)({data:e,status:t,headers:Nt(i),config:n,statusText:r})}function h(e){d(e.data,e.status,Ae(e.headers()),e.statusText)}function g(){var e=f.pendingRequests.indexOf(n);-1!==e&&f.pendingRequests.splice(e,1)}var m,v,y=u.defer(),x=y.promise,k=n.headers,E="jsonp"===nr(n.method),P=n.url;if(E?P=p.getTrustedResourceUrl(P):A(P)||(P=p.valueOf(P)),P=C(P,n.paramSerializer(n.params)),E&&(P=S(P,n.jsonpCallbackParam)),f.pendingRequests.push(n),x.then(g,g),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(m=_(n.cache)?n.cache:_(e.cache)?e.cache:$),m&&(v=m.get(P),w(v)?M(v)?v.then(h,h):br(v)?d(v[1],v[0],Ae(v[2]),v[3]):d(v,200,{},"OK"):m.put(P,x)),b(v)){var F=qn(n.url)?a()[n.xsrfCookieName||e.xsrfCookieName]:undefined;F&&(k[n.xsrfHeaderName||e.xsrfHeaderName]=F),s(n.method,P,i,l,k,n.timeout,n.withCredentials,n.responseType,r(n.eventHandlers),r(n.uploadEventHandlers))}return x}function C(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}function S(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw Fo("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(new RegExp("[&?]"+t+"=").test(e))throw Fo("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e);return e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}var $=l("$http");e.paramSerializer=A(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var x=[];return o(n,function(e){x.unshift(A(e)?h.get(e):h.invoke(e))}),f.pendingRequests=[],m("get","delete","head","jsonp"),v("post","put","patch"),f.defaults=e,f}]}function jt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Ht(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return Vt(e,i,e.defer,t,n[0])}]}function Vt(e,t,n,i,r){function s(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=r.createElement("script"),s=null;return o.type="text/javascript",o.src=e,o.async=!0,s=function(e){o.removeEventListener("load",s),o.removeEventListener("error",s),r.body.removeChild(o),o=null;var a=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,a="error"===e.type?404:200),n&&n(a,l)},o.addEventListener("load",s),o.addEventListener("error",s),r.body.appendChild(o),s}return function(r,a,l,c,u,d,h,p,f,g){function m(){_&&_(),C&&C.abort()}function v(e,t,i,r,o){w(S)&&n.cancel(S),_=C=null,e(t,i,r,o)}if(a=a||e.url(),"jsonp"===nr(r))var y=i.createCallback(a),_=s(a,y,function(e,t){var n=200===e&&i.getResponse(y);v(c,e,n,"",t),i.removeCallback(y)});else{var C=t(r,a);C.open(r,a,!0),o(u,function(e,t){w(e)&&C.setRequestHeader(t,e)}),C.onload=function(){var e=C.statusText||"",t="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=t?200:"file"===Vn(a).protocol?404:0),v(c,n,t,C.getAllResponseHeaders(),e)};var A=function(){v(c,-1,null,null,"")};if(C.onerror=A,C.onabort=A,C.ontimeout=A,o(f,function(e,t){C.addEventListener(t,e)}),o(g,function(e,t){C.upload.addEventListener(t,e)}),h&&(C.withCredentials=!0),p)try{C.responseType=p}catch(e){if("json"!==p)throw e}C.send(b(l)?null:l)}if(d>0)var S=n(m,d);else M(d)&&d.then(m)}}function qt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function s(n){return n.replace(h,e).replace(p,t)}function a(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function l(o,l,h,p){function f(e){try{return e=F(e),p&&!w(e)?e:_e(e)}catch(e){i(Do.interr(o,e))}}if(!o.length||-1===o.indexOf(e)){var g;if(!l){g=v(s(o)),g.exp=o,g.expressions=[],g.$$watchDelegate=a}return g}p=!!p;for(var m,y,_,C=0,A=[],S=[],$=o.length,x=[],E=[];C<$;){if(-1===(m=o.indexOf(e,C))||-1===(y=o.indexOf(t,m+c))){C!==$&&x.push(s(o.substring(C)));break}C!==m&&x.push(s(o.substring(C,m))),_=o.substring(m+c,y),A.push(_),S.push(n(_,f)),C=y+u,E.push(x.length),x.push("")}if(h&&x.length>1&&Do.throwNoconcat(o),!l||A.length){var P=function(e){for(var t=0,n=A.length;t<n;t++){if(p&&b(e[t]))return;x[E[t]]=e[t]}return x.join("")},F=function(e){return h?r.getTrusted(h,e):r.valueOf(e)};return d(function(e){var t=0,n=A.length,r=new Array(n);try{for(;t<n;t++)r[t]=S[t](e);return P(r)}catch(e){i(Do.interr(o,e))}},{exp:o,expressions:A,$$watchDelegate:function(e,t){var n;return e.$watchGroup(S,function(i,r){var o=P(i)
;k(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var c=e.length,u=t.length,h=new RegExp(e.replace(/./g,o),"g"),p=new RegExp(t.replace(/./g,o),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function Kt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){function o(o,a,l,c){function u(){d?o.apply(null,h):o(g)}var d=arguments.length>4,h=d?K(arguments,4):[],p=t.setInterval,f=t.clearInterval,g=0,m=w(c)&&!c,v=(m?i:n).defer(),y=v.promise;return l=w(l)?l:0,y.$$intervalId=p(function(){m?r.defer(u):e.$evalAsync(u),v.notify(g++),l>0&&g>=l&&(v.resolve(g),f(y.$$intervalId),delete s[y.$$intervalId]),m||e.$apply()},a),s[y.$$intervalId]=v,y}var s={};return o.cancel=function(e){return!!(e&&e.$$intervalId in s)&&(Tn(s[e.$$intervalId].promise),s[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete s[e.$$intervalId],!0)},o}]}function Gt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=oe(t[n]);return t.join("/")}function Yt(e,t){var n=Vn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||Lo[n.protocol]||null}function Xt(e,t){if(Ro.test(e))throw Mo("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var i=Vn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=ie(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Jt(e,t){return e.slice(0,t.length)===t}function Qt(e,t){if(Jt(t,e))return t.substr(e.length)}function Zt(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function en(e){return e.replace(/(#.+)|#$/,"$1")}function tn(e){return e.substr(0,Zt(e).lastIndexOf("/")+1)}function nn(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function rn(e,t,n){this.$$html5=!0,n=n||"",Yt(e,this),this.$$parse=function(e){var n=Qt(t,e);if(!A(n))throw Mo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Xt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=re(this.$$search),n=this.$$hash?"#"+oe(this.$$hash):"";this.$$url=Gt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s,a;return w(o=Qt(e,i))?(s=o,a=n&&w(o=Qt(n,o))?t+(Qt("/",o)||o):e+s):w(o=Qt(t,i))?a=t+o:t===i+"/"&&(a=t),a&&this.$$parse(a),!!a}}function on(e,t,n){Yt(e,this),this.$$parse=function(i){function r(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return Jt(t,n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var o,s=Qt(e,i)||Qt(t,i);b(s)||"#"!==s.charAt(0)?this.$$html5?o=s:(o="",b(s)&&(e=i,this.replace())):(o=Qt(n,s),b(o)&&(o=s)),Xt(o,this),this.$$path=r(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=re(this.$$search),i=this.$$hash?"#"+oe(this.$$hash):"";this.$$url=Gt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t){return Zt(e)===Zt(t)&&(this.$$parse(t),!0)}}function sn(e,t,n){this.$$html5=!0,on.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return e===Zt(i)?o=i:(s=Qt(t,i))?o=e+n+s:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=re(this.$$search),i=this.$$hash?"#"+oe(this.$$hash):"";this.$$url=Gt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function an(e){return function(){return this[e]}}function ln(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function cn(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return L(e)?(t.enabled=e,this):_(e)?(L(e.enabled)&&(t.enabled=e.enabled),L(e.requireBase)&&(t.requireBase=e.requireBase),(L(e.rewriteLinks)||A(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(e,t,n){var r=c.url(),o=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(e){throw c.url(r),c.$$state=o,e}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u,d,h=i.baseHref(),p=i.url();if(t.enabled){if(!h&&t.requireBase)throw Mo("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=nn(p)+(h||"/"),u=r.history?rn:sn}else d=Zt(p),u=on;var f=tn(d);c=new u(d,f,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=i.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(e){var r=t.rewriteLinks;if(r&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var a=ar(e.target);"a"!==z(a[0]);)if(a[0]===o[0]||!(a=a.parent())[0])return;if(!A(r)||!b(a.attr(r))){var l=a.prop("href"),u=a.attr("href")||a.attr("xlink:href");_(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=Vn(l.animVal).href),g.test(l)||!l||a.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(l,u)&&(e.preventDefault(),c.absUrl()!==i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}}),en(c.absUrl())!==en(p)&&i.url(c.absUrl(),!0);var m=!0;return i.onUrlChange(function(e,t){if(!Jt(e,f))return void(s.location.href=e);n.$evalAsync(function(){var i,r=c.absUrl(),o=c.$$state;e=en(e),c.$$parse(e),c.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,c.absUrl()===e&&(i?(c.$$parse(r),c.$$state=o,a(r,!1,o)):(m=!1,l(r,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(m||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var e=en(i.url()),t=en(c.absUrl()),o=i.state(),s=c.$$replace,u=e!==t||c.$$html5&&r.history&&o!==c.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=c.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=o):(u&&a(t,s,o===c.$$state?null:c.$$state),l(e,o)))}))}c.$$replace=!1}),c}]}function un(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return x(e)&&(e.stack&&s?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||g;return function(){var e=[];return o(arguments,function(t){e.push(i(t))}),Function.prototype.apply.call(r,t,e)}}var s=sr||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function dn(e){return e+""}function hn(e,t){return void 0!==e?e:t}function pn(e,t){return void 0===e?t:void 0===t?e:e+t}function fn(e,t){return!e(t).$stateful}function gn(e,t){switch(e.type){case jo.MemberExpression:if(e.computed)return!1;break;case jo.UnaryExpression:return Ho;case jo.BinaryExpression:return"+"!==e.operator&&Ho;case jo.CallExpression:return!1}return undefined===t?Vo:t}function mn(e,t,n){var i,r,s,a=e.isPure=gn(e,n);switch(e.type){case jo.Program:i=!0,o(e.body,function(e){mn(e.expression,t,a),i=i&&e.expression.constant}),e.constant=i;break;case jo.Literal:e.constant=!0,e.toWatch=[];break;case jo.UnaryExpression:mn(e.argument,t,a),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case jo.BinaryExpression:mn(e.left,t,a),mn(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case jo.LogicalExpression:mn(e.left,t,a),mn(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case jo.ConditionalExpression:mn(e.test,t,a),mn(e.alternate,t,a),mn(e.consequent,t,a),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case jo.Identifier:e.constant=!1,e.toWatch=[e];break;case jo.MemberExpression:mn(e.object,t,a),e.computed&&mn(e.property,t,a),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case jo.CallExpression:s=!!e.filter&&fn(t,e.callee.name),i=s,r=[],o(e.arguments,function(e){mn(e,t,a),i=i&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=s?r:[e];break;case jo.AssignmentExpression:mn(e.left,t,a),mn(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case jo.ArrayExpression:i=!0,r=[],o(e.elements,function(e){mn(e,t,a),i=i&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=r;break;case jo.ObjectExpression:i=!0,r=[],o(e.properties,function(e){mn(e.value,t,a),i=i&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch),e.computed&&(mn(e.key,t,a),e.key.constant||r.push.apply(r,e.key.toWatch))}),e.constant=i,e.toWatch=r;break;case jo.ThisExpression:case jo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function vn(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:undefined}}function yn(e){return e.type===jo.Identifier||e.type===jo.MemberExpression}function bn(e){if(1===e.body.length&&yn(e.body[0].expression))return{type:jo.AssignmentExpression,left:e.body[0].expression,right:{type:jo.NGValueParameter},operator:"="}}function wn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===jo.Literal||e.body[0].expression.type===jo.ArrayExpression||e.body[0].expression.type===jo.ObjectExpression)}function _n(e){return e.constant}function Cn(e){this.$filter=e}function An(e){this.$filter=e}function Sn(e,t,n){this.ast=new jo(e,n),this.astCompiler=n.csp?new An(t):new Cn(t)}function $n(e){return k(e.valueOf)?e.valueOf():No.call(e)}function xn(){var e,t,n=we(),i={"true":!0,"false":!1,"null":null,undefined:undefined};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){function s(e,t){var i,o,s;switch(typeof e){case"string":if(e=e.trim(),s=e,!(i=n[s])){":"===e.charAt(0)&&":"===e.charAt(1)&&(o=!0,e=e.substring(2));i=new Sn(new Wo(f),r,f).parse(e),i.constant?i.$$watchDelegate=d:o?i.$$watchDelegate=i.literal?u:c:i.inputs&&(i.$$watchDelegate=l),n[s]=i}return h(i,t);case"function":return h(e,t);default:return h(g,t)}}function a(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=$n(e))&&!n)&&(e===t||e!==e&&t!==t)}function l(e,t,n,i,r){var o,s=i.inputs;if(1===s.length){var l=a;return s=s[0],e.$watch(function(e){var t=s(e);return a(t,l,s.isPure)||(o=i(e,undefined,undefined,[t]),l=t&&$n(t)),o},t,n,r)}for(var c=[],u=[],d=0,h=s.length;d<h;d++)c[d]=a,u[d]=null;return e.$watch(function(e){for(var t=!1,n=0,r=s.length;n<r;n++){var l=s[n](e);(t||(t=!a(l,c[n],s[n].isPure)))&&(u[n]=l,c[n]=l&&$n(l))}return t&&(o=i(e,undefined,undefined,u)),o},t,n,r)}function c(e,t,n,i,r){function o(e){return i(e)}function s(e,n,i){c=e,k(t)&&t(e,n,i),w(e)&&i.$$postDigest(function(){w(c)&&a()})}var a,c;return a=i.inputs?l(e,s,n,i,r):e.$watch(o,s,n)}function u(e,t,n,i){function r(e){var t=!0;return o(e,function(e){w(e)||(t=!1)}),t}var s,a;return s=e.$watch(function(e){return i(e)},function(e,n,i){a=e,k(t)&&t(e,n,i),r(e)&&i.$$postDigest(function(){r(a)&&s()})},n)}function d(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function h(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==u&&n!==c,o=r?function(n,r,o,s){var a=i&&s?s[0]:e(n,r,o,s);return t(a,n,r)}:function(n,i,r,o){var s=e(n,i,r,o),a=t(s,n,i);return w(s)?a:s};return i=!e.inputs,n&&n!==l?(o.$$watchDelegate=n,o.inputs=e.inputs):t.$stateful||(o.$$watchDelegate=l,o.inputs=e.inputs?e.inputs:[e]),o.inputs&&(o.inputs=o.inputs.map(function(e){return e.isPure===Vo?function(t){return e(t)}:e})),o}var p=Ar().noUnsafeEval,f={csp:p,literals:j(i),isIdentifierStart:k(e)&&e,isIdentifierContinue:k(t)&&t};return s}]}function kn(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Pn(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return w(t)?(e=t,this):e}}function En(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Pn(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return w(t)?(e=t,this):e}}function Pn(e,t,n){function r(){return new s}function s(){var e=this.promise=new a;this.resolve=function(t){h(e,t)},this.reject=function(t){f(e,t)},this.notify=function(t){m(e,t)}}function a(){this.$$state={status:0}}function l(t){var i,r,o;o=t.pending,t.processScheduled=!1,t.pending=undefined;try{for(var s=0,a=o.length;s<a;++s){Dn(t),r=o[s][0],i=o[s][t.status];try{k(i)?h(r,i(t.value)):1===t.status?h(r,t.value):f(r,t.value)}catch(e){f(r,e)}}}finally{--E,n&&0===E&&e(c)}}function c(){for(;!E&&P.length;){var e=P.shift();if(!Fn(e)){Dn(e);var n="Possibly unhandled rejection: "+$e(e.value);x(e.value)?t(e.value,n):t(n)}}}function u(t){!n||t.pending||2!==t.status||Fn(t)||(0===E&&0===P.length&&e(c),P.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++E,e(function(){l(t)}))}function h(e,t){e.$$state.status||(t===e?g(e,$("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):p(e,t))}function p(e,t){function n(t){s||(s=!0,p(e,t))}function i(t){s||(s=!0,g(e,t))}function r(t){m(e,t)}var o,s=!1;try{(_(t)||k(t))&&(o=t.then),k(o)?(e.$$state.status=-1,o.call(t,n,i,r)):(e.$$state.value=t,e.$$state.status=1,u(e.$$state))}catch(e){i(e)}}function f(e,t){e.$$state.status||g(e,t)}function g(e,t){e.$$state.value=t,e.$$state.status=2,u(e.$$state)}function m(n,i){var r=n.$$state.pending;n.$$state.status<=0&&r&&r.length&&e(function(){for(var e,n,o=0,s=r.length;o<s;o++){n=r[o][0],e=r[o][3];try{m(n,k(e)?e(i):i)}catch(e){t(e)}}})}function v(e){var t=new a;return f(t,e),t}function y(e,t,n){var i=null;try{k(n)&&(i=n())}catch(e){return v(e)}return M(i)?i.then(function(){return t(e)},v):t(e)}function w(e,t,n,i){var r=new a;return h(r,e),r.then(t,n,i)}function C(e){var t=new a,n=0,i=br(e)?[]:{};return o(e,function(e,r){n++,w(e).then(function(e){i[r]=e,--n||h(t,i)},function(e){f(t,e)})}),0===n&&h(t,i),t}function A(e){var t=r();return o(e,function(e){w(e).then(t.resolve,t.reject)}),t.promise}function S(e){function t(e){h(i,e)}function n(e){f(i,e)}if(!k(e))throw $("norslvr","Expected resolverFn, got '{0}'",e);var i=new a;return e(t,n),i}var $=i("$q",TypeError),E=0,P=[];d(a.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var i=new a;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&u(this.$$state),i},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return y(t,F,e)},function(t){return y(t,v,e)},t)}});var F=w;return S.prototype=a.prototype,S.defer=r,S.reject=v,S.when=w,S.resolve=F,S.all=C,S.race=A,S}function Fn(e){return!!e.pur}function Dn(e){e.pur=!0}function Tn(e){Dn(e.$$state)}function Bn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Ln(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=i("$rootScope"),s=null,a=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(i,c,u){function d(e){e.currentScope.$$destroyed=!0}function h(e){9===sr&&(e.$$childHead&&h(e.$$childHead),e.$$nextSibling&&h(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(e){if(S.$$phase)throw n("inprog","{0} already in progress",S.$$phase);S.$$phase=e}function m(){S.$$phase=null}function v(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function y(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function w(){}function C(){for(;E.length;)try{E.shift()()}catch(e){i(e)}a=null}function A(){null===a&&(a=u.defer(function(){S.$apply(C)}))}p.prototype={constructor:p,$new:function(t,n){var i;return n=n||this,t?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!==this)&&i.$on("$destroy",d),i},$watch:function(e,t,n,i){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,a=o.$$watchers,l={fn:t,last:w,get:r,exp:i||e,eq:!!n};return s=null,k(t)||(l.fn=g),a||(a=o.$$watchers=[],a.$$digestWatchIndex=-1),a.unshift(l),a.$$digestWatchIndex++,v(this,1),function(){var e=W(a,l);e>=0&&(v(o,-1),e<a.$$digestWatchIndex&&a.$$digestWatchIndex--),s=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(r,r,a)):t(r,i,a)}var i=new Array(e.length),r=new Array(e.length),s=[],a=this,l=!1,c=!0;if(!e.length){var u=!0;return a.$evalAsync(function(){u&&t(r,r,a)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){r[0]=e,i[0]=n,t(r,e===n?r:i,o)}):(o(e,function(e,t){var o=a.$watch(e,function(e,o){r[t]=e,i[t]=o,l||(l=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,i,a;if(!b(o)){if(_(o))if(r(o)){s!==p&&(s=p,m=s.length=0,d++),t=o.length,m!==t&&(d++,s.length=m=t);for(var l=0;l<t;l++)a=s[l],i=o[l],a!==a&&i!==i||a===i||(d++,s[l]=i)}else{s!==f&&(s=f={},m=0,d++),t=0;for(n in o)tr.call(o,n)&&(t++,i=o[n],a=s[n],n in s?a!==a&&i!==i||a===i||(d++,s[n]=i):(m++,s[n]=i,d++));if(m>t){d++;for(n in s)tr.call(o,n)||(m--,delete s[n])}}else s!==o&&(s=o,d++);return d}}function i(){if(g?(g=!1,t(o,o,l)):t(o,a,l),u)if(_(o))if(r(o)){a=new Array(o.length);for(var e=0;e<o.length;e++)a[e]=o[e]}else{a={};for(var n in o)tr.call(o,n)&&(a[n]=o[n])}else a=o}n.$stateful=!0;var o,s,a,l=this,u=t.length>1,d=0,h=c(e,n),p=[],f={},g=!0,m=0;return this.$watch(h,i)},$digest:function(){var e,r,o,l,c,d,h,p,g,v,y,b=t,_=this,A=[];f("$digest"),u.$$checkUrlChange(),this===S&&null!==a&&(u.defer.cancel(a),C()),s=null;do{h=!1,g=_;for(var E=0;E<$.length;E++){try{y=$[E],l=y.fn,l(y.scope,y.locals)}catch(e){i(e)}s=null}$.length=0;e:do{if(d=g.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(e=d[d.$$digestWatchIndex])if(c=e.get,(r=c(g))===(o=e.last)||(e.eq?V(r,o):yr(r)&&yr(o))){if(e===s){h=!1;break e}}else h=!0,s=e,e.last=e.eq?j(r,null):r,l=e.fn,l(r,o===w?r:o,g),b<5&&(v=4-b,A[v]||(A[v]=[]),A[v].push({msg:k(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:o}))}catch(e){i(e)}if(!(p=g.$$watchersCount&&g.$$childHead||g!==_&&g.$$nextSibling))for(;g!==_&&!(p=g.$$nextSibling);)g=g.$parent}while(g=p);if((h||$.length)&&!b--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,A)}while(h||$.length);for(m();P<x.length;)try{x[P++]()}catch(e){i(e)}x.length=P=0,u.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&u.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){S.$$phase||$.length||u.defer(function(){$.length&&S.$digest()}),$.push({scope:this,fn:c(e),locals:t})},$$postDigest:function(e){x.push(e)},$apply:function(e){try{f("$apply");try{return this.$eval(e)}finally{m()}}catch(e){i(e)}finally{try{S.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&E.push(t),e=c(e),A()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do{i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,y(r,1,e))}},$emit:function(e){var t,n,r,o=[],s=this,a=!1,l={name:e,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=q([l],arguments,1);do{for(t=s.$$listeners[e]||o,l.currentScope=s,n=0,r=t.length;n<r;n++)if(t[n])try{t[n].apply(null,c)}catch(e){i(e)}else t.splice(n,1),n--,r--;if(a)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(e){var t=this,n=t,r=t,o={name:e,targetScope:t,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!t.$$listenerCount[e])return o;for(var s,a,l,c=q([o],arguments,1);n=r;){for(o.currentScope=n,s=n.$$listeners[e]||[],a=0,l=s.length;a<l;a++)if(s[a])try{s[a].apply(null,c)}catch(e){i(e)}else s.splice(a,1),a--,l--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(r=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var S=new p,$=S.$$asyncQueue=[],x=S.$$postDigestQueue=[],E=S.$$applyAsyncQueue=[],P=0;return S}]}function Mn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=Vn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Rn(e){return e.replace(Go,Pe)}function In(e){if("self"===e)return e;if(A(e)){if(e.indexOf("***")>-1)throw qo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Cr(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(E(e))return new RegExp("^"+e.source+"$");throw qo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function On(e){var t=[];return w(e)&&o(e,function(e){t.push(In(e))}),t}function Nn(){this.SCE_CONTEXTS=Ko;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=On(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=On(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?qn(t):!!e.exec(t.href)}function r(n){var r,o,s=Vn(n.toString()),a=!1;for(r=0,o=e.length;r<o;r++)if(i(e[r],s)){a=!0;break}if(a)for(r=0,o=t.length;r<o;r++)if(i(t[r],s)){a=!1;break}return a}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw qo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw qo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function a(e){return e instanceof u?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||b(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Ko.RESOURCE_URL){if(r(t))return t;throw qo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Ko.HTML)return c(t);throw qo("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(){throw qo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var u=o(),d={};return d[Ko.HTML]=o(u),d[Ko.CSS]=o(u),d[Ko.URL]=o(u),d[Ko.JS]=o(u),d[Ko.RESOURCE_URL]=o(d[Ko.URL]),{trustAs:s,getTrusted:l,valueOf:a}}]}function zn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&sr<8)throw qo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=Ae(Ko);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=m),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(Ko,function(e,t){var n=nr(t);i[Rn("parse_as_"+n)]=function(t){return r(e,t)},i[Rn("get_trusted_"+n)]=function(t){return s(e,t)},i[Rn("trust_as_"+n)]=function(t){return a(e,t)}}),i}]}function Un(){this.$get=["$window","$document",function(e,t){var n={},i=e.nw&&e.nw.process,r=!i&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),o=!r&&e.history&&e.history.pushState,s=p((/android (\d+)/.exec(nr((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),l=t[0]||{},c=l.body&&l.body.style,u=!1,d=!1;return c&&(u=!!("transition"in c||"webkitTransition"in c),d=!!("animation"in c||"webkitAnimation"in c)),{history:!(!o||s<4||a),hasEvent:function(e){if("input"===e&&sr)return!1;if(b(n[e])){var t=l.createElement("div");n[e]="on"+e in t}return n[e]},csp:Ar(),transitions:u,animations:d,android:s}}]}function Wn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,o){function s(a,l){function c(e){return l||(e=Yo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText),t(e)),r.reject(e)}s.totalPendingRequests++,A(a)&&!b(n.get(a))||(a=o.getTrustedResourceUrl(a));var u=i.defaults&&i.defaults.transformResponse;return br(u)?u=u.filter(function(e){return e!==Rt}):u===Rt&&(u=null),i.get(a,d({cache:n,transformResponse:u},e))["finally"](function(){s.totalPendingRequests--}).then(function(e){return n.put(a,e.data),e.data},c)}return s.totalPendingRequests=0,s}]}function jn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),r=[];return o(i,function(e){var i=mr.element(e).data("$binding");i&&o(i,function(i){if(n){new RegExp("(^|\\s)"+Cr(t)+"(\\s|\\||$)").test(i)&&r.push(e)}else-1!==i.indexOf(t)&&r.push(e)})}),r},i.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",s="["+i[r]+"model"+o+'"'+t+'"]',a=e.querySelectorAll(s);if(a.length)return a}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function Hn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,a,l){k(o)||(l=a,a=o,o=g);var c,u=K(arguments,3),d=w(l)&&!l,h=(d?i:n).defer(),p=h.promise;return c=t.defer(function(){try{h.resolve(o.apply(null,u))}catch(e){h.reject(e),r(e)}finally{delete s[p.$$timeoutId]}d||e.$apply()},a),p.$$timeoutId=c,s[c]=h,p}var s={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in s)&&(Tn(s[e.$$timeoutId].promise),s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function Vn(e){var t=e;return sr&&(Xo.setAttribute("href",t),t=Xo.href),Xo.setAttribute("href",t),{href:Xo.href,protocol:Xo.protocol?Xo.protocol.replace(/:$/,""):"",host:Xo.host,search:Xo.search?Xo.search.replace(/^\?/,""):"",hash:Xo.hash?Xo.hash.replace(/^#/,""):"",hostname:Xo.hostname,port:Xo.port,pathname:"/"===Xo.pathname.charAt(0)?Xo.pathname:"/"+Xo.pathname}}function qn(e){var t=A(e)?Vn(e):e;return t.protocol===Jo.protocol&&t.host===Jo.host}function Kn(){this.$get=v(e)}function Gn(e){function t(e){try{return e.cookie||""}catch(e){return""}}function n(e){try{return decodeURIComponent(e)}catch(t){return e}}var i=e[0]||{},r={},o="";return function(){var e,s,a,l,c,u=t(i);if(u!==o)for(o=u,e=o.split("; "),r={},a=0;a<e.length;a++)s=e[a],(l=s.indexOf("="))>0&&(c=n(s.substring(0,l)),b(r[c])&&(r[c]=n(s.substring(l+1))));return r}}function Yn(){this.$get=Gn}function Xn(e){function t(i,r){if(_(i)){var s={};return o(i,function(e,n){s[n]=t(n,e)}),s}return e.factory(i+n,r)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",ti),t("date",mi),t("filter",Jn),t("json",vi),t("limitTo",yi),t("lowercase",rs),t("number",ni),t("orderBy",wi),t("uppercase",os)}function Jn(){return function(e,t,n,o){if(!r(e)){if(null==e)return e;throw i("filter")("notarray","Expected array but received: {0}",e)}o=o||"$";var s,a,l=ei(t);switch(l){case"function":s=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":s=Qn(t,n,o,a);break;default:return e}return Array.prototype.filter.call(e,s)}}function Qn(e,t,n,i){var r=_(e)&&n in e;return!0===t?t=V:k(t)||(t=function(e,t){return!b(e)&&(null===e||null===t?e===t:!(_(t)||_(e)&&!y(e))&&(e=nr(""+e),t=nr(""+t),-1!==e.indexOf(t)))}),function(o){return r&&!_(o)?Zn(o,e[n],t,n,!1):Zn(o,e,t,n,i)}}function Zn(e,t,n,i,r,o){var s=ei(e),a=ei(t);if("string"===a&&"!"===t.charAt(0))return!Zn(e,t.substring(1),n,i,r);if(br(e))return e.some(function(e){return Zn(e,t,n,i,r)});switch(s){case"object":var l;if(r){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&Zn(e[l],t,n,i,!0))return!0;return!o&&Zn(e,t,n,i,!1)}if("object"===a){for(l in t){var c=t[l];if(!k(c)&&!b(c)){var u=l===i;if(!Zn(u?e:e[l],c,n,i,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function ei(e){return null===e?"null":typeof e}function ti(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return b(n)&&(n=t.CURRENCY_SYM),b(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:oi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function ni(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:oi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function ii(e){var t,n,i,r,o,s=0;for((n=e.indexOf(Zo))>-1&&(e=e.replace(Zo,"")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===es;i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===es;)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return n>Qo&&(t=t.splice(0,Qo-1),s=n-1,n=1),{d:t,e:s,i:n}}function ri(e,t,n,i){var r=e.d,o=r.length-e.i;t=b(t)?Math.min(Math.max(n,o),i):+t;var s=t+e.i,a=r[s];if(s>0){r.splice(Math.max(e.i,s));for(var l=s;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,s=t+1),r[0]=0;for(var c=1;c<s;c++)r[c]=0}if(a>=5)if(s-1<0){for(var u=0;u>s;u--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[s-1]++;for(;o<Math.max(0,t);o++)r.push(0);var d=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);d&&(r.unshift(d),e.i++)}function oi(e,t,n,i,r){if(!A(e)&&!S(e)||isNaN(e))return"";var o,s=!isFinite(e),a=!1,l=Math.abs(e)+"",c="";if(s)c="\u221e";else{o=ii(l),ri(o,r,t.minFrac,t.maxFrac);var u=o.d,d=o.i,h=o.e,p=[];for(a=u.reduce(function(e,t){return e&&!t},!0);d<0;)u.unshift(0),d++;d>0?p=u.splice(d,u.length):(p=u,u=[0]);var f=[];for(u.length>=t.lgSize&&f.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)f.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&f.unshift(u.join("")),c=f.join(n),p.length&&(c+=i+p.join("")),h&&(c+="e+"+h)}return e<0&&!a?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function si(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e=es+e;return n&&(e=e.substr(e.length-t)),r+e}function ai(e,t,n,i,r){return n=n||0,function(o){var s=o["get"+e]();return(n>0||s>-n)&&(s+=n),0===s&&-12===n&&(s=12),si(s,t,i,r)}}function li(e,t,n){return function(i,r){var o=i["get"+e]();return r[ir((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function ci(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=si(Math[i>0?"floor":"ceil"](i/60),2)+si(Math.abs(i%60),2)}function ui(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}
function di(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function hi(e){return function(t){var n=ui(t.getFullYear()),i=di(t),r=+i-+n;return si(1+Math.round(r/6048e5),e)}}function pi(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function fi(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function gi(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function mi(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0,s=t[8]?i.setUTCFullYear:i.setFullYear,a=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=p(t[9]+t[10]),o=p(t[9]+t[11])),s.call(i,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-r,c=p(t[5]||0)-o,u=p(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(i,l,c,u,d),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,l="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,A(n)&&(n=is.test(n)?p(n):t(n)),S(n)&&(n=new Date(n)),!$(n)||!isFinite(n.getTime()))return n;for(;i;)a=ns.exec(i),a?(c=q(c,a,1),i=c.pop()):(c.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=Q(r,u),n=ee(n,r,!0)),o(c,function(t){s=ts[t],l+=s?s(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function vi(){return function(e,t){return b(t)&&(t=2),X(e,t)}}function yi(){return function(e,t,n){return t=Math.abs(Number(t))===Infinity?Number(t):p(t),yr(t)?e:(S(e)&&(e=e.toString()),r(e)?(n=!n||isNaN(n)?0:p(n),n=n<0?Math.max(0,e.length+n):n,t>=0?bi(e,n,n+t):0===n?bi(e,t,e.length):bi(e,Math.max(0,n+t),n)):e)}}function bi(e,t,n){return A(e)?e.slice(t,n):ur.call(e,t,n)}function wi(e){function t(t){return t.map(function(t){var n=1,i=m;if(k(t))i=t;else if(A(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return k(e.valueOf)&&(e=e.valueOf(),n(e))?e:(y(e)&&(e=e.toString(),n(e)),e)}function s(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function a(e,t){var n=0,i=e.type,r=t.type;if(i===r){var o=e.value,s=t.value;"string"===i?(o=o.toLowerCase(),s=s.toLowerCase()):"object"===i&&(_(o)&&(o=e.index),_(s)&&(s=t.index)),o!==s&&(n=o<s?-1:1)}else n=i<r?-1:1;return n}return function(e,n,o,l){function c(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:d.map(function(n){return s(n.get(e),t)})}}function u(e,t){for(var n=0,i=d.length;n<i;n++){var r=p(e.predicateValues[n],t.predicateValues[n]);if(r)return r*d[n].descending*h}return(p(e.tieBreaker,t.tieBreaker)||a(e.tieBreaker,t.tieBreaker))*h}if(null==e)return e;if(!r(e))throw i("orderBy")("notarray","Expected array but received: {0}",e);br(n)||(n=[n]),0===n.length&&(n=["+"]);var d=t(n),h=o?-1:1,p=k(l)?l:a,f=Array.prototype.map.call(e,c);return f.sort(u),e=f.map(function(e){return e.value})}}function _i(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function Ci(e,t){e.$name=t}function Ai(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=undefined,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=ls,this.$$element=e,this.$$animate=i,Si(this)}function Si(e){e.$$classCache={},e.$$classCache[qs]=!(e.$$classCache[Vs]=e.$$element.hasClass(Vs))}function $i(e){function t(e,t,n,i){e[t]||(e[t]={}),s(e[t],n,i)}function n(e,t,n,i){e[t]&&a(e[t],n,i),xi(e[t])&&(e[t]=undefined)}function i(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function r(e,t,n){t=t?"-"+pe(t,"-"):"",i(e,Vs+t,!0===n),i(e,qs+t,!1===n)}var o=e.clazz,s=e.set,a=e.unset;o.prototype.$setValidity=function(e,o,l){b(o)?t(this,"$pending",e,l):n(this,"$pending",e,l),L(o)?o?(a(this.$error,e,l),s(this.$$success,e,l)):(s(this.$error,e,l),a(this.$$success,e,l)):(a(this.$error,e,l),a(this.$$success,e,l)),this.$pending?(i(this,cs,!0),this.$valid=this.$invalid=undefined,r(this,"",null)):(i(this,cs,!1),this.$valid=xi(this.$error),this.$invalid=!this.$valid,r(this,"",this.$valid));var c;c=this.$pending&&this.$pending[e]?undefined:!this.$error[e]&&(!!this.$$success[e]||null),r(this,e,c),this.$$parentForm.$setValidity(e,c,this)}}function xi(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function ki(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Ei(e,t,n,i,r,o){Pi(e,t,n,i,r,o),ki(i)}function Pi(e,t,n,i,r,o){var s=nr(t[0].type);if(!r.android){var a=!1;t.on("compositionstart",function(){a=!0}),t.on("compositionend",function(){a=!1,c()})}var l,c=function(e){if(l&&(o.defer.cancel(l),l=null),!a){var r=t.val(),c=e&&e.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=_r(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,c)}};if(r.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),Ss[s]&&i.$$hasNativeValidators&&s===n.type&&t.on(As,function(e){if(!l){var t=this[er],n=t.badInput,i=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===i||c(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function Fi(e,t){if($(e))return e;if(A(e)){ws.lastIndex=0;var n=ws.exec(e);if(n){var i=+n[1],r=+n[2],o=0,s=0,a=0,l=0,c=ui(i),u=7*(r-1);return t&&(o=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,c.getDate()+u,o,s,a,l)}}return NaN}function Di(e,t){return function(n,i){var r,s;if($(n))return n;if(A(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),fs.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(e,n){n<t.length&&(s[t[n]]=+e)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function Ti(e,t,n,i){return function(r,o,s,a,l,c,u){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return w(e)&&!$(e)?n(e)||undefined:e}Bi(r,o,s,a),Pi(r,o,s,a,l,c);var p,f=a&&a.$options.getOption("timezone");if(a.$$parserName=e,a.$parsers.push(function(e){if(a.$isEmpty(e))return null;if(t.test(e)){var i=n(e,p);return f&&(i=ee(i,f)),i}return undefined}),a.$formatters.push(function(e){if(e&&!$(e))throw Zs("datefmt","Expected `{0}` to be a date",e);return d(e)?(p=e,p&&f&&(p=ee(p,f,!0)),u("date")(e,i,f)):(p=null,"")}),w(s.min)||s.ngMin){var g;a.$validators.min=function(e){return!d(e)||b(g)||n(e)>=g},s.$observe("min",function(e){g=h(e),a.$validate()})}if(w(s.max)||s.ngMax){var m;a.$validators.max=function(e){return!d(e)||b(m)||n(e)<=m},s.$observe("max",function(e){m=h(e),a.$validate()})}}}function Bi(e,t,n,i){var r=t[0];(i.$$hasNativeValidators=_(r.validity))&&i.$parsers.push(function(e){var n=t.prop(er)||{};return n.badInput||n.typeMismatch?undefined:e})}function Li(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:vs.test(t)?parseFloat(t):undefined}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!S(t))throw Zs("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function Mi(e){return w(e)&&!S(e)&&(e=parseFloat(e)),yr(e)?undefined:e}function Ri(e){return(0|e)===e}function Ii(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var i=/e-(\d+)$/.exec(t);if(i)return Number(i[1])}return 0}return t.length-n-1}function Oi(e,t,n){var i=Number(e),r=!Ri(i),o=!Ri(t),s=!Ri(n);if(r||o||s){var a=r?Ii(i):0,l=o?Ii(t):0,c=s?Ii(n):0,u=Math.max(a,l,c),d=Math.pow(10,u);i*=d,t*=d,n*=d,r&&(i=Math.round(i)),o&&(t=Math.round(t)),s&&(n=Math.round(n))}return(i-t)%n==0}function Ni(e,t,n,i,r,o){Bi(e,t,n,i),Li(i),Pi(e,t,n,i,r,o);var s,a;if((w(n.min)||n.ngMin)&&(i.$validators.min=function(e){return i.$isEmpty(e)||b(s)||e>=s},n.$observe("min",function(e){s=Mi(e),i.$validate()})),(w(n.max)||n.ngMax)&&(i.$validators.max=function(e){return i.$isEmpty(e)||b(a)||e<=a},n.$observe("max",function(e){a=Mi(e),i.$validate()})),w(n.step)||n.ngStep){var l;i.$validators.step=function(e,t){return i.$isEmpty(t)||b(l)||Oi(t,s||0,l)},n.$observe("step",function(e){l=Mi(e),i.$validate()})}}function zi(e,t,n,i,r,o){function s(e,i){t.attr(e,n[e]),n.$observe(e,i)}function a(e){if(d=Mi(e),!yr(i.$modelValue))if(u){var n=t.val();d>n&&(n=d,t.val(n)),i.$setViewValue(n)}else i.$validate()}function l(e){if(h=Mi(e),!yr(i.$modelValue))if(u){var n=t.val();h<n&&(t.val(h),n=h<d?d:h),i.$setViewValue(n)}else i.$validate()}function c(e){p=Mi(e),yr(i.$modelValue)||(u&&i.$viewValue!==t.val()?i.$setViewValue(t.val()):i.$validate())}Bi(e,t,n,i),Li(i),Pi(e,t,n,i,r,o);var u=i.$$hasNativeValidators&&"range"===t[0].type,d=u?0:undefined,h=u?100:undefined,p=u?1:undefined,f=t[0].validity,g=w(n.min),m=w(n.max),v=w(n.step),y=i.$render;i.$render=u&&w(f.rangeUnderflow)&&w(f.rangeOverflow)?function(){y(),i.$setViewValue(t.val())}:y,g&&(i.$validators.min=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||b(d)||t>=d},s("min",a)),m&&(i.$validators.max=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||b(h)||t<=h},s("max",l)),v&&(i.$validators.step=u?function(){return!f.stepMismatch}:function(e,t){return i.$isEmpty(t)||b(p)||Oi(t,d||0,p)},s("step",c))}function Ui(e,t,n,i,r,o){Pi(e,t,n,i,r,o),ki(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||gs.test(n)}}function Wi(e,t,n,i,r,o){Pi(e,t,n,i,r,o),ki(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||ms.test(n)}}function ji(e,t,n,i){var r=!n.ngTrim||"false"!==_r(n.ngTrim);b(n.name)&&t.attr("name",l());var o=function(e){var o;t[0].checked&&(o=n.value,r&&(o=_r(o)),i.$setViewValue(o,e&&e.type))};t.on("click",o),i.$render=function(){var e=n.value;r&&(e=_r(e)),t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)}function Hi(e,t,n,i,r){var o;if(w(i)){if(o=e(i),!o.constant)throw Zs("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}function Vi(e,t,n,i,r,o,s,a){var l=Hi(a,e,"ngTrueValue",n.ngTrueValue,!0),c=Hi(a,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return V(e,l)}),i.$parsers.push(function(e){return e?l:c})}function qi(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function i(e){return e&&e.split(" ")}function r(e){var t=e;return br(e)?t=e.map(r).join(" "):_(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function s(e){var t=e;if(br(e))t=e.map(s);else if(_(e)){var n=!1;t=Object.keys(e).filter(function(t){var i=e[t];return!n&&b(i)&&(n=!0),i}),n&&t.push(undefined)}return t}e="ngClass"+e;var a;return["$parse",function(l){return{restrict:"AC",link:function(c,u,d){function h(e){e=g(i(e),1),d.$addClass(e)}function p(e){e=g(i(e),-1),d.$removeClass(e)}function f(e,t){var r=i(e),o=i(t),s=n(r,o),a=n(o,r),l=g(s,-1),c=g(a,1);d.$addClass(c),d.$removeClass(l)}function g(e,t){var n=[];return o(e,function(e){(t>0||$[e])&&($[e]=($[e]||0)+t,$[e]===+(t>0)&&n.push(e))}),n.join(" ")}function m(e){e===t?h(b):p(b),x=e}function v(e){var t=r(e);t!==b&&y(t)}function y(e){x===t&&f(b,e),b=e}var b,w=d[e].trim(),_=":"===w.charAt(0)&&":"===w.charAt(1),C=_?s:r,A=l(w,C),S=_?v:y,$=u.data("$classCounts"),x=!0;$||($=we(),u.data("$classCounts",$)),"ngClass"!==e&&(a||(a=l("$index",function(e){return 1&e})),c.$watch(a,m)),c.$watch(A,S,_)}}}]}function Ki(e,t,n,i,r,o,s,a,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=undefined,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=undefined,this.$name=l(n.name||"",!1)(e),this.$$parentForm=ls,this.$options=ea,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=undefined,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=s,this.$$parse=r,this.$$q=a,this.$$exceptionHandler=t,Si(this),Gi(this)}function Gi(e){e.$$scope.$watch(function(t){var n=e.$$ngModelGet(t);if(n!==e.$modelValue&&(e.$modelValue===e.$modelValue||n===n)){e.$modelValue=e.$$rawModelValue=n,e.$$parserValid=undefined;for(var i=e.$formatters,r=i.length,o=n;r--;)o=i[r](o);e.$viewValue!==o&&(e.$$updateEmptyClasses(o),e.$viewValue=e.$$lastCommittedViewValue=o,e.$render(),e.$$runValidators(e.$modelValue,e.$viewValue,g))}return n})}function Yi(e){this.$$options=e}function Xi(e,t){o(t,function(t,n){w(e[n])||(e[n]=t)})}function Ji(e,t){e.prop("selected",t),e.attr("selected",t)}var Qi={objectMaxDepth:5},Zi=/^\/(.+)\/([a-z]*)$/,er="validity",tr=Object.prototype.hasOwnProperty,nr=function(e){return A(e)?e.toLowerCase():e},ir=function(e){return A(e)?e.toUpperCase():e},rr=function(e){return A(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},or=function(e){return A(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(nr=rr,ir=or);var sr,ar,lr,cr,ur=[].slice,dr=[].splice,hr=[].push,pr=Object.prototype.toString,fr=Object.getPrototypeOf,gr=i("ng"),mr=e.angular||(e.angular={}),vr=0;sr=e.document.documentMode;var yr=Number.isNaN||function(e){return e!==e};g.$inject=[],m.$inject=[];var br=Array.isArray,wr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,_r=function(e){return A(e)?e.trim():e},Cr=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ar=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!w(Ar.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Ar.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else Ar.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Ar.rules},Sr=function(){if(w(Sr.name_))return Sr.name_;var t,n,i,r,o=xr.length;for(n=0;n<o;++n)if(i=xr[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return Sr.name_=r},$r=/:/g,xr=["ng-","data-ng-","ng:","x-ng-"],kr=le(e.document),Er=/[A-Z]/g,Pr=!1,Fr=1,Dr=2,Tr=3,Br=8,Lr=9,Mr=11,Rr={full:"1.6.5",major:1,minor:6,dot:5,codeName:"toffee-salinization"};Ie.expando="ng339";var Ir=Ie.cache={},Or=1;Ie._data=function(e){return this.cache[e[this.expando]]||{}};var Nr=/-([a-z])/g,zr=/^-ms-/,Ur={mouseleave:"mouseout",mouseenter:"mouseover"},Wr=i("jqLite"),jr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Hr=/<|&#?\w+;/,Vr=/<([\w:-]+)/,qr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Kr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kr.optgroup=Kr.option,Kr.tbody=Kr.tfoot=Kr.colgroup=Kr.caption=Kr.thead,Kr.th=Kr.td;var Gr=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Yr=Ie.prototype={ready:Ze,toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return ar(e>=0?this[e]:this[this.length+e])},length:0,push:hr,sort:[].sort,splice:[].splice},Xr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Xr[nr(e)]=e});var Jr={};o("input,select,option,textarea,button,form,details".split(","),function(e){Jr[e]=!0});var Qr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:je,removeData:Ue,hasData:Be,cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Ue(e[t])}},function(e,t){Ie[t]=e}),o({data:je,inheritedData:Ye,scope:function(e){return ar.data(e,"$scope")||Ye(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return ar.data(e,"$isolateScope")||ar.data(e,"$isolateScopeNoTemplate")},controller:Ge,injector:function(e){return Ye(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:He,css:function(e,t,n){if(t=Ee(t),!w(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var i,r=e.nodeType;if(r!==Tr&&r!==Dr&&r!==Br&&e.getAttribute){var o=nr(t),s=Xr[o];if(!w(n))return i=e.getAttribute(t),s&&null!==i&&(i=o),null===i?undefined:i;null===n||!1===n&&s?e.removeAttribute(t):e.setAttribute(t,s?o:n)}},prop:function(e,t,n){if(!w(n))return e[t];e[t]=n},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===Fr||n===Tr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===z(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(b(t))return e.innerHTML;Ne(e,!0),e.innerHTML=t},empty:Xe},function(e,t){Ie.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==Xe&&b(2===e.length&&e!==He&&e!==Ge?t:n)){if(_(t)){for(i=0;i<o;i++)if(e===je)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var s=e.$dv,a=b(s)?Math.min(o,1):o,l=0;l<a;l++){var c=e(this[l],t,n);s=s?s+c:c}return s}for(i=0;i<o;i++)e(this[i],t,n);return this}}),o({removeData:Ue,on:function(e,t,n,i){if(w(i))throw Wr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Te(e)){var r=We(e,!0),o=r.events,s=r.handle;s||(s=r.handle=nt(e,o));for(var a=t.indexOf(" ")>=0?t.split(" "):[t],l=a.length,c=function(t,i,r){var a=o[t];a||(a=o[t]=[],a.specialHandlerWrapper=i,"$destroy"===t||r||e.addEventListener(t,s)),a.push(n)};l--;)t=a[l],Ur[t]?(c(Ur[t],rt),c(t,undefined,!0)):c(t)}},off:ze,one:function(e,t,n){e=ar(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;Ne(e),o(new Ie(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===Fr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Fr||n===Mr){t=new Ie(t);for(var i=0,r=t.length;i<r;i++){var o=t[i];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===Fr){var n=e.firstChild;o(new Ie(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Re(e,ar(t).eq(0).clone()[0])},remove:Je,detach:function(e){Je(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i){t=new Ie(t);for(var r=0,o=t.length;r<o;r++){var s=t[r];i.insertBefore(s,n.nextSibling),n=s}}},addClass:qe,removeClass:Ve,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;b(i)&&(i=!He(e,t)),(i?qe:Ve)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Mr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Oe,triggerHandler:function(e,t,n){var i,r,s,a=t.type||t,l=We(e),c=l&&l.events,u=c&&c[a];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:g,type:a,target:e},t.type&&(i=d(i,t)),r=Ae(u),s=n?[i].concat(n):[i],o(r,function(t){i.isImmediatePropagationStopped()||t.apply(e,s)}))}},function(e,t){Ie.prototype[t]=function(t,n,i){for(var r,o=0,s=this.length;o<s;o++)b(r)?(r=e(this[o],t,n,i),w(r)&&(r=ar(r))):Ke(r,e(this[o],t,n,i));return w(r)?r:this}}),Ie.prototype.bind=Ie.prototype.on,Ie.prototype.unbind=Ie.prototype.off;var Zr=Object.create(null);at.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e),this._lastIndex)},_transformKey:function(e){return yr(e)?Zr:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},"delete":function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var eo=at,to=[function(){this.$get=[function(){return eo}]}],no=/^([^(]+?)=>/,io=/^[^(]*\(\s*([^)]*)\)/m,ro=/,/,oo=/^\s*(_?)(\S+?)\1\s*$/,so=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ao=i("$injector");ht.$$annotate=dt;var lo=i("$animate"),co=1,uo="ng-animate",ho=function(){this.$get=g},po=function(){var e=new eo,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(e,t,n){var i=!1;return t&&(t=A(t)?t.split(" "):br(t)?t:[],o(t,function(t){t&&(i=!0,e[t]=n)})),i}function s(){o(t,function(t){var n=e.get(t);if(n){var i=mt(t.attr("class")),r="",s="";o(n,function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:s+=(s.length?" ":"")+t)}),o(t,function(e){r&&qe(e,r),s&&Ve(e,s)}),e["delete"](t)}}),t.length=0}function a(n,o,a){var l=e.get(n)||{},c=r(l,o,!0),u=r(l,a,!1);(c||u)&&(e.set(n,l),t.push(n),1===t.length&&i.$$postDigest(s))}return{enabled:g,on:g,off:g,pin:g,push:function(e,t,i,r){r&&r(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&a(e,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},fo=["$provide",function(e){var t=this,n=null,i=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw lo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.customFilter=function(e){return 1===arguments.length&&(i=k(e)?e:null),i},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){if(new RegExp("[(\\s|\\/)]"+uo+"[(\\s|\\/)]").test(n.toString()))throw n=null,lo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',uo)}return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=gt(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&ar(i),r=r&&ar(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",vt(o))},move:function(n,i,r,o){return i=i&&ar(i),r=r&&ar(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",vt(o))},leave:function(t,n){return e.push(t,"leave",vt(n),function(){t.remove()})},addClass:function(t,n,i){return i=vt(i),i.addClass=ft(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=vt(i),i.removeClass=ft(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=vt(r),r.addClass=ft(r.addClass,n),r.removeClass=ft(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=vt(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=ft(o.tempClasses,r),e.push(t,"animate",o)}}}]}],go=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},mo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,r){function s(e){this.setHost(e);var t=n(),o=function(e){r(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){i()?o(e):t(e)},this._state=0}var a=2;return s.chain=function(e,t){function n(){if(i===e.length)return void t(!0);e[i](function(e){if(!1===e)return void t(!1);i++,n()})}var i=0;n()},s.all=function(e,t){function n(n){r=r&&n,++i===e.length&&t(r)}var i=0,r=!0;o(e,function(e){e.done(n)})},s.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===a?e():this._doneCallbacks.push(e)},progress:g,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==a&&(o(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=a)}},s}]},vo=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){o(),a||l.complete(),a=!0}),l}function o(){s.addClass&&(t.addClass(s.addClass),s.addClass=null),s.removeClass&&(t.removeClass(s.removeClass),s.removeClass=null),s.to&&(t.css(s.to),s.to=null)}var s=i||{};s.$$prepared||(s=j(s)),s.cleanupStyles&&(s.from=s.to=null),s.from&&(t.css(s.from),s.from=null);var a,l=new n;return{start:r,end:r}}}]},yo=i("$compile"),bo=new Ct;At.$inject=["$provide","$$sanitizeUriProvider"],St.prototype.isFirstChange=function(){return this.previousValue===bo};var wo=/^((?:x|data)[:\-_])/i,_o=/[:\-_]+(.)/g,Co=i("$controller"),Ao=/^(\S+)(\s+as\s+([\w$]+))?$/,So=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof ar&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},$o="application/json",xo={"Content-Type":$o+";charset=utf-8"},ko=/^\[|^\{(?!\{)/,Eo={"[":/]$/,"{":/}$/},Po=/^\)]\}',?\n/,Fo=i("$http"),Do=mr.$interpolateMinErr=i("$interpolate");Do.throwNoconcat=function(e){throw Do("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Do.interr=function(e,t){return Do("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var To=function(){this.$get=function(){function e(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=mr.callbacks,n={};return{createCallback:function(){var i="_"+(t.$$counter++).toString(36),r="angular.callbacks."+i,o=e(i);return n[r]=t[i]=o,r},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){var i=n[e];delete t[i.id],delete n[e]}}}},Bo=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Lo={http:80,https:443,ftp:21},Mo=i("$location"),Ro=/^\s*[\\/]{2,}/,Io={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:an("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Bo.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:an("$$protocol"),host:an("$$host"),port:an("$$port"),path:ln("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(A(e)||S(e))e=e.toString(),this.$$search=ie(e);else{if(!_(e))throw Mo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=j(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:ln("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([sn,on,rn],function(e){e.prototype=Object.create(Io),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==rn||!this.$$html5)throw Mo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var Oo=i("$parse"),No={}.constructor.prototype.valueOf,zo=we();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){zo[e]=!0});var Uo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Wo=function(e){this.options=e};Wo.prototype={constructor:Wo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=zo[t],o=zo[n],s=zo[i];if(r||o||s){var a=s?i:o?n:t;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||"\xa0"===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Oo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=nr(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{n+=Uo[o]||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var jo=function(e,t){this.lexer=e,this.options=t};jo.Program="Program",jo.ExpressionStatement="ExpressionStatement",jo.AssignmentExpression="AssignmentExpression",
jo.ConditionalExpression="ConditionalExpression",jo.LogicalExpression="LogicalExpression",jo.BinaryExpression="BinaryExpression",jo.UnaryExpression="UnaryExpression",jo.CallExpression="CallExpression",jo.MemberExpression="MemberExpression",jo.Identifier="Identifier",jo.Literal="Literal",jo.ArrayExpression="ArrayExpression",jo.Property="Property",jo.ObjectExpression="ObjectExpression",jo.ThisExpression="ThisExpression",jo.LocalsExpression="LocalsExpression",jo.NGValueParameter="NGValueParameter",jo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:jo.Program,body:e}},expressionStatement:function(){return{type:jo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!yn(e))throw Oo("lval","Trying to assign a value to a non l-value");e={type:jo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:jo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:jo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:jo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:jo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:jo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:jo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:jo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:jo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=j(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:jo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:jo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:jo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:jo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:jo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:jo.Identifier,name:e.text}},constant:function(){return{type:jo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:jo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:jo.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:jo.ObjectExpression,properties:t}},throwError:function(e,t){throw Oo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Oo("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Oo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],s=o.text;if(s===t||s===n||s===i||s===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{"this":{type:jo.ThisExpression},$locals:{type:jo.LocalsExpression}}};var Ho=1,Vo=2;Cn.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},mn(e,t.$filter);var n,i="";if(this.stage="assign",n=bn(e)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r),this.return_(r),i="fn.assign="+this.generateFunction("assign","s,v,l")}var s=vn(e.body);t.stage="inputs",o(s,function(e,n){var i="fn"+n;t.state[i]={vars:[],body:[],own:{}},t.state.computing=i;var r=t.nextId();t.recurse(e,r),t.return_(r),t.state.inputs.push({name:i,isPure:e.isPure}),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,dn,hn,pn);return this.state=this.stage=undefined,l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,r,s){var a,l,c,u,d,h=this;if(i=i||g,!s&&w(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,r,!0));switch(e.type){case jo.Program:o(e.body,function(t,n){h.recurse(t.expression,undefined,undefined,function(e){l=e}),n!==e.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case jo.Literal:u=this.escape(e.value),this.assign(t,u),i(t||u);break;case jo.UnaryExpression:this.recurse(e.argument,undefined,undefined,function(e){l=e}),u=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,u),i(u);break;case jo.BinaryExpression:this.recurse(e.left,undefined,undefined,function(e){a=e}),this.recurse(e.right,undefined,undefined,function(e){l=e}),u="+"===e.operator?this.plus(a,l):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(l,0):"("+a+")"+e.operator+"("+l+")",this.assign(t,u),i(u);break;case jo.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),i(t);break;case jo.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),i(t);break;case jo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){r&&1!==r&&h.if_(h.isNull(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),i(t);break;case jo.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,a,undefined,function(){h.if_(h.notNull(a),function(){e.computed?(l=h.nextId(),h.recurse(e.property,l),h.getStringValue(l),r&&1!==r&&h.if_(h.not(h.computedMember(a,l)),h.lazyAssign(h.computedMember(a,l),"{}")),u=h.computedMember(a,l),h.assign(t,u),n&&(n.computed=!0,n.name=l)):(r&&1!==r&&h.if_(h.isNull(h.nonComputedMember(a,e.property.name)),h.lazyAssign(h.nonComputedMember(a,e.property.name),"{}")),u=h.nonComputedMember(a,e.property.name),h.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),i(t)},!!r);break;case jo.CallExpression:t=t||this.nextId(),e.filter?(l=h.filter(e.callee.name),c=[],o(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),c.push(t)}),u=l+"("+c.join(",")+")",h.assign(t,u),i(t)):(l=h.nextId(),a={},c=[],h.recurse(e.callee,l,a,function(){h.if_(h.notNull(l),function(){o(e.arguments,function(t){h.recurse(t,e.constant?undefined:h.nextId(),undefined,function(e){c.push(e)})}),u=a.name?h.member(a.context,a.name,a.computed)+"("+c.join(",")+")":l+"("+c.join(",")+")",h.assign(t,u)},function(){h.assign(t,"undefined")}),i(t)}));break;case jo.AssignmentExpression:l=this.nextId(),a={},this.recurse(e.left,undefined,a,function(){h.if_(h.notNull(a.context),function(){h.recurse(e.right,l),u=h.member(a.context,a.name,a.computed)+e.operator+l,h.assign(t,u),i(t||u)})},1);break;case jo.ArrayExpression:c=[],o(e.elements,function(t){h.recurse(t,e.constant?undefined:h.nextId(),undefined,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),i(t||u);break;case jo.ObjectExpression:c=[],d=!1,o(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),o(e.properties,function(e){e.computed?(a=h.nextId(),h.recurse(e.key,a)):a=e.key.type===jo.Identifier?e.key.name:""+e.key.value,l=h.nextId(),h.recurse(e.value,l),h.assign(h.member(t,a,e.computed),l)})):(o(e.properties,function(t){h.recurse(t.value,e.constant?undefined:h.nextId(),undefined,function(e){c.push(h.escape(t.key.type===jo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+c.join(",")+"}",this.assign(t,u)),i(t||u);break;case jo.ThisExpression:this.assign(t,"s"),i(t||"s");break;case jo.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case jo.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,i=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,o){var s=this;return function(){s.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(A(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(S(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Oo("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},An.prototype={compile:function(e){var t=this;mn(e,t.$filter);var n,i;(n=bn(e))&&(i=this.recurse(n));var r,s=vn(e.body);s&&(r=[],o(s,function(e,n){var i=t.recurse(e);i.isPure=e.isPure,e.input=i,r.push(i),e.watchId=n}));var a=[];o(e.body,function(e){a.push(t.recurse(e.expression))});var l=0===e.body.length?g:1===e.body.length?a[0]:function(e,t){var n;return o(a,function(i){n=i(e,t)}),n};return i&&(l.assign=function(e,t,n){return i(e,n,t)}),r&&(l.inputs=r),l},recurse:function(e,t,n){var i,r,s,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case jo.Literal:return this.value(e.value,t);case jo.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case jo.BinaryExpression:case jo.LogicalExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case jo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case jo.Identifier:return a.identifier(e.name,t,n);case jo.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(i,r,t,n):this.nonComputedMember(i,r,t,n);case jo.CallExpression:return s=[],o(e.arguments,function(e){s.push(a.recurse(e))}),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,n,i,o){for(var a=[],l=0;l<s.length;++l)a.push(s[l](e,n,i,o));var c=r.apply(undefined,a,o);return t?{context:undefined,name:undefined,value:c}:c}:function(e,n,i,o){var a,l=r(e,n,i,o);if(null!=l.value){for(var c=[],u=0;u<s.length;++u)c.push(s[u](e,n,i,o));a=l.value.apply(l.context,c)}return t?{value:a}:a};case jo.AssignmentExpression:return i=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,n,o,s){var a=i(e,n,o,s),l=r(e,n,o,s);return a.context[a.name]=l,t?{value:l}:l};case jo.ArrayExpression:return s=[],o(e.elements,function(e){s.push(a.recurse(e))}),function(e,n,i,r){for(var o=[],a=0;a<s.length;++a)o.push(s[a](e,n,i,r));return t?{value:o}:o};case jo.ObjectExpression:return s=[],o(e.properties,function(e){e.computed?s.push({key:a.recurse(e.key),computed:!0,value:a.recurse(e.value)}):s.push({key:e.key.type===jo.Identifier?e.key.name:""+e.key.value,computed:!1,value:a.recurse(e.value)})}),function(e,n,i,r){for(var o={},a=0;a<s.length;++a)s[a].computed?o[s[a].key(e,n,i,r)]=s[a].value(e,n,i,r):o[s[a].key]=s[a].value(e,n,i,r);return t?{value:o}:o};case jo.ThisExpression:return function(e){return t?{value:e}:e};case jo.LocalsExpression:return function(e,n){return t?{value:n}:n};case jo.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var s=e(n,i,r,o);return s=w(s)?+s:0,t?{value:s}:s}},"unary-":function(e,t){return function(n,i,r,o){var s=e(n,i,r,o);return s=w(s)?-s:-0,t?{value:s}:s}},"unary!":function(e,t){return function(n,i,r,o){var s=!e(n,i,r,o);return t?{value:s}:s}},"binary+":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s),l=t(i,r,o,s),c=pn(a,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s),l=t(i,r,o,s),c=(w(a)?a:0)-(w(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)*t(i,r,o,s);return n?{value:a}:a}},"binary/":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)/t(i,r,o,s);return n?{value:a}:a}},"binary%":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)%t(i,r,o,s);return n?{value:a}:a}},"binary===":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)===t(i,r,o,s);return n?{value:a}:a}},"binary!==":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)!==t(i,r,o,s);return n?{value:a}:a}},"binary==":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)==t(i,r,o,s);return n?{value:a}:a}},"binary!=":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)!=t(i,r,o,s);return n?{value:a}:a}},"binary<":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)<t(i,r,o,s);return n?{value:a}:a}},"binary>":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)>t(i,r,o,s);return n?{value:a}:a}},"binary<=":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)<=t(i,r,o,s);return n?{value:a}:a}},"binary>=":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)>=t(i,r,o,s);return n?{value:a}:a}},"binary&&":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)&&t(i,r,o,s);return n?{value:a}:a}},"binary||":function(e,t,n){return function(i,r,o,s){var a=e(i,r,o,s)||t(i,r,o,s);return n?{value:a}:a}},"ternary?:":function(e,t,n,i){return function(r,o,s,a){var l=e(r,o,s,a)?t(r,o,s,a):n(r,o,s,a);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:undefined,name:undefined,value:e}:e}},identifier:function(e,t,n){return function(i,r){var o=r&&e in r?r:i;n&&1!==n&&o&&null==o[e]&&(o[e]={});var s=o?o[e]:undefined;return t?{context:o,name:e,value:s}:s}},computedMember:function(e,t,n,i){return function(r,o,s,a){var l,c,u=e(r,o,s,a);return null!=u&&(l=t(r,o,s,a),l=dn(l),i&&1!==i&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,n,i){return function(r,o,s,a){var l=e(r,o,s,a);i&&1!==i&&l&&null==l[t]&&(l[t]={});var c=null!=l?l[t]:undefined;return n?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}},Sn.prototype={constructor:Sn,parse:function(e){var t=this.ast.ast(e),n=this.astCompiler.compile(t);return n.literal=wn(t),n.constant=_n(t),n}};var qo=i("$sce"),Ko={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Go=/_([a-z])/g,Yo=i("$compile"),Xo=e.document.createElement("a"),Jo=Vn(e.location.href);Gn.$inject=["$document"],Xn.$inject=["$provide"];var Qo=22,Zo=".",es="0";ti.$inject=["$locale"],ni.$inject=["$locale"];var ts={yyyy:ai("FullYear",4,0,!1,!0),yy:ai("FullYear",2,0,!0,!0),y:ai("FullYear",1,0,!1,!0),MMMM:li("Month"),MMM:li("Month",!0),MM:ai("Month",2,1),M:ai("Month",1,1),LLLL:li("Month",!1,!0),dd:ai("Date",2),d:ai("Date",1),HH:ai("Hours",2),H:ai("Hours",1),hh:ai("Hours",2,-12),h:ai("Hours",1,-12),mm:ai("Minutes",2),m:ai("Minutes",1),ss:ai("Seconds",2),s:ai("Seconds",1),sss:ai("Milliseconds",3),EEEE:li("Day"),EEE:li("Day",!0),a:pi,Z:ci,ww:hi(2),w:hi(1),G:fi,GG:fi,GGG:fi,GGGG:gi},ns=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,is=/^-?\d+$/;mi.$inject=["$locale"];var rs=v(nr),os=v(ir);wi.$inject=["$parse"];var ss=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===pr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),as={};o(Xr,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!==e){var i=$t("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),as[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(Qr,function(e,t){as[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(Zi);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=$t("ng-"+e);as[t]=function(){return{priority:99,link:function(n,i,r){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===pr.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(t,function(t){if(!t)return void("href"===e&&r.$set(s,null));r.$set(s,t),sr&&o&&i.prop(o,r[s])})}}}});var ls={$addControl:g,$$renameControl:Ci,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},cs="ng-pending",us="ng-submitted";Ai.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Ai.prototype={$rollbackViewValue:function(){o(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){ve(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],o(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),o(this.$error,function(t,n){this.$setValidity(n,null,e)},this),o(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),W(this.$$controls,e),e.$$parentForm=ls},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ks),this.$$animate.addClass(this.$$element,Gs),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ks,Gs+" "+us),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,us),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},$i({clazz:Ai,set:function(e,t,n){var i=e[t];if(i){-1===i.indexOf(n)&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(W(i,n),0===i.length&&delete e[t])}});var ds=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||g}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Ai,compile:function(n,r){n.addClass(Ks).addClass(Vs);var o=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,s){var a=s[0];if(!("action"in r)){var l=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}(s[1]||a.$$parentForm).$addControl(a);var c=o?i(a.$name):g;o&&(c(e,a),r.$observe(o,function(t){a.$name!==t&&(c(e,undefined),a.$$parentForm.$$renameControl(a,t),(c=i(a.$name))(e,a))})),n.on("$destroy",function(){a.$$parentForm.$removeControl(a),c(e,undefined),d(a,ls)})}}}}}]},hs=ds(),ps=ds(!0),fs=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,gs=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ms=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,vs=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ys=/^(\d{4,})-(\d{2})-(\d{2})$/,bs=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ws=/^(\d{4,})-W(\d\d)$/,_s=/^(\d{4,})-(\d\d)$/,Cs=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,As="keydown wheel mousedown",Ss=we();o("date,datetime-local,month,time,week".split(","),function(e){Ss[e]=!0});var $s={text:Ei,date:Ti("date",ys,Di(ys,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ti("datetimelocal",bs,Di(bs,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Ti("time",Cs,Di(Cs,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Ti("week",ws,Fi,"yyyy-Www"),month:Ti("month",_s,Di(_s,["yyyy","MM"]),"yyyy-MM"),number:Ni,url:Ui,email:Wi,radio:ji,range:zi,checkbox:Vi,hidden:g,button:g,submit:g,reset:g,file:g},xs=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&($s[nr(s.type)]||$s.text)(r,o,s,a[0],t,e,n,i)}}}}],ks=/^(true|false|\d+)$/,Es=function(){function e(e,t,n){var i=w(n)?n:9===sr?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return ks.test(n.ngValue)?function(t,n,i){e(n,i,t.$eval(i.ngValue))}:function(t,n,i){t.$watch(i.ngValue,function(t){e(n,i,t)})}}}},Ps=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=_e(e)})}}}}],Fs=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=b(e)?"":e})}}}}],Ds=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),s=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(s,function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")})}}}}],Ts=v({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Bs=qi("",!0),Ls=qi("Odd",0),Ms=qi("Even",1),Rs=_i({compile:function(e,t){t.$set("ngCloak",undefined),e.removeClass("ng-cloak")}}),Is=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Os={},Ns={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=$t("ng-"+e);Os[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[t]);return function(t,n){n.on(e,function(n){var r=function(){s(t,{$event:n})};Ns[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var zs=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,l,c;n.$watch(r.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),a={clone:n},e.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),a&&(c=be(a.clone),e.leave(c).done(function(e){!1!==e&&(c=null)}),a=null))})}}}],Us=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:mr.noop,compile:function(i,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(i,r,l,c,u){var d,h,p,f=0,g=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).done(function(e){!1!==e&&(h=null)}),h=p,p=null)};i.$watch(o,function(o){var l=function(e){!1===e||!w(a)||a&&!i.$eval(a)||t()},h=++f;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&h===f){var t=i.$new();c.template=e;var a=u(t,function(e){g(),n.enter(e,null,r).done(l)});d=t,p=a,d.$emit("$includeContentLoaded",o),i.$eval(s)}},function(){i.$$destroyed||h===f&&(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),c.template=null)})}}}}],Ws=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){if(pr.call(i[0]).match(/SVG/))return i.empty(),void t(Le(o.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i});i.html(o.template),t(i.contents())(n)}}}],js=_i({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Hs=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",s="false"!==n.ngTrim,a=s?_r(r):r,l=function(e){if(!b(e)){var t=[];return e&&o(e.split(a),function(e){e&&t.push(s?_r(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return br(e)?e.join(r):undefined}),i.$isEmpty=function(e){return!e||!e.length}}}},Vs="ng-valid",qs="ng-invalid",Ks="ng-pristine",Gs="ng-dirty",Ys="ng-untouched",Xs="ng-touched",Js="ng-empty",Qs="ng-not-empty",Zs=i("ngModel");Ki.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Ki.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return k(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){k(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Zs("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,te(this.$$element))},$render:g,$isEmpty:function(e){return b(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,Qs),this.$$animate.addClass(this.$$element,Js)):(this.$$animate.removeClass(this.$$element,Js),this.$$animate.addClass(this.$$element,Qs))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Gs),this.$$animate.addClass(this.$$element,Ks)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ks),this.$$animate.addClass(this.$$element,Gs),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Ys,Xs)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Xs,Ys)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!yr(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){r||n===e||(o.$modelValue=e?t:undefined,o.$modelValue!==i&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function i(){var e=u.$$parserName||"parse";return b(u.$$parserValid)?(a(e,null),!0):(u.$$parserValid||(o(u.$validators,function(e,t){a(t,null)}),o(u.$asyncValidators,function(e,t){a(t,null)})),a(e,u.$$parserValid),u.$$parserValid)}function r(){var n=!0;return o(u.$validators,function(i,r){var o=Boolean(i(e,t));n=n&&o,a(r,o)}),!!n||(o(u.$asyncValidators,function(e,t){a(t,null)}),!1)}function s(){var n=[],i=!0;o(u.$asyncValidators,function(r,o){var s=r(e,t);if(!M(s))throw Zs("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);a(o,undefined),n.push(s.then(function(){a(o,!0)},function(){i=!1,a(o,!1)}))}),n.length?u.$$q.all(n).then(function(){l(i)},g):l(!0)}function a(e,t){c===u.$$currentValidationRunId&&u.$setValidity(e,t)}function l(e){c===u.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var c=this.$$currentValidationRunId,u=this;return i()&&r()?void s():void l(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function e(){i.$modelValue!==o&&i.$$writeModelToScope()}var t=this.$$lastCommittedViewValue,n=t,i=this;if(this.$$parserValid=!b(n)||undefined,this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(n=this.$parsers[r](n),b(n)){this.$$parserValid=!1;break}yr(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,s=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,s&&(this.$modelValue=n,e()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(t){s||(i.$modelValue=t?n:undefined,e())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),
o(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");S(t[e])?t=t[e]:S(t["default"])&&(t=t["default"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},$i({clazz:Ki,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var ea,ta=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ki,priority:1,compile:function(t){return t.addClass(Ks).addClass(Ys).addClass(Vs),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm,s=i[2];s&&(r.$options=s.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){function o(){s.$setTouched()}var s=r[0];s.$options.getOption("updateOn")&&n.on(s.$options.getOption("updateOn"),function(e){s.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){s.$touched||(e.$$phase?t.$evalAsync(o):t.$apply(o))})}}}}}],na=/(\s+|^)default(\s+|$)/;Yi.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=d({},e),o(e,function(n,i){"$inherit"===n?"*"===i?t=!0:(e[i]=this.$$options[i],"updateOn"===i&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(e.updateOnDefault=!1,e[i]=_r(n.replace(na,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],Xi(e,this.$$options)),Xi(e,ea.$$options),new Yi(e)}},ea=new Yi({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ia=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:ea,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},ra=_i({terminal:!0,priority:1e3}),oa=i("ngOptions"),sa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,aa=["$compile","$document","$parse",function(t,n,i){function s(e,t,n){function o(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function s(e){var t;if(!c&&r(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var a=e.match(sa);if(!a)throw oa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,te(t));var l=a[5]||a[7],c=a[6],u=/ as /.test(a[0])&&a[1],d=a[9],h=i(a[2]?a[1]:l),p=u&&i(u),f=p||h,g=d&&i(d),m=d?function(e,t){return g(n,t)}:function(e){return st(e)},v=function(e,t){return m(e,A(e,t))},y=i(a[2]||a[1]),b=i(a[3]||""),w=i(a[4]||""),_=i(a[8]),C={},A=c?function(e,t){return C[c]=t,C[l]=e,C}:function(e){return C[l]=e,C};return{trackBy:d,getTrackByValue:v,getWatchables:i(_,function(e){var t=[];e=e||[];for(var i=s(e),r=i.length,o=0;o<r;o++){var l=e===i?o:i[o],c=e[l],u=A(c,l),d=m(c,u);if(t.push(d),a[2]||a[1]){var h=y(n,u);t.push(h)}if(a[4]){var p=w(n,u);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},i=_(n)||[],r=s(i),a=r.length,l=0;l<a;l++){var c=i===r?l:r[l],u=i[c],h=A(u,c),p=f(n,h),g=m(p,h),C=y(n,h),S=b(n,h),$=w(n,h),x=new o(g,p,C,S,$);e.push(x),t[g]=x}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?j(e.viewValue):e.viewValue}}}}}function a(e,i,r,a){function u(e,t){var n=l.cloneNode(!1);t.appendChild(n),h(e,n)}function d(e){var t=C.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}function h(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function p(){var e=C&&f.readValue();if(C)for(var t=C.items.length-1;t>=0;t--){var n=C.items[t];Je(w(n.group)?n.element.parentNode:n.element)}C=A.getOptions();var r={};if(C.items.forEach(function(e){var t;w(e.group)?(t=r[e.group],t||(t=c.cloneNode(!1),S.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),u(e,t)):u(e,S)}),i[0].appendChild(S),g.$render(),!g.$isEmpty(e)){var o=f.readValue();(A.trackBy||m?V(e,o):e===o)||(g.$setViewValue(o),g.$render())}}for(var f=a[0],g=a[1],m=r.multiple,v=0,y=i.children(),b=y.length;v<b;v++)if(""===y[v].value){f.hasEmptyOption=!0,f.emptyOption=y.eq(v);break}i.empty();var _=!!f.emptyOption;ar(l.cloneNode(!1)).val("?");var C,A=s(r.ngOptions,i,e),S=n[0].createDocumentFragment();f.generateUnknownOptionValue=function(){return"?"},m?(f.writeValue=function(e){if(C){var t=e&&e.map(d)||[];C.items.forEach(function(e){e.element.selected&&!U(t,e)&&(e.element.selected=!1)})}},f.readValue=function(){var e=i.val()||[],t=[];return o(e,function(e){var n=C.selectValueMap[e];n&&!n.disabled&&t.push(C.getViewValueFromOption(n))}),t},A.trackBy&&e.$watchCollection(function(){if(br(g.$viewValue))return g.$viewValue.map(function(e){return A.getTrackByValue(e)})},function(){g.$render()})):(f.writeValue=function(e){if(C){var t=i[0].options[i[0].selectedIndex],n=C.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(f.removeUnknownOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):f.selectUnknownOrEmptyOption(e)}},f.readValue=function(){var e=C.selectValueMap[i.val()];return e&&!e.disabled?(f.unselectEmptyOption(),f.removeUnknownOption(),C.getViewValueFromOption(e)):null},A.trackBy&&e.$watch(function(){return A.getTrackByValue(g.$viewValue)},function(){g.$render()})),_&&(t(f.emptyOption)(e),i.prepend(f.emptyOption),f.emptyOption[0].nodeType===Br?(f.hasEmptyOption=!1,f.registerOption=function(e,t){""===t.val()&&(f.hasEmptyOption=!0,f.emptyOption=t,f.emptyOption.removeClass("ng-scope"),g.$render(),t.on("$destroy",function(){var e=f.$isEmptyOptionSelected();f.hasEmptyOption=!1,f.emptyOption=undefined,e&&g.$render()}))}):f.emptyOption.removeClass("ng-scope")),e.$watchCollection(A.getWatchables,p)}var l=e.document.createElement("option"),c=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=g},post:a}}}],la=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(s,a,l){function c(e){a.text(e||"")}var u,d=l.count,h=l.$attr.when&&a.attr(l.$attr.when),p=l.offset||0,f=s.$eval(h)||{},m={},v=t.startSymbol(),y=t.endSymbol(),w=v+d+"-"+p+y,_=mr.noop;o(l,function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+nr(n[2]);f[i]=a.attr(l.$attr[t])}}),o(f,function(e,n){m[n]=t(e.replace(i,w))}),s.$watch(d,function(t){var i=parseFloat(t),r=yr(i);if(r||i in f||(i=e.pluralCat(i-p)),!(i===u||r&&yr(u))){_();var o=m[i];b(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+h),_=g,c()):_=s.$watch(o,c),u=i}})}}}],ca=["$parse","$animate","$compile",function(e,t,n){var s="$$NG_REMOVED",a=i("ngRepeat"),l=function(e,t,n,i,r,o,s){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},c=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,d){var h=d.ngRepeat,p=n.$$createComment("end ngRepeat",h),f=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var g=f[1],m=f[2],v=f[3],y=f[4];if(!(f=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var b=f[3]||f[1],w=f[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var _,C,A,S,$={$id:st};return y?_=e(y):(A=function(e,t){return st(t)},S=function(e){return e}),function(e,n,i,d,f){_&&(C=function(t,n,i){return w&&($[w]=t),$[b]=n,$.$index=i,_(e,$)});var g=we();e.$watchCollection(m,function(i){var d,m,y,_,$,x,k,E,P,F,D,T,B=n[0],L=we();if(v&&(e[v]=i),r(i))P=i,E=C||A;else{E=C||S,P=[];for(var M in i)tr.call(i,M)&&"$"!==M.charAt(0)&&P.push(M)}for(_=P.length,D=new Array(_),d=0;d<_;d++)if($=i===P?d:P[d],x=i[$],k=E($,x,d),g[k])F=g[k],delete g[k],L[k]=F,D[d]=F;else{if(L[k])throw o(D,function(e){e&&e.scope&&(g[e.id]=e)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,k,x);D[d]={id:k,scope:undefined,clone:undefined},L[k]=!0}for(var R in g){if(F=g[R],T=be(F.clone),t.leave(T),T[0].parentNode)for(d=0,m=T.length;d<m;d++)T[d][s]=!0;F.scope.$destroy()}for(d=0;d<_;d++)if($=i===P?d:P[d],x=i[$],F=D[d],F.scope){y=B;do{y=y.nextSibling}while(y&&y[s]);c(F)!==y&&t.move(be(F.clone),null,B),B=u(F),l(F.scope,d,b,x,w,$,_)}else f(function(e,n){F.scope=n;var i=p.cloneNode(!1);e[e.length++]=i,t.enter(e,null,B),B=i,F.clone=e,L[F.id]=F,l(F.scope,d,b,x,w,$,_)});g=L})}}}}],ua="ng-hide",da="ng-hide-animate",ha=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,ua,{tempClasses:da})})}}}],pa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,ua,{tempClasses:da})})}}}],fa=_i(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ga=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=r.ngSwitch||r.on,l=[],c=[],u=[],d=[],h=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(a,function(n){for(var i,r;u.length;)e.cancel(u.pop());for(i=0,r=d.length;i<r;++i){var a=be(c[i].clone);d[i].$destroy();(u[i]=e.leave(a)).done(h(u,i))}c.length=0,d.length=0,(l=s.cases["!"+n]||s.cases["?"])&&o(l,function(n){n.transclude(function(i,r){d.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var s={clone:i};c.push(s),e.enter(i,o.parent(),o)})})})}}}],ma=_i({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){o(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})})}}),va=_i({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),ya=i("ngTransclude"),ba=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,o){function s(e,n){e.length&&l(e)?t.append(e):(a(),n.$destroy())}function a(){n(e,function(e){t.append(e)})}function l(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.nodeType!==Tr||i.nodeValue.trim())return!0}}if(!o)throw ya("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",te(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var c=i.ngTransclude||i.ngTranscludeSlot;o(s,null,c),c&&!o.isSlotFilled(c)&&a()}}}}],wa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],_a={$setViewValue:g,$render:g},Ca=["$element","$scope",function(t,n){function i(){a||(a=!0,n.$$postDigest(function(){a=!1,o.ngModelCtrl.$render()}))}function r(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,o.ngModelCtrl.$setViewValue(o.readValue()),e&&o.ngModelCtrl.$render())}))}var o=this,s=new eo;o.selectValueMap={},o.ngModelCtrl=_a,o.multiple=!1,o.unknownOption=ar(e.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=undefined,o.renderUnknownOption=function(e){var n=o.generateUnknownOptionValue(e);o.unknownOption.val(n),t.prepend(o.unknownOption),Ji(o.unknownOption,!0),t.val(n)},o.updateUnknownOption=function(e){var n=o.generateUnknownOptionValue(e);o.unknownOption.val(n),Ji(o.unknownOption,!0),t.val(n)},o.generateUnknownOptionValue=function(e){return"? "+st(e)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(t.val(""),Ji(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&Ji(o.emptyOption,!1)},n.$on("$destroy",function(){o.renderUnknownOption=g}),o.readValue=function(){var e=t.val(),n=e in o.selectValueMap?o.selectValueMap[e]:e;return o.hasOption(n)?n:null},o.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&Ji(ar(n),!1),o.hasOption(e)){o.removeUnknownOption();var i=st(e);t.val(i in o.selectValueMap?i:e);var r=t[0].options[t[0].selectedIndex];Ji(ar(r),!0)}else o.selectUnknownOrEmptyOption(e)},o.addOption=function(e,t){if(t[0].nodeType!==Br){ve(e,'"option value"'),""===e&&(o.hasEmptyOption=!0,o.emptyOption=t);var n=s.get(e)||0;s.set(e,n+1),i()}},o.removeOption=function(e){var t=s.get(e);t&&(1===t?(s["delete"](e),""===e&&(o.hasEmptyOption=!1,o.emptyOption=undefined)):s.set(e,t-1))},o.hasOption=function(e){return!!s.get(e)},o.$hasEmptyOption=function(){return o.hasEmptyOption},o.$isUnknownOptionSelected=function(){return t[0].options[0]===o.unknownOption[0]},o.$isEmptyOptionSelected=function(){return o.hasEmptyOption&&t[0].options[t[0].selectedIndex]===o.emptyOption[0]},o.selectUnknownOrEmptyOption=function(e){null==e&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(e):o.renderUnknownOption(e)};var a=!1,l=!1;o.registerOption=function(e,t,n,s,a){if(n.$attr.ngValue){var l,c=NaN;n.$observe("value",function(e){var n,i=t.prop("selected");w(c)&&(o.removeOption(l),delete o.selectValueMap[c],n=!0),c=st(e),l=e,o.selectValueMap[c]=e,o.addOption(e,t),t.attr("value",c),n&&i&&r()})}else s?n.$observe("value",function(e){o.readValue();var n,i=t.prop("selected");w(l)&&(o.removeOption(l),n=!0),l=e,o.addOption(e,t),n&&i&&r()}):a?e.$watch(a,function(e,i){n.$set("value",e);var s=t.prop("selected");i!==e&&o.removeOption(i),o.addOption(e,t),i&&s&&r()}):o.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(o.multiple?r(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=o.readValue(),t=n.value;o.removeOption(t),i(),(o.multiple&&e&&-1!==e.indexOf(t)||e===t)&&r(!0)})}}],Aa=function(){function e(e,t,n,i){var r=i[0],s=i[1];if(!s)return void(r.registerOption=g);if(r.ngModelCtrl=s,t.on("change",function(){r.removeUnknownOption(),e.$apply(function(){s.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var e=[];return o(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in r.selectValueMap?r.selectValueMap[n]:n)}}),e},r.writeValue=function(e){o(t.find("option"),function(t){var n=!!e&&(U(e,t.value)||U(e,r.selectValueMap[t.value]));n!==t.selected&&Ji(ar(t),n)})};var a,l=NaN;e.$watch(function(){l!==s.$viewValue||V(a,s.$viewValue)||(a=Ae(s.$viewValue),s.$render()),l=s.$viewValue}),s.$isEmpty=function(e){return!e||0===e.length}}}function t(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ca,priority:1,link:{pre:e,post:t}}},Sa=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var i,r;return w(n.ngValue)||(w(n.value)?i=e(n.value,!0):(r=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o="$selectController",s=t.parent(),a=s.data(o)||s.parent().data(o);a&&a.registerOption(e,t,n,i,r)}}}}],$a=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},xa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var o,s=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(A(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,te(t));o=e||undefined,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||b(o)||o.test(t)}}}}},ka=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=p(e);r=yr(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r}}}}},Ea=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=p(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};if(e.angular.bootstrap)return void(e.console&&console.log("WARNING: Tried to load angular more than once."));fe(),xe(mr),mr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var i=n;undefined===i&&(i=Math.min(t(e),3));var r=Math.pow(10,i);return{v:i,f:(e*r|0)%r}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xa4",negSuf:"",posPre:"\xa4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var r=0|e,o=n(e,t);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),ar(function(){ce(e.document,ue)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){"use strict";function n(e,n,i){function r(e,i,r){var s,a;r=r||{},a=r.expires,s=t.isDefined(r.path)?r.path:o,t.isUndefined(i)&&(a="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(a)&&(a=new Date(a));var l=encodeURIComponent(e)+"="+encodeURIComponent(i);l+=s?";path="+s:"",l+=r.domain?";domain="+r.domain:"",l+=a?";expires="+a.toUTCString():"",l+=r.secure?";secure":"";var c=l.length+1;return c>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}var o=i.baseHref(),s=e[0];return function(e,t,n){s.cookie=r(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},n,e):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(e){return n()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return n()},put:function(t,n,r){i(t,n,e(r))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(t,n){i(t,undefined,e(n))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),function(e,t){"use strict";function n(e,t,n){if(!e)throw fe("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(G(e)&&(e=e.join(" ")),G(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var i="";return e=G(e)?e:e&&Z(e)&&e.length?e.split(/\s+/):[],K(e,function(e,r){e&&e.length>0&&(i+=r>0?" ":"",i+=n?t+e:e+t)}),i}function s(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function a(e){if(e instanceof te)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===I)return e;break;default:return te(l(e))}if(e.nodeType===I)return te(e)}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===I)return n}}function c(e,t,n){K(t,function(t){e.addClass(t,n)})}function u(e,t,n){K(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(c(e,t,n.addClass),n.addClass=null),n.removeClass&&(u(e,t,n.removeClass),n.removeClass=null)}}function h(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||ne;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ne},e.$$prepared=!0}return e}function p(e,t){f(e,t),g(e,t)}function f(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function m(e,t,n){var i=t.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),s=(i.removeClass||"")+" "+(r.removeClass||""),a=v(e.attr("class"),o,s);r.preparationClasses&&(i.preparationClasses=S(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==ne?i.domOperation:null;return q(i,r),l&&(i.domOperation=l),a.addClass?i.addClass=a.addClass:i.addClass=null,a.removeClass?i.removeClass=a.removeClass:i.removeClass=null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function v(e,t,n){function i(e){Z(e)&&(e=e.split(" "));var t={};return K(e,function(e){e.length&&(t[e]=!0)}),t}var r=1,o=-1,s={};e=i(e),t=i(t),K(t,function(e,t){s[t]=r}),n=i(n),K(n,function(e,t){s[t]=s[t]===r?null:o});var a={addClass:"",removeClass:""};return K(s,function(t,n){var i,s;t===r?(i="addClass",s=!e[n]||e[n+N]):t===o&&(i="removeClass",s=e[n]||e[n+O]),s&&(a[i].length&&(a[i]+=" "),a[i]+=n)}),a}function y(e){return e instanceof te?e[0]:e}function b(e,t,n){var i="";t&&(i=o(t,z,!0)),n.addClass&&(i=S(i,o(n.addClass,O))),n.removeClass&&(i=S(i,o(n.removeClass,N))),i.length&&(n.preparationClasses=i,e.addClass(i))}function w(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function _(e,t){var n=t?"-"+t+"s":"";return A(e,[he,n]),[he,n]}function C(e,t){var n=t?"paused":"",i=M+le;return A(e,[i,n]),[i,n]}function A(e,t){var n=t[0],i=t[1];e.style[n]=i}function S(e,t){return e?t?e+" "+t:e:t}function $(e){return[de,e+"s"]}function x(e,t){return[t?ue:he,e+"s"]}function k(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return K(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=E(n)),0===n&&(n=null),i[t]=n}}),i}function E(e){var t=0,n=e.split(/\s*,\s*/);return K(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function P(e){return 0===e||null!=e}function F(e,t){var n=B,i=e+"s";return t?n+=ie:i+=" linear all",[n,i]}function D(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function T(e,t,n){K(n,function(n){e[n]=Y(e[n])?e[n]:t.style.getPropertyValue(n)})}var B,L,M,R,I=1,O="-add",N="-remove",z="ng-",U="-active",W="-prepare",j="ng-animate",H="$$ngAnimateChildren";e.ontransitionend===undefined&&e.onwebkittransitionend!==undefined?("-webkit-",B="WebkitTransition",L="webkitTransitionEnd transitionend"):(B="transition",L="transitionend"),e.onanimationend===undefined&&e.onwebkitanimationend!==undefined?("-webkit-",M="WebkitAnimation",R="webkitAnimationEnd animationend"):(M="animation",R="animationend");var V,q,K,G,Y,X,J,Q,Z,ee,te,ne,ie="Duration",re="Property",oe="Delay",se="TimingFunction",ae="IterationCount",le="PlayState",ce=9999,ue=M+oe,de=M+ie,he=B+oe,pe=B+ie,fe=t.$$minErr("ng"),ge=["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}],me=["$interpolate",function(e){return{link:function(t,n,i){function r(e){e="on"===e||"true"===e,n.data(H,e)}var o=i.ngAnimateChildren;Z(o)&&0===o.length?n.data(H,!0):(r(e(o)(t)),i.$observe("ngAnimateChildren",r))}}}],ve="$$animateCss",ye=1e3,be=3,we=1.5,_e={transitionDuration:pe,transitionDelay:he,transitionProperty:B+re,animationDuration:de,animationDelay:ue,animationIterationCount:M+ae},Ce={transitionDuration:pe,transitionDelay:he,animationDuration:de,animationDelay:ue},Ae=["$animateProvider",function(){var e=D(),t=D();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(n,i,a,l,c,u,m,v){function b(e,t){var n="$$ngAnimateParentKey",i=e.parentNode;return(i[n]||(i[n]=++W))+"-"+e.getAttribute("class")+"-"+t}function w(t,i,r,o){var s=e.get(r);return s||(s=k(n,t,o),"infinite"===s.animationIterationCount&&(s.animationIterationCount=1)),e.put(r,s),s}function S(r,s,a,l){var c;if(e.count(a)>0&&!(c=t.get(a))){var u=o(s,"-stagger");i.addClass(r,u),c=k(n,r,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),i.removeClass(r,u),t.put(a,c)}return c||{}}function E(n){j.push(n),m.waitUntilQuiet(function(){e.flush(),t.flush();for(var n=c(),i=0;i<j.length;i++)j[i](n);j.length=0})}function D(e,t,n){var i=w(e,t,n,_e),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var I=d(i),W=0,j=[];return function(t,n){function c(){m()}function d(){m(!0)}function m(e){if(!(X||Q&&J)){X=!0,J=!1,H.$$skipPreparationClasses||i.removeClass(t,Ae),i.removeClass(t,$e),C(Y,!1),_(Y,!1),K(ue,function(e){Y.style[e[0]]=""}),I(t,H),p(t,H),Object.keys(q).length&&K(q,function(e,t){e?Y.style.setProperty(t,e):Y.style.removeProperty(t)}),H.onDone&&H.onDone(),pe&&pe.length&&t.off(pe.join(" "),W);var n=t.data(ve);n&&(l.cancel(n[0].timer),t.removeData(ve)),Z&&Z.complete(!e)}}function w(e){Oe.blockTransition&&_(Y,e),Oe.blockKeyframeAnimation&&C(Y,!!e)}function k(){return Z=new a({end:c,cancel:d}),E(ne),m(),{$$willAnimate:!1,start:function(){return Z},end:c}}function W(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(be));Math.max(n-le,0)>=ie&&i>=oe&&(Q=!0,m())}function j(){function e(){if(!X){if(w(!1),K(ue,function(e){var t=e[0],n=e[1];Y.style[t]=n}),I(t,H),i.addClass(t,$e),Oe.recalculateTimingStyles){if(Se=Y.getAttribute("class")+" "+Ae,ke=b(Y,Se),Re=D(Y,Se,ke),Ie=Re.maxDelay,te=Math.max(Ie,0),0===(oe=Re.maxDuration))return void m();Oe.hasTransitions=Re.transitionDuration>0,Oe.hasAnimations=Re.animationDuration>0}if(Oe.applyAnimationDelay&&(Ie="boolean"!=typeof H.delay&&P(H.delay)?parseFloat(H.delay):Ie,te=Math.max(Ie,0),Re.animationDelay=Ie,Ne=x(Ie,!0),ue.push(Ne),Y.style[Ne[0]]=Ne[1]),ie=te*ye,ae=oe*ye,H.easing){var e,r=H.easing;Oe.hasTransitions&&(e=B+se,ue.push([e,r]),Y.style[e]=r),Oe.hasAnimations&&(e=M+se,ue.push([e,r]),Y.style[e]=r)}Re.transitionDuration&&pe.push(L),Re.animationDuration&&pe.push(R),le=Date.now();var o=ie+we*ae,s=le+o,a=t.data(ve)||[],c=!0;if(a.length){var u=a[0];c=s>u.expectedEndTime,c?l.cancel(u.timer):a.push(m)}if(c){var d=l(n,o,!1);a[0]={timer:d,expectedEndTime:s},a.push(m),t.data(ve,a)}pe.length&&t.on(pe.join(" "),W),H.to&&(H.cleanupStyles&&T(q,Y,Object.keys(H.to)),g(t,H))}}function n(){var e=t.data(ve);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(ve)}}if(!X){if(!Y.parentNode)return void m();var r=function(e){if(Q)J&&e&&(J=!1,m());else if(J=!e,Re.animationDuration){var t=C(Y,J);J?ue.push(t):s(ue,t)}},o=Le>0&&(Re.transitionDuration&&0===Ee.transitionDuration||Re.animationDuration&&0===Ee.animationDuration)&&Math.max(Ee.animationDelay,Ee.transitionDelay);o?l(e,Math.floor(o*Le*ye),!1):e(),ee.resume=function(){r(!0)},ee.pause=function(){r(!1)}}}var H=n||{};H.$$prepared||(H=h(V(H)));var q={},Y=y(t);if(!Y||!Y.parentNode||!v.enabled())return k();var X,J,Q,Z,ee,te,ie,oe,ae,le,ue=[],de=t.attr("class"),he=r(H),pe=[];if(0===H.duration||!u.animations&&!u.transitions)return k();var fe=H.event&&G(H.event)?H.event.join(" "):H.event,ge=fe&&H.structural,me="",_e="";ge?me=o(fe,z,!0):fe&&(me=fe),H.addClass&&(_e+=o(H.addClass,O)),H.removeClass&&(_e.length&&(_e+=" "),_e+=o(H.removeClass,N)),H.applyClassesEarly&&_e.length&&I(t,H);var Ae=[me,_e].join(" ").trim(),Se=de+" "+Ae,$e=o(Ae,U),xe=he.to&&Object.keys(he.to).length>0;if(!((H.keyframeStyle||"").length>0||xe||Ae))return k();var ke,Ee;if(H.stagger>0){var Pe=parseFloat(H.stagger);Ee={transitionDelay:Pe,animationDelay:Pe,transitionDuration:0,animationDuration:0}}else ke=b(Y,Se),Ee=S(Y,Ae,ke,Ce);H.$$skipPreparationClasses||i.addClass(t,Ae);var Fe;if(H.transitionStyle){var De=[B,H.transitionStyle];A(Y,De),ue.push(De)}if(H.duration>=0){Fe=Y.style[B].length>0;var Te=F(H.duration,Fe);A(Y,Te),ue.push(Te)}if(H.keyframeStyle){var Be=[M,H.keyframeStyle];A(Y,Be),ue.push(Be)}var Le=Ee?H.staggerIndex>=0?H.staggerIndex:e.count(ke):0,Me=0===Le;Me&&!H.skipBlocking&&_(Y,ce);var Re=D(Y,Se,ke),Ie=Re.maxDelay;te=Math.max(Ie,0),oe=Re.maxDuration;var Oe={};if(Oe.hasTransitions=Re.transitionDuration>0,Oe.hasAnimations=Re.animationDuration>0,Oe.hasTransitionAll=Oe.hasTransitions&&"all"===Re.transitionProperty,Oe.applyTransitionDuration=xe&&(Oe.hasTransitions&&!Oe.hasTransitionAll||Oe.hasAnimations&&!Oe.hasTransitions),Oe.applyAnimationDuration=H.duration&&Oe.hasAnimations,Oe.applyTransitionDelay=P(H.delay)&&(Oe.applyTransitionDuration||Oe.hasTransitions),Oe.applyAnimationDelay=P(H.delay)&&Oe.hasAnimations,Oe.recalculateTimingStyles=_e.length>0,(Oe.applyTransitionDuration||Oe.applyAnimationDuration)&&(oe=H.duration?parseFloat(H.duration):oe,Oe.applyTransitionDuration&&(Oe.hasTransitions=!0,Re.transitionDuration=oe,Fe=Y.style[B+re].length>0,ue.push(F(oe,Fe))),Oe.applyAnimationDuration&&(Oe.hasAnimations=!0,Re.animationDuration=oe,ue.push($(oe)))),0===oe&&!Oe.recalculateTimingStyles)return k();if(null!=H.delay){var Ne;"boolean"!=typeof H.delay&&(Ne=parseFloat(H.delay),te=Math.max(Ne,0)),Oe.applyTransitionDelay&&ue.push(x(Ne)),Oe.applyAnimationDelay&&ue.push(x(Ne,!0))}return null==H.duration&&Re.transitionDuration>0&&(Oe.recalculateTimingStyles=Oe.recalculateTimingStyles||Me),ie=te*ye,ae=oe*ye,H.skipBlocking||(Oe.blockTransition=Re.transitionDuration>0,Oe.blockKeyframeAnimation=Re.animationDuration>0&&Ee.animationDelay>0&&0===Ee.animationDuration),H.from&&(H.cleanupStyles&&T(q,Y,Object.keys(H.from)),f(t,H)),Oe.blockTransition||Oe.blockKeyframeAnimation?w(oe):H.skipBlocking||_(Y,!1),{$$willAnimate:!0,end:c,start:function(){if(!X)return ee={end:c,cancel:d,resume:null,pause:null},Z=new a(ee),E(j),Z}}}}]}],Se=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor-out"
;this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,r,o,s,a,l,c){function u(e){return e.replace(/\bng-\S+\b/g,"")}function d(e,t){return Z(e)&&(e=e.split(" ")),Z(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function h(t,r,s){function a(e){var t={},n=y(e).getBoundingClientRect();return K(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=g.scrollTop;break;case"left":i+=g.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function l(){var t=e(f,{addClass:i,delay:!0,from:a(r)});return t.$$willAnimate?t:null}function c(e){return e.attr("class")||""}function h(){var t=u(c(s)),n=d(t,m),r=d(m,t),o=e(f,{to:a(s),addClass:"ng-anchor-in "+n,removeClass:i+" "+r,delay:!0});return o.$$willAnimate?o:null}function p(){f.remove(),r.removeClass(n),s.removeClass(n)}var f=te(y(r).cloneNode(!0)),m=u(c(f));r.addClass(n),s.addClass(n),f.addClass("ng-anchor"),v.append(f);var b,w=l();if(!w&&!(b=h()))return p();var _=w||b;return{start:function(){function e(){n&&n.end()}var t,n=_.start();return n.done(function(){if(n=null,!b&&(b=h()))return n=b.start(),n.done(function(){n=null,p(),t.complete()}),n;p(),t.complete()}),t=new o({end:e,cancel:e})}}}function p(e,t,n,i){var r=f(e,ne),s=f(t,ne),a=[];if(K(i,function(e){var t=e.out,i=e["in"],r=h(n,t,i);r&&a.push(r)}),r||s||0!==a.length)return{start:function(){function e(){K(t,function(e){e.end()})}var t=[];r&&t.push(r.start()),s&&t.push(s.start()),K(a,function(e){t.push(e.start())});var n=new o({end:e,cancel:e});return o.all(t,function(e){n.complete(e)}),n}}}function f(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=S(i.event,i.preparationClasses));var r=e(n,i);return r.$$willAnimate?r:null}if(!a.animations&&!a.transitions)return ne;var g=c[0].body,m=y(s),v=te(t(m)||g.contains(m)?m:g);return function(e){return e.from&&e.to?p(e.from,e.to,e.classes,e.anchors):f(e)}}]}],$e=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=G(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var s=n[o],a=e.$$registeredAnimations[s];a&&!r[s]&&(i.push(t.get(a)),r[s]=!0)}return i}var o=d(i);return function(e,t,i,s){function a(){s.domOperation(),o(e,s)}function l(){f=!0,a(),p(e,s)}function c(e,t,i,r,o){var s;switch(i){case"animate":s=[t,r.from,r.to,o];break;case"setClass":s=[t,v,y,o];break;case"addClass":s=[t,v,o];break;case"removeClass":s=[t,y,o];break;default:s=[t,o]}s.push(r);var a=e.apply(e,s);if(a)if(J(a.start)&&(a=a.start()),a instanceof n)a.done(o);else if(J(a))return a;return ne}function u(e,t,i,r,o){var s=[];return K(r,function(r){var a=r[o];a&&s.push(function(){var r,o,s=!1,l=function(e){s||(s=!0,(o||ne)(e),r.complete(!e))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),o=c(a,e,t,i,function(e){l(!1===e)}),r})}),s}function d(e,t,i,r,o){var s=u(e,t,i,r,o);if(0===s.length){var a,l;"beforeSetClass"===o?(a=u(e,"removeClass",i,r,"beforeRemoveClass"),l=u(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(a=u(e,"removeClass",i,r,"removeClass"),l=u(e,"addClass",i,r,"addClass")),a&&(s=s.concat(a)),l&&(s=s.concat(l))}if(0!==s.length)return function(e){var t=[];return s.length&&K(s,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){K(t,function(t){e?t.cancel():t.end()})}}}var f=!1;3===arguments.length&&Q(i)&&(s=i,i=null),s=h(s),i||(i=e.attr("class")||"",s.addClass&&(i+=" "+s.addClass),s.removeClass&&(i+=" "+s.removeClass));var g,m,v=s.addClass,y=s.removeClass,b=r(i);if(b.length){var w,_;"leave"===t?(_="leave",w="afterLeave"):(_="before"+t.charAt(0).toUpperCase()+t.substr(1),w=t),"enter"!==t&&"move"!==t&&(g=d(e,t,s,b,_)),m=d(e,t,s,b,w)}if(g||m){var C;return{$$willAnimate:!0,end:function(){return C?C.end():(l(),C=new n,C.complete(!0)),C},start:function(){function e(e){l(e),C.complete(e)}function t(t){f||((i||ne)(t),e(t))}if(C)return C;C=new n;var i,r=[];return g&&r.push(function(e){i=g(e)}),r.length?r.push(function(e){a(),e(!0)}):a(),m&&r.push(function(e){i=m(e)}),C.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(r,e),C}}}}}]}],xe=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,i=t.event,r=t.options,o=t.classes;return e(n,i,o,r)}return function(e){if(e.from&&e.to){var i=n(e.from),r=n(e.to);if(!i&&!r)return;return{start:function(){function e(){return function(){K(o,function(e){e.end()})}}function n(e){s.complete(e)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),t.all(o,n);var s=new t({end:e(),cancel:e()});return s}}}return n(e)}}]}],ke="data-ng-animate",Ee="$ngAnimatePin",Pe=["$animateProvider",function(t){function i(e){if(!e)return null;var t=e.split(f),n=Object.create(null);return K(t,function(e){n[e]=!0}),n}function r(e,t){if(e&&t){var n=i(t);return e.split(f).some(function(e){return n[e]})}}function o(e,t,n){return g[e].some(function(e){return e(t,n)})}function s(e,t){var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var c=1,u=2,f=" ",g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(e){return!e.structural&&s(e)}),g.skip.push(function(e){return!e.structural&&!s(e)}),g.skip.push(function(e,t){return"leave"===t.event&&e.structural}),g.skip.push(function(e,t){return t.structural&&t.state===u&&!e.structural}),g.cancel.push(function(e,t){return t.structural&&e.structural}),g.cancel.push(function(e,t){return t.state===u&&e.structural}),g.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,i=e.removeClass,o=t.addClass,s=t.removeClass;return!(ee(n)&&ee(i)||ee(o)&&ee(s))&&(r(n,s)||r(i,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,r,f,g,v,_,C,A,S,$,x){function k(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function E(e,t){return m(e,t,{})}function P(e,t,n){var i=[],r=W[n];return r&&K(r,function(r){ie.call(r.node,t)?i.push(r.callback):"leave"===n&&ie.call(r.node,e)&&i.push(r.callback)}),i}function F(e,t,n){var i=l(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function D(e,t){"close"!==e||t.parentNode||re.off(t)}function T(e,t,n){function l(e,t,n,r){$(function(){var e=P(A,v,t);e.length?i(function(){K(e,function(e){e(g,n,r)}),D(n,v)}):D(n,v)}),e.progress(t,n,r)}function d(e){w(g,f),ne(g,f),p(g,f),f.domOperation(),S.complete(!e)}var f=V(n),g=a(e),v=y(g),A=v&&v.parentNode;f=h(f);var S=new C,$=k();if(G(f.addClass)&&(f.addClass=f.addClass.join(" ")),f.addClass&&!Z(f.addClass)&&(f.addClass=null),G(f.removeClass)&&(f.removeClass=f.removeClass.join(" ")),f.removeClass&&!Z(f.removeClass)&&(f.removeClass=null),f.from&&!Q(f.from)&&(f.from=null),f.to&&!Q(f.to)&&(f.to=null),!v)return d(),S;var F=[v.getAttribute("class"),f.addClass,f.removeClass].join(" ");if(!J(F))return d(),S;var T=["enter","move","leave"].indexOf(t)>=0,I=x(),U=!z||I||N.get(v),W=!U&&O.get(v)||{},j=!!W.state;if(U||j&&W.state===c||(U=!M(v,A,t)),U)return I&&l(S,t,"start"),d(),I&&l(S,t,"close"),S;T&&B(v);var H={structural:T,element:g,event:t,addClass:f.addClass,removeClass:f.removeClass,close:d,options:f,runner:S};if(j){if(o("skip",H,W))return W.state===u?(d(),S):(m(g,W,H),W.runner);if(o("cancel",H,W))if(W.state===u)W.runner.end();else{if(!W.structural)return m(g,W,H),W.runner;W.close()}else{if(o("join",H,W)){if(W.state!==u)return b(g,T?t:null,f),t=H.event=W.event,f=m(g,W,H),W.runner;E(g,H)}}}else E(g,H);var q=H.structural;if(q||(q="animate"===H.event&&Object.keys(H.options.to||{}).length>0||s(H)),!q)return d(),L(v),S;var Y=(W.counter||0)+1;return H.counter=Y,R(v,c,H),r.$$postDigest(function(){g=a(e);var n=O.get(v),i=!n;n=n||{};var r=g.parent()||[],o=r.length>0&&("animate"===n.event||n.structural||s(n));if(i||n.counter!==Y||!o)return i&&(ne(g,f),p(g,f)),(i||T&&n.event!==t)&&(f.domOperation(),S.end()),void(o||L(v));t=!n.structural&&s(n,!0)?"setClass":n.event,R(v,u);var c=_(g,t,n.options);S.setHost(c),l(S,t,"start",{}),c.done(function(e){d(!e);var n=O.get(v);n&&n.counter===Y&&L(v),l(S,t,"close",{})})}),S}function B(e){var t=e.querySelectorAll("["+ke+"]");K(t,function(e){var t=parseInt(e.getAttribute(ke),10),n=O.get(e);if(n)switch(t){case u:n.runner.end();case c:O["delete"](e)}})}function L(e){e.removeAttribute(ke),O["delete"](e)}function M(e,t){var n,i=g[0].body,r=y(f),o=e===i||"HTML"===e.nodeName,s=e===r,a=!1,l=N.get(e),c=te.data(e,Ee);for(c&&(t=y(c));t&&(s||(s=t===r),t.nodeType===I);){var u=O.get(t)||{};if(!a){var d=N.get(t);if(!0===d&&!1!==l){l=!0;break}!1===d&&(l=!1),a=u.structural}if(ee(n)||!0===n){var h=te.data(t,H);Y(h)&&(n=h)}if(a&&!1===n)break;if(o||(o=t===i),o&&s)break;t=s||!(c=te.data(t,Ee))?t.parentNode:y(c)}return(!a||n)&&!0!==l&&s&&o}function R(e,t,n){n=n||{},n.state=t,e.setAttribute(ke,t);var i=O.get(e),r=i?q(i,n):n;O.set(e,r)}var O=new v,N=new v,z=null,U=r.$watch(function(){return 0===A.totalPendingRequests},function(e){e&&(U(),r.$$postDigest(function(){r.$$postDigest(function(){null===z&&(z=!0)})}))}),W=Object.create(null),j=t.classNameFilter(),J=j?function(e){return j.test(e)}:function(){return!0},ne=d(S),ie=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},re={on:function(e,t,n){var i=l(t);W[e]=W[e]||[],W[e].push({node:i,callback:n}),te(t).on("$destroy",function(){O.get(i)||re.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||Z(arguments[0])){var i=W[e];i&&(W[e]=1===arguments.length?null:F(i,t,n))}else{t=arguments[0];for(var r in W)W[r]=F(W[r],t)}},pin:function(e,t){n(X(e),"element","not an element"),n(X(t),"parentElement","not an element"),e.data(Ee,t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,T(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!z;else{if(X(e)){var i=y(e);1===n?t=!N.get(i):N.set(i,!t)}else t=z=!!e}return t}};return re}]}],Fe=["$animateProvider",function(){function e(e,t){e.data(s,t)}function t(e){e.removeData(s)}function n(e){return e.data(s)}var r="ng-animate-ref",o=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(s,a,l,c,u,f){function g(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,i=n.parentNode;o.set(n,e);for(var s;i;){if(s=o.get(i)){s.processed||(s=t(s));break}i=i.parentNode}return(s||r).children.push(e),e}function n(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var r=i.length,o=0,s=[];for(t=0;t<i.length;t++){var a=i[t];r<=0&&(r=o,o=0,n.push(s),s=[]),s.push(a.fn),a.children.forEach(function(e){o++,i.push(e)}),r--}return s.length&&n.push(s),n}var i,r={children:[]},o=new u;for(i=0;i<e.length;i++){var s=e[i];o.set(s.domNode,e[i]={domNode:s.domNode,fn:s.fn,children:[]})}for(i=0;i<e.length;i++)t(e[i]);return n(r)}var m=[],v=d(s);return function(u,d,b){function w(e){var t="["+r+"]",n=e.hasAttribute(r)?[e]:e.querySelectorAll(t),i=[];return K(n,function(e){var t=e.getAttribute(r);t&&t.length&&i.push(e)}),i}function _(e){var t=[],n={};K(e,function(e,i){var o=e.element,s=y(o),a=e.event,l=["enter","move"].indexOf(a)>=0,c=e.structural?w(s):[];if(c.length){var u=l?"to":"from";K(c,function(e){var t=e.getAttribute(r);n[t]=n[t]||{},n[t][u]={animationID:i,element:te(e)}})}else t.push(e)});var i={},o={};return K(n,function(n){var r=n.from,s=n.to;if(!r||!s){var a=r?r.animationID:s.animationID,l=a.toString();return void(i[l]||(i[l]=!0,t.push(e[a])))}var c=e[r.animationID],u=e[s.animationID],d=r.animationID.toString();if(!o[d]){var h=o[d]={structural:!0,beforeStart:function(){c.beforeStart(),u.beforeStart()},close:function(){c.close(),u.close()},classes:C(c.classes,u.classes),from:c,to:u,anchors:[]};h.classes.length?t.push(h):(t.push(c),t.push(u))}o[d].anchors.push({out:r.element,"in":s.element})}),t}function C(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function A(e){for(var t=o.length-1;t>=0;t--){var n=o[t],i=l.get(n),r=i(e);if(r)return r}}function S(){u.addClass(j),D&&s.addClass(u,D),T&&(s.removeClass(u,T),T=null)}function $(e,t){function i(e){var i=n(e);i&&i.setHost(t)}e.from&&e.to?(i(e.from.element),i(e.to.element)):i(e.element)}function x(){var e=n(u);!e||"leave"===d&&b.$$domOperationFired||e.end()}function k(e){u.off("$destroy",x),t(u),v(u,b),p(u,b),b.domOperation(),D&&s.removeClass(u,D),u.removeClass(j),P.complete(!e)}b=h(b);var E=["enter","move","leave"].indexOf(d)>=0,P=new c({end:function(){k()},cancel:function(){k(!0)}});if(!o.length)return k(),P;e(u,P);var F=i(u.attr("class"),i(b.addClass,b.removeClass)),D=b.tempClasses;D&&(F+=" "+D,b.tempClasses=null);var T;return E&&(T="ng-"+d+W,s.addClass(u,T)),m.push({element:u,classes:F,event:d,structural:E,options:b,beforeStart:S,close:k}),u.on("$destroy",x),m.length>1?P:(a.$$postDigest(function(){var e=[];K(m,function(t){n(t.element)?e.push(t):t.close()}),m.length=0;var t=_(e),i=[];K(t,function(e){i.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,i=e.close;if(n(e.anchors?e.from.element||e.to.element:e.element)){var r=A(e);r&&(t=r.start)}if(t){var o=t();o.done(function(e){i(!e)}),$(e,o)}else i()}})}),f(g(i))}),P)}}]}],De=["$animate","$rootScope",function(e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,o){var s,a;t.$watchCollection(i.ngAnimateSwap||i["for"],function(i){s&&e.leave(s),a&&(a.$destroy(),a=null),(i||0===i)&&(a=t.$new(),o(a,function(t){s=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[],function(){ne=t.noop,V=t.copy,q=t.extend,te=t.element,K=t.forEach,G=t.isArray,Z=t.isString,Q=t.isObject,ee=t.isUndefined,Y=t.isDefined,J=t.isFunction,X=t.isElement}).directive("ngAnimateSwap",De).directive("ngAnimateChildren",me).factory("$$rAFScheduler",ge).provider("$$animateQueue",Pe).provider("$$animation",Fe).provider("$animateCss",Ae).provider("$$animateCssDriver",Se).provider("$$animateJs",$e).provider("$$animateJsDriver",xe)}(window,window.angular),function(e,t){"use strict";function n(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&s.test("."+e)}function i(e,i){if(!n(i))throw o("badmember",'Dotted member path "@{0}" is invalid.',i);for(var r=i.split("."),s=0,a=r.length;s<a&&t.isDefined(e);s++){var l=r[s];e=null!==e?e[l]:undefined}return e}function r(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var i in e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}var o=t.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/\[[^\]]*][^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(s,a,l,c){function u(e,t){this.template=e,this.defaults=f({},n.defaults,t),this.urlParams={}}function d(e,t,w,_){function C(e,n){var r={};return n=f({},t,n),p(n,function(t,n){y(t)&&(t=t(e)),r[n]=t&&t.charAt&&"@"===t.charAt(0)?i(e,t.substr(1)):t}),r}function A(e){return e.resource}function S(e){r(e||{},this)}var $=new u(e,_);return w=f({},n.defaults.actions,w),S.prototype.toJSON=function(){var e=f({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},p(w,function(e,t){var n=/^(POST|PUT|PATCH)$/i.test(e.method),i=e.timeout,u=v(e.cancellable)?e.cancellable:$.defaults.cancellable;i&&!b(i)&&(a.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,i=null),S[t]=function(a,d,v,b){function w(e){O["catch"](h),P.resolve(e)}var _,x,k,E={};switch(arguments.length){case 4:k=b,x=v;case 3:case 2:if(!y(d)){E=a,_=d,x=v;break}if(y(a)){x=a,k=d;break}x=d,k=v;case 1:y(a)?x=a:n?_=a:E=a;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var P,F,D=this instanceof S,T=D?_:e.isArray?[]:new S(_),B={},L=e.interceptor&&e.interceptor.response||A,M=e.interceptor&&e.interceptor.responseError||undefined,R=!!k,I=!!M;p(e,function(e,t){switch(t){default:B[t]=g(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!D&&u&&(P=l.defer(),B.timeout=P.promise,i&&(F=c(P.resolve,i))),n&&(B.data=_),$.setUrlParams(B,f({},C(_,e.params||{}),E),e.url);var O=s(B).then(function(n){var i=n.data;if(i){if(m(i)!==!!e.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",t,e.isArray?"array":"object",m(i)?"array":"object",B.method,B.url);if(e.isArray)T.length=0,p(i,function(e){"object"==typeof e?T.push(new S(e)):T.push(e)});else{var s=T.$promise;r(i,T),T.$promise=s}}return n.resource=T,n});return O=O["finally"](function(){T.$resolved=!0,!D&&u&&(T.$cancelRequest=h,c.cancel(F),P=F=B.timeout=null)}),O=O.then(function(e){var t=L(e);return(x||h)(t,e.headers,e.status,e.statusText),t},R||I?function(e){return R&&!I&&O["catch"](h),R&&k(e),I?M(e):l.reject(e)}:undefined),D?O:(T.$promise=O,T.$resolved=!1,u&&(T.$cancelRequest=w),T)},S.prototype["$"+t]=function(e,n,i){y(e)&&(i=n,n=e,e={});var r=S[t].call(this,e,this,n,i);return r.$promise||r}}),S.bind=function(n){var i=f({},t,n);return d(e,i,w,_)},S}var h=t.noop,p=t.forEach,f=t.extend,g=t.copy,m=t.isArray,v=t.isDefined,y=t.isFunction,b=t.isNumber,w=t.$$encodeUriQuery,_=t.$$encodeUriSegment;return u.prototype={setUrlParams:function(t,n,i){var r,s,a=this,l=i||a.template,c="",u=a.urlParams=Object.create(null);p(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(u[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})}),l=l.replace(/\\:/g,":"),l=l.replace(e,function(e){return c=e,""}),n=n||{},p(a.urlParams,function(e,t){r=n.hasOwnProperty(t)?n[t]:a.defaults[t],v(r)&&null!==r?(s=e.isQueryParamValue?w(r,!0):_(r),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return s+t})):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),a.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=c+l.replace(/\/(\\|%5C)\./,"/."),p(n,function(e,n){a.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},d}]})}(window,window.angular),function(){"use strict";angular.module("angularjs-gravatardirective.config",[]).value("angularjs-gravatardirective.config",{debug:!0}),angular.module("angularjs-gravatardirective.directives",[]),angular.module("angularjs-gravatardirective.services",[]),angular.module("angularjs-gravatardirective",["angularjs-gravatardirective.config","angularjs-gravatardirective.directives","angularjs-gravatardirective.services"]),angular.module("angularjs-gravatardirective.directives").directive("gravatarImage",["gravatarImageService",function(e){return{restrict:"EAC",link:function(t,n,i){t.$watch(i.gravatarEmail,function(t){if(null!==t&&void 0!==t&&""!==t&&null!==t.match(/.*@.*\..{2}/)){var r=i.gravatarSize||40,o=i.gravatarRating||"pg",s=i.gravatarDefault||"identicon",a=i.gravatarCssClass||"gravatar-icon",l=e.getImageSrc(t,r,o,s,i.gravatarSecure),c='<img class="'+a+'" src="'+l+'" >';n.find("img").remove(),n.append(c),n.find("img").bind("error",function(){n.find("img").remove()})}})}}}]),angular.module("angularjs-gravatardirective.services").factory("gravatarImageService",["md5",function(e){return{getImageSrc:function(t,n,i,r,o){var s=e.createHash(t.toLowerCase()),a=(o?"https://secure":"http://www")+".gravatar.com/avatar/"+s;return n&&(a+="?s="+n),i&&(a+="&r="+i),r&&(a+="&d="+r),a}}}]),angular.module("angularjs-gravatardirective.services").factory("md5",[function(){return{createHash:function(e){var t,n,i,r,o,s,a,l,c,u,d=function(e,t){return e<<t|e>>>32-t},h=function(e,t){var n,i,r,o,s;return r=2147483648&e,o=2147483648&t,n=1073741824&e,i=1073741824&t,s=(1073741823&e)+(1073741823&t),n&i?2147483648^s^r^o:n|i?1073741824&s?3221225472^s^r^o:1073741824^s^r^o:s^r^o},p=function(e,t,n){return e&t|~e&n},f=function(e,t,n){return e&n|t&~n},g=function(e,t,n){return e^t^n},m=function(e,t,n){return t^(e|~n)},v=function(e,t,n,i,r,o,s){return e=h(e,h(h(p(t,n,i),r),s)),h(d(e,o),t)},y=function(e,t,n,i,r,o,s){return e=h(e,h(h(f(t,n,i),r),s)),h(d(e,o),t)},b=function(e,t,n,i,r,o,s){return e=h(e,h(h(g(t,n,i),r),s)),h(d(e,o),t)},w=function(e,t,n,i,r,o,s){return e=h(e,h(h(m(t,n,i),r),s)),h(d(e,o),t)},_=function(e){for(var t,n=e.length,i=n+8,r=(i-i%64)/64,o=16*(r+1),s=new Array(o-1),a=0,l=0;n>l;)t=(l-l%4)/4,a=l%4*8,s[t]=s[t]|e.charCodeAt(l)<<a,l++;return t=(l-l%4)/4,a=l%4*8,s[t]=s[t]|128<<a,s[o-2]=n<<3,s[o-1]=n>>>29,s},C=function(e){var t,n,i="",r="";for(n=0;3>=n;n++)t=e>>>8*n&255,r="0"+t.toString(16),i+=r.substr(r.length-2,2);return i},A=[],S=7,$=12,x=17,k=22,E=5,P=9,F=14,D=20,T=4,B=11,L=16,M=23,R=6,I=10,O=15,N=21;for(A=_(e),a=1732584193,l=4023233417,c=2562383102,u=271733878,t=A.length,n=0;t>n;n+=16)i=a,r=l,o=c,s=u,a=v(a,l,c,u,A[n+0],S,3614090360),u=v(u,a,l,c,A[n+1],$,3905402710),c=v(c,u,a,l,A[n+2],x,606105819),l=v(l,c,u,a,A[n+3],k,3250441966),a=v(a,l,c,u,A[n+4],S,4118548399),u=v(u,a,l,c,A[n+5],$,1200080426),c=v(c,u,a,l,A[n+6],x,2821735955),l=v(l,c,u,a,A[n+7],k,4249261313),a=v(a,l,c,u,A[n+8],S,1770035416),u=v(u,a,l,c,A[n+9],$,2336552879),c=v(c,u,a,l,A[n+10],x,4294925233),l=v(l,c,u,a,A[n+11],k,2304563134),a=v(a,l,c,u,A[n+12],S,1804603682),u=v(u,a,l,c,A[n+13],$,4254626195),c=v(c,u,a,l,A[n+14],x,2792965006),l=v(l,c,u,a,A[n+15],k,1236535329),a=y(a,l,c,u,A[n+1],E,4129170786),u=y(u,a,l,c,A[n+6],P,3225465664),c=y(c,u,a,l,A[n+11],F,643717713),l=y(l,c,u,a,A[n+0],D,3921069994),a=y(a,l,c,u,A[n+5],E,3593408605),u=y(u,a,l,c,A[n+10],P,38016083),c=y(c,u,a,l,A[n+15],F,3634488961),l=y(l,c,u,a,A[n+4],D,3889429448),a=y(a,l,c,u,A[n+9],E,568446438),u=y(u,a,l,c,A[n+14],P,3275163606),c=y(c,u,a,l,A[n+3],F,4107603335),l=y(l,c,u,a,A[n+8],D,1163531501),a=y(a,l,c,u,A[n+13],E,2850285829),u=y(u,a,l,c,A[n+2],P,4243563512),c=y(c,u,a,l,A[n+7],F,1735328473),l=y(l,c,u,a,A[n+12],D,2368359562),a=b(a,l,c,u,A[n+5],T,4294588738),u=b(u,a,l,c,A[n+8],B,2272392833),c=b(c,u,a,l,A[n+11],L,1839030562),l=b(l,c,u,a,A[n+14],M,4259657740),a=b(a,l,c,u,A[n+1],T,2763975236),u=b(u,a,l,c,A[n+4],B,1272893353),c=b(c,u,a,l,A[n+7],L,4139469664),l=b(l,c,u,a,A[n+10],M,3200236656),a=b(a,l,c,u,A[n+13],T,681279174),u=b(u,a,l,c,A[n+0],B,3936430074),c=b(c,u,a,l,A[n+3],L,3572445317),l=b(l,c,u,a,A[n+6],M,76029189),a=b(a,l,c,u,A[n+9],T,3654602809),u=b(u,a,l,c,A[n+12],B,3873151461),c=b(c,u,a,l,A[n+15],L,530742520),l=b(l,c,u,a,A[n+2],M,3299628645),a=w(a,l,c,u,A[n+0],R,4096336452),u=w(u,a,l,c,A[n+7],I,1126891415),c=w(c,u,a,l,A[n+14],O,2878612391),l=w(l,c,u,a,A[n+5],N,4237533241),a=w(a,l,c,u,A[n+12],R,1700485571),u=w(u,a,l,c,A[n+3],I,2399980690),c=w(c,u,a,l,A[n+10],O,4293915773),l=w(l,c,u,a,A[n+1],N,2240044497),a=w(a,l,c,u,A[n+8],R,1873313359),u=w(u,a,l,c,A[n+15],I,4264355552),c=w(c,u,a,l,A[n+6],O,2734768916),l=w(l,c,u,a,A[n+13],N,1309151649),a=w(a,l,c,u,A[n+4],R,4149444226),u=w(u,a,l,c,A[n+11],I,3174756917),c=w(c,u,a,l,A[n+2],O,718787259),l=w(l,c,u,a,A[n+9],N,3951481745),a=h(a,i),l=h(l,r),c=h(c,o),u=h(u,s);return(C(a)+C(l)+C(c)+C(u)).toLowerCase()}}}])}(window,document),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="monospaced.elastic"),angular.module("monospaced.elastic",[]).constant("msdElasticConfig",{append:""}).directive("msdElastic",["$timeout","$window","msdElasticConfig",function(e,t,n){"use strict";return{require:"ngModel",restrict:"A, C",link:function(i,r,o,s){function a(){var e=v;p=u,w=getComputedStyle(u),angular.forEach(E,function(t){e+=t+":"+w.getPropertyValue(t)+";"}),b.setAttribute("style",e)}function l(){var t,n,r,o,s;p!==u&&a(),f||(f=!0,b.value=u.value+g,b.style.overflowY=u.style.overflowY,t=""===u.style.height?"auto":parseInt(u.style.height,10),n=getComputedStyle(u).getPropertyValue("width"),"px"===n.substr(n.length-2,2)&&(o=parseInt(n,10)-A.width,b.style.width=o+"px"),r=b.scrollHeight,r>k?(r=k,s="scroll"):r<x&&(r=x),r+=A.height,u.style.overflowY=s||"hidden",t!==r&&(i.$emit("elastic:resize",d,t,r),u.style.height=r+"px"),e(function(){f=!1},1,!1))}function c(){f=!1,l()}var u=r[0],d=r;if("TEXTAREA"===u.nodeName&&t.getComputedStyle){d.css({overflow:"hidden","overflow-y":"hidden","word-wrap":"break-word"});var h=u.value;u.value="",u.value=h;var p,f,g=o.msdElastic?o.msdElastic.replace(/\\n/g,"\n"):n.append,m=angular.element(t),v="position: absolute; top: -999px; right: auto; bottom: auto;left: 0; overflow: hidden; -webkit-box-sizing: content-box;-moz-box-sizing: content-box; box-sizing: content-box;min-height: 0 !important; height: 0 !important; padding: 0;word-wrap: break-word; border: 0;",y=angular.element('<textarea aria-hidden="true" tabindex="-1" style="'+v+'"/>').data("elastic",!0),b=y[0],w=getComputedStyle(u),_=w.getPropertyValue("resize"),C="border-box"===w.getPropertyValue("box-sizing")||"border-box"===w.getPropertyValue("-moz-box-sizing")||"border-box"===w.getPropertyValue("-webkit-box-sizing"),A=C?{width:parseInt(w.getPropertyValue("border-right-width"),10)+parseInt(w.getPropertyValue("padding-right"),10)+parseInt(w.getPropertyValue("padding-left"),10)+parseInt(w.getPropertyValue("border-left-width"),10),height:parseInt(w.getPropertyValue("border-top-width"),10)+parseInt(w.getPropertyValue("padding-top"),10)+parseInt(w.getPropertyValue("padding-bottom"),10)+parseInt(w.getPropertyValue("border-bottom-width"),10)}:{width:0,height:0},S=parseInt(w.getPropertyValue("min-height"),10),$=parseInt(w.getPropertyValue("height"),10),x=Math.max(S,$)-A.height,k=parseInt(w.getPropertyValue("max-height"),10),E=["font-family","font-size","font-weight","font-style","letter-spacing","line-height","text-transform","word-spacing","text-indent"];d.data("elastic")||(k=k&&k>0?k:9e4,b.parentNode!==document.body&&angular.element(document.body).append(b),d.css({resize:"none"===_||"vertical"===_?"none":"horizontal"}).data("elastic",!0),u.oninput="onpropertychange"in u&&"oninput"in u?u.onkeyup=l:l,m.bind("resize",c),i.$watch(function(){return s.$modelValue},function(){c()}),i.$on("elastic:adjust",function(){a(),c()}),e(l,0,!1),i.$on("$destroy",function(){y.remove(),m.unbind("resize",c)}))}}}}]),angular.module("btford.markdown",["ngSanitize"]).provider("markdownConverter",function(){var e={};return{config:function(t){e=t},$get:function(){return new Showdown.converter(e)}}}).directive("btfMarkdown",["$sanitize","markdownConverter",function(e,t){return{restrict:"AE",link:function(n,i,r){if(r.btfMarkdown)n.$watch(r.btfMarkdown,function(n){var r=n?e(t.makeHtml(n)):"";i.html(r)});else{var o=e(t.makeHtml(i.text()));i.html(o)}}}}]),function(e,t){"use strict";function n(){function n(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?l(r[n]):r[n]]=!0;return i}function i(e,t){null===e||e===undefined?e="":"string"!=typeof e&&(e=""+e);var n=M(e);if(!n)return"";var i=5;do{if(0===i)throw p("uinput","Failed to sanitize html because the input is unstable");i--,e=n.innerHTML,n=M(e)}while(e!==n.innerHTML);for(var r=n.firstChild;r;){switch(r.nodeType){case 1:t.start(r.nodeName.toLowerCase(),f(r.attributes));break;case 3:t.chars(r.textContent)}var o;if(!((o=r.firstChild)||(1===r.nodeType&&t.end(r.nodeName.toLowerCase()),o=y("nextSibling",r))))for(;null==o&&(r=y("parentNode",r))!==n;)o=y("nextSibling",r),1===r.nodeType&&t.end(r.nodeName.toLowerCase());r=o}for(;r=n.firstChild;)n.removeChild(r)}function f(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function g(e){return e.replace(/&/g,"&amp;").replace(w,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(_,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(e,t){var n=!1,i=r(e,e.push);return{start:function(e,r){e=l(e),!n&&P[e]&&(n=e),n||!0!==F[e]||(i("<"),i(e),s(r,function(n,r){var o=l(r),s="img"===e&&"src"===o||"background"===o;!0!==L[o]||!0===D[o]&&!t(n,s)||(i(" "),i(r),i('="'),i(g(n)),i('"'))}),i(">"))},end:function(e){e=l(e),n||!0!==F[e]||!0===C[e]||(i("</"),i(e),i(">")),e==n&&(n=!1)},chars:function(e){n||i(g(e))}}}function v(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var o=n[i],s=o.name.toLowerCase();"xmlns:ns1"!==s&&0!==s.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),i--,r--)}var a=t.firstChild;a&&v(a),t=y("nextSibling",t)}}function y(e,t){var n=t[e];if(n&&u.call(t,n))throw p("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var b=!1;this.$get=["$$sanitizeUri",function(e){return b&&o(F,E),function(t){var n=[];return d(t,h(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return a(e)?(b=e,this):b},r=t.bind,o=t.extend,s=t.forEach,a=t.isDefined,l=t.lowercase,c=t.noop,d=i,h=m,u=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_=/([^#-~ |!])/g,C=n("area,br,col,hr,img,wbr"),A=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),S=n("rp,rt"),$=o({},S,A),x=o({},A,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),k=o({},S,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),P=n("script,style"),F=o({},C,x,k,$),D=n("background,cite,href,longdesc,src,xlink:href"),T=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),B=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),L=o({},D,B,T),M=function(e,t){function n(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return undefined}var n=new e.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+t,!1),n.send(null);var i=n.response.body;return i.firstChild.remove(),i}function i(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return undefined}}function r(e){return s.innerHTML=e,t.documentMode&&v(s),s}var o;if(!t||!t.implementation)throw p("noinert","Can't create an inert html document");o=t.implementation.createHTMLDocument("inert");var s=(o.documentElement||o.getDocumentElement()).querySelector("body");return s.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',
s.querySelector("svg")?(s.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',s.querySelector("svg img")?i:r):n}(e,e.document)}function i(e){var t=[];return h(t,c).chars(e),t.join("")}var r,o,s,a,l,c,u,d,h,p=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n).info({angularVersion:"1.6.5"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=t.$$minErr("linky"),s=t.isDefined,a=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,d){function h(e){e&&b.push(i(e))}function p(e,t){var n,i=v(e);b.push("<a ");for(n in i)b.push(n+'="'+i[n]+'" ');!s(u)||"target"in i||b.push('target="',u,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),h(t),b.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw o("notstring","Expected string but received: {0}",t);for(var f,g,m,v=a(d)?d:l(d)?function(){return d}:function(){return{}},y=t,b=[];f=y.match(n);)g=f[0],f[2]||f[4]||(g=(f[3]?"http://":"mailto:")+g),m=f.index,h(y.substr(0,m)),p(g,f[0].replace(r,"")),y=y.substring(m+f[0].length);return h(y),e(b.join(""))}}])}(window,window.angular),function(){"use strict";angular.module("MassAutoComplete",[]).provider("massAutocompleteConfig",function(){var e=this;e.KEYS={TAB:9,ESC:27,ENTER:13,UP:38,DOWN:40},e.EVENTS={KEYDOWN:"keydown",RESIZE:"resize",BLUR:"blur"},e.DEBOUNCE={position:150,attach:300,suggest:200,blur:150},e.generate_random_id=function(e){return e+"_"+Math.random().toString().substring(2)},e.position_autocomplete=function(e,t){var n=t[0].getBoundingClientRect(),i=document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset,r=document.body.scrollLeft||document.documentElement.scrollLeft||window.pageXOffset;e[0].style.top=n.top+n.height+i+"px",e[0].style.left=n.left+r+"px",e[0].style.width=n.width+"px"},this.$get=function(){return e}}).directive("massAutocomplete",["massAutocompleteConfig","$timeout","$window","$document","$q",function(e,t,n,i,r){return{restrict:"A",scope:{options:"&massAutocomplete"},transclude:!0,template:'<span ng-transclude></span><div class="ac-container" aria-autocomplete="list" role="listbox" ng-show="show_autocomplete"><ul class="ac-menu"> <li ng-repeat="result in results" ng-if="$index > 0" class="ac-menu-item" role="option" id="{{result.id}}" ng-class="$index == selected_index ? \'ac-state-focus\': \'\'"><a href ng-click="apply_selection($index)" ng-bind-html="result.label"></a></li></ul></div>',link:function(e,t){e.container=angular.element(t[0].getElementsByClassName("ac-container")[0]),e.container[0].style.position="absolute"},controller:["$scope",function(o){function s(){o.show_autocomplete=!0}function a(){o.show_autocomplete=!1,f()}function l(e,n,i){var r;return function(){var o=this,s=arguments,a=function(){r=null,i||e.apply(o,s)},l=i&&!r;t.cancel(r),r=t(a,n),l&&e.apply(o,s)}}function c(t){return!(t.id&&""!==t.id||(t.id=e.generate_random_id("ac_element"),0))}function u(){e.position_autocomplete(o.container,b)}function d(t,n){o.selected_index=0,o.waiting_for_suggestion=!0,"string"==typeof t&&t.length>0?r.when(_.suggest(t),function(i){b&&b===n&&(i&&i.length>0?(i.forEach(function(t){t.id||(t.id=e.generate_random_id("ac_item"))}),o.results=[{value:t,label:"",id:""}].concat(i),s(),_.auto_select_first&&g(1)):(o.results=[],a()))},function(e){a(),_.on_error&&_.on_error(e)})["finally"](function(){o.waiting_for_suggestion=!1}):(o.waiting_for_suggestion=!1,a(),o.$apply())}function h(e,t,n){b!==t&&(b&&v.detach(),t[0]===i[0].activeElement&&(n.on_attach&&n.on_attach(),b=t,w=e,_=n,C=e.$viewValue,$=c(t),o.container[0].setAttribute("aria-labelledby",b.id),o.results=[],o.selected_index=-1,m(),A=o.$watch(function(){return e.$modelValue},function(e){e!==S&&(u(),P(e,b))})))}function p(e){w.$modelValue!==e&&(w.$setViewValue(e),w.$render())}function f(){o.selected_index=-1,o.container[0].removeAttribute("aria-activedescendant")}function g(e){var t=o.results[e];return b.val(t.value),o.selected_index=e,o.container[0].setAttribute("aria-activedescendant",t.id),t}function m(){angular.element(n).bind(e.EVENTS.RESIZE,E),y[e.EVENTS.BLUR]=function(){t(function(){b&&b[0]===i[0].activeElement||v.detach()},k.debounce_blur)},b.bind(e.EVENTS.BLUR,y[e.EVENTS.BLUR]),y[e.EVENTS.KEYDOWN]=function(t){if(!t.shiftKey)switch(t.keyCode){case e.KEYS.ESC:o.show_autocomplete?(a(),o.$apply()):b.val(C);break;case e.KEYS.ENTER:o.show_autocomplete&&o.selected_index>0&&!o.waiting_for_suggestion&&(o.apply_selection(o.selected_index),t.stopPropagation(),t.preventDefault()),a(),o.$apply();break;case e.KEYS.TAB:if(!o.show_autocomplete)break;t.preventDefault();case e.KEYS.DOWN:o.results.length>0&&(o.show_autocomplete?g(o.selected_index+1>o.results.length-1?0:o.selected_index+1):(s(),g(0)),o.$apply());break;case e.KEYS.UP:o.show_autocomplete&&(t.preventDefault(),g(o.selected_index-1>=0?o.selected_index-1:o.results.length-1),o.$apply())}},b.bind(e.EVENTS.KEYDOWN,y[e.EVENTS.KEYDOWN])}var v=this,y={};y[e.EVENTS.BLUR]=null,y[e.EVENTS.KEYDOWN]=null,y[e.EVENTS.RESIZE]=null;var b,w,_,C,A,S,$,x=o.options()||{},k={debounce_position:x.debounce_position||e.DEBOUNCE.position,debounce_attach:x.debounce_attach||e.DEBOUNCE.attach,debounce_suggest:x.debounce_suggest||e.DEBOUNCE.suggest,debounce_blur:x.debounce_blur||e.DEBOUNCE.blur};o.show_autocomplete=!1;var E=l(u,k.debounce_position),P=l(d,k.debounce_suggest);v.attach=l(h,k.debounce_attach),v.detach=function(){if(b){var t=b.val();p(t),_.on_detach&&_.on_detach(t),b.unbind(e.EVENTS.KEYDOWN,y[e.EVENTS.KEYDOWN]),b.unbind(e.EVENTS.BLUR,y[e.EVENTS.BLUR]),$&&b[0].removeAttribute("id")}a(),o.container[0].removeAttribute("aria-labelledby"),angular.element(n).unbind(e.EVENTS.RESIZE,y[e.EVENTS.RESIZE]),A&&A(),o.selected_index=o.results=void 0,w=b=C=void 0},o.apply_selection=function(e){if(b[0].focus(),!(!o.show_autocomplete||e>o.results.length||e<0)){var t=g(e);S=t.value,p(t.value),a(),_.on_select&&_.on_select(t)}},o.$on("$destroy",function(){v.detach(),o.container.remove()})}]}}]).directive("massAutocompleteItem",function(){return{restrict:"A",require:["^massAutocomplete","ngModel"],scope:{massAutocompleteItem:"&"},link:function(e,t,n,i){n.$set("autocomplete","off");var r=i[0],o=i[1];t.bind("focus",function(){var n=e.massAutocompleteItem();if(!n)throw new Error("Invalid options");r.attach(o,t,n)})}}})}(),angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(e){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var t=function(e,t,n){if(angular.isDefined(n.workerPath)){window.ace.require("ace/config").set("workerPath",n.workerPath)}angular.isDefined(n.require)&&n.require.forEach(function(e){window.ace.require(e)}),angular.isDefined(n.showGutter)&&e.renderer.setShowGutter(n.showGutter),angular.isDefined(n.useWrapMode)&&t.setUseWrapMode(n.useWrapMode),angular.isDefined(n.showInvisibles)&&e.renderer.setShowInvisibles(n.showInvisibles),angular.isDefined(n.showIndentGuides)&&e.renderer.setDisplayIndentGuides(n.showIndentGuides),angular.isDefined(n.useSoftTabs)&&t.setUseSoftTabs(n.useSoftTabs),angular.isDefined(n.showPrintMargin)&&e.setShowPrintMargin(n.showPrintMargin),angular.isDefined(n.disableSearch)&&n.disableSearch&&e.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(n.theme)&&e.setTheme("ace/theme/"+n.theme),angular.isString(n.mode)&&t.setMode("ace/mode/"+n.mode),angular.isDefined(n.firstLineNumber)&&(angular.isNumber(n.firstLineNumber)?t.setOption("firstLineNumber",n.firstLineNumber):angular.isFunction(n.firstLineNumber)&&t.setOption("firstLineNumber",n.firstLineNumber()));var i,r;if(angular.isDefined(n.advanced))for(i in n.advanced)r={name:i,value:n.advanced[i]},e.setOption(r.name,r.value);if(angular.isDefined(n.rendererOptions))for(i in n.rendererOptions)r={name:i,value:n.rendererOptions[i]},e.renderer.setOption(r.name,r.value);angular.forEach(n.callbacks,function(t){angular.isFunction(t)&&t(e)})};return{restrict:"EA",require:"?ngModel",link:function(n,i,r,o){var s,a,l=e.ace||{},c=angular.extend({},l,n.$eval(r.uiAce)),u=window.ace.edit(i[0]),d=u.getSession(),h=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);angular.isDefined(e)&&n.$evalAsync(function(){if(!angular.isFunction(e))throw new Error("ui-ace use a function as callback.");e(t)})},p={onChange:function(e){return function(t){var i=d.getValue();!o||i===o.$viewValue||n.$$phase||n.$root.$$phase||n.$evalAsync(function(){o.$setViewValue(i)}),h(e,t,u)}},onBlur:function(e){return function(){h(e,u)}}};r.$observe("readonly",function(e){u.setReadOnly(!!e||""===e)}),o&&(o.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-ace cannot use an object or an array as a model");return e}),o.$render=function(){d.setValue(o.$viewValue)});var f=function(e,i){e!==i&&(c=angular.extend({},l,n.$eval(r.uiAce)),c.callbacks=[c.onLoad],c.onLoad!==l.onLoad&&c.callbacks.unshift(l.onLoad),d.removeListener("change",s),s=p.onChange(c.onChange),d.on("change",s),u.removeListener("blur",a),a=p.onBlur(c.onBlur),u.on("blur",a),t(u,d,c))};n.$watch(r.uiAce,f,!0),f(l),i.on("$destroy",function(){u.session.$stopWorker(),u.destroy()}),n.$watch(function(){return[i[0].offsetWidth,i[0].offsetHeight]},function(){u.resize(),u.renderer.updateFull()},!0)}}}]),function(){"use strict";var e={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},t=9007199254740991,n=["text","email","url"],i=angular.module("ngTagsInput",[]);i.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(i,r,o,s,a,l){function c(e,t,n,i){var r,o,a,c,u={};return r=function(t){return l.safeToString(t[e.displayProperty])},o=function(t,n){t[e.displayProperty]=n},a=function(t){var i=r(t),o=i&&i.length>=e.minLength&&i.length<=e.maxLength&&e.allowedTagsPattern.test(i)&&!l.findInObjectArray(u.items,t,e.keyProperty||e.displayProperty);return s.when(o&&n({$tag:t})).then(l.promisifyValue)},c=function(e){return s.when(i({$tag:e})).then(l.promisifyValue)},u.items=[],u.addText=function(e){var t={};return o(t,e),u.add(t)},u.add=function(n){var i=r(n);return e.replaceSpacesWithDashes&&(i=l.replaceSpacesWithDashes(i)),o(n,i),a(n).then(function(){u.items.push(n),t.trigger("tag-added",{$tag:n})})["catch"](function(){i&&t.trigger("invalid-tag",{$tag:n})})},u.remove=function(e){var n=u.items[e];return c(n).then(function(){return u.items.splice(e,1),u.clearSelection(),t.trigger("tag-removed",{$tag:n}),n})},u.select=function(e){e<0?e=u.items.length-1:e>=u.items.length&&(e=0),u.index=e,u.selected=u.items[e]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null,u.index=-1},u.getItems=function(){return e.useStrings?u.items.map(r):u.items},u.clearSelection(),u}function u(e){return-1!==n.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,n,i){e.events=l.simplePubSub(),a.load("tagsInput",e,n,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",u],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,t],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,t],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0],useStrings:[Boolean,!1]}),e.tagList=new c(e.options,e.events,l.handleUndefinedResult(e.onTagAdding,!0),l.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){i.find("input");return{addTag:function(t){return e.tagList.add(t)},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},getTemplateScope:function(){return e.templateScope},on:function(t,n){return e.events.on(t,n,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(t,n,s,a){var c,u,d=[e.enter,e.comma,e.space,e.backspace,e["delete"],e.left,e.right],h=t.tagList,p=t.events,f=t.options,g=n.find("input"),m=["minTags","maxTags","allowLeftoverText"];c=function(){a.$setValidity("maxTags",h.items.length<=f.maxTags),a.$setValidity("minTags",h.items.length>=f.minTags),a.$setValidity("leftoverText",!(!t.hasFocus&&!f.allowLeftoverText)||!t.newTag.text())},u=function(){i(function(){g[0].focus()})},a.$isEmpty=function(e){return!e||!e.length},t.newTag={text:function(e){if(!angular.isDefined(e))return t.text||"";t.text=e,p.trigger("input-change",e)},invalid:null},t.track=function(e){return e[f.keyProperty||f.displayProperty]},t.getTagClass=function(e,n){var i=e===h.selected;return[t.tagClass({$tag:e,$index:n,$selected:i}),{selected:i}]},t.$watch("tags",function(e){if(e){if(h.items=l.makeObjectArray(e,f.displayProperty),f.useStrings)return;t.tags=h.items}else h.items=[]}),t.$watch("tags.length",function(){c(),a.$validate()}),s.$observe("disabled",function(e){t.disabled=e}),t.eventHandlers={input:{keydown:function(e){p.trigger("input-keydown",e)},focus:function(){t.hasFocus||(t.hasFocus=!0,p.trigger("input-focus"))},blur:function(){i(function(){var e=r.prop("activeElement"),i=e===g[0],o=n[0].contains(e);!i&&o||(t.hasFocus=!1,p.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):o.clipboardData.getData("Text")},p.trigger("input-paste",e)}},host:{click:function(){t.disabled||u()}},tag:{click:function(e){p.trigger("tag-clicked",{$tag:e})}}},p.on("tag-added",t.onTagAdded).on("invalid-tag",t.onInvalidTag).on("tag-removed",t.onTagRemoved).on("tag-clicked",t.onTagClicked).on("tag-added",function(){t.newTag.text("")}).on("tag-added tag-removed",function(){t.tags=h.getItems(),a.$setDirty(),u()}).on("invalid-tag",function(){t.newTag.invalid=!0}).on("option-change",function(e){-1!==m.indexOf(e.name)&&c()}).on("input-change",function(){h.clearSelection(),t.newTag.invalid=null}).on("input-focus",function(){n.triggerHandler("focus"),a.$setValidity("leftoverText",!0)}).on("input-blur",function(){f.addOnBlur&&!f.addFromAutocompleteOnly&&h.addText(t.newTag.text()),n.triggerHandler("blur"),c()}).on("input-keydown",function(n){var i,r,o,s,a=n.keyCode,c={};l.isModifierOn(n)||-1===d.indexOf(a)||(c[e.enter]=f.addOnEnter,c[e.comma]=f.addOnComma,c[e.space]=f.addOnSpace,i=!f.addFromAutocompleteOnly&&c[a],r=(a===e.backspace||a===e["delete"])&&h.selected,s=a===e.backspace&&0===t.newTag.text().length&&f.enableEditingLastTag,o=(a===e.backspace||a===e.left||a===e.right)&&0===t.newTag.text().length&&!f.enableEditingLastTag,i?h.addText(t.newTag.text()):s?(h.selectPrior(),h.removeSelected().then(function(e){e&&t.newTag.text(e[f.displayProperty])})):r?h.removeSelected():o&&(a===e.left||a===e.backspace?h.selectPrior():a===e.right&&h.selectNext()),(i||o||r||s)&&n.preventDefault())}).on("input-paste",function(e){if(f.addOnPaste){var t=e.getTextData(),n=t.split(f.pasteSplitPattern);n.length>1&&(n.forEach(function(e){h.addText(e)}),e.preventDefault())}})}}}]),i.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,n,i,r){var o=r.registerTagItem(),s=o.getOptions();t.$$template=s.template,t.$$removeTagSymbol=s.removeTagSymbol,t.$getDisplayText=function(){return e.safeToString(t.data[s.displayProperty])},t.$removeTag=function(){o.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),i.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,n,i,r,o,s){function a(e,t,n){var i,o,a,l={};return a=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},i=function(e,n){return e.filter(function(e){return!s.findInObjectArray(n,e,a(),function(e,n){return t.tagsInput.replaceSpacesWithDashes&&(e=s.replaceSpacesWithDashes(e),n=s.replaceSpacesWithDashes(n)),s.defaultComparer(e,n)})})},l.reset=function(){o=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){t.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=s.debounce(function(n,c){l.query=n;var u=r.when(e({$query:n}));o=u,u.then(function(e){u===o&&(e=s.makeObjectArray(e.data||e,a()),e=i(e,c),l.items=e.slice(0,t.maxResultsToShow),l.items.length>0?l.show():l.reset())})},t.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(e){e<0?e=l.items.length-1:e>=l.items.length&&(e=0),l.index=e,l.selected=l.items[e],n.trigger("suggestion-selected",e)},l.reset(),l}function l(e,t){var n=e.find("li").eq(t),i=n.parent(),r=n.prop("offsetTop"),o=n.prop("offsetHeight"),s=i.prop("clientHeight"),a=i.prop("scrollTop");r<a?i.prop("scrollTop",r):r+o>s+a&&i.prop("scrollTop",r+o-s)}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,n){e.events=s.simplePubSub(),o.load("autoComplete",e,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new a(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(t,n,i,r){var o,a=[e.enter,e.tab,e.escape,e.up,e.down],c=t.suggestionList,u=r.registerAutocomplete(),d=t.options,h=t.events;d.tagsInput=u.getOptions(),o=function(e){return e&&e.length>=d.minLength||!e&&d.loadOnEmpty},t.templateScope=u.getTemplateScope(),t.addSuggestionByIndex=function(e){c.select(e),t.addSuggestion()},t.addSuggestion=function(){var e=!1;return c.selected&&(u.addTag(angular.copy(c.selected)),c.reset(),e=!0),e},t.track=function(e){return e[d.tagsInput.keyProperty||d.tagsInput.displayProperty]},t.getSuggestionClass=function(e,n){var i=e===c.selected;return[t.matchClass({$match:e,$index:n,$selected:i}),{selected:i}]},u.on("tag-added tag-removed invalid-tag input-blur",function(){c.reset()}).on("input-change",function(e){o(e)?c.load(e,u.getTags()):c.reset()}).on("input-focus",function(){var e=u.getCurrentTagText();d.loadOnFocus&&o(e)&&c.load(e,u.getTags())}).on("input-keydown",function(n){var i=n.keyCode,r=!1;if(!s.isModifierOn(n)&&-1!==a.indexOf(i))return c.visible?i===e.down?(c.selectNext(),r=!0):i===e.up?(c.selectPrior(),r=!0):i===e.escape?(c.reset(),r=!0):i!==e.enter&&i!==e.tab||(r=t.addSuggestion()):i===e.down&&t.options.loadOnDownArrow&&(c.load(u.getCurrentTagText(),u.getTags()),r=!0),r?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),h.on("suggestion-selected",function(e){l(n,e)})}}}]),i.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(n,i,r,o){var s=o.registerAutocompleteMatch(),a=s.getOptions();n.$$template=a.template,n.$index=n.$parent.$index,n.$highlight=function(n){return a.highlightMatchedText&&(n=t.safeHighlight(n,s.getQuery())),e.trustAsHtml(n)},n.$getDisplayText=function(){return t.safeToString(n.data[a.displayProperty||a.tagsInput.displayProperty])}}}}]),i.directive("tiTranscludeAppend",function(){return function(e,t,n,i,r){r(function(e){t.append(e)})}}),i.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,i,r){var o,s,a=e.getTextAutosizeThreshold();o=angular.element('<span class="input"></span>'),o.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(o),s=function(e){var t,r=e;return angular.isString(r)&&0===r.length&&(r=i.placeholder),r&&(o.text(r),o.css("display",""),t=o.prop("offsetWidth"),o.css("display","none")),n.css("width",t?t+a+"px":""),e},r.$parsers.unshift(s),r.$formatters.unshift(s),i.$observe("placeholder",function(e){r.$modelValue||s(e)})}}}]),i.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){n.$set(t,e)})},!0)}}),i.provider("tagsInputConfig",function(){var e={},t={},n=3;this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.setTextAutosizeThreshold=function(e){return n=e,this},this.$get=["$interpolate",function(i){var r={};return r[String]=function(e){return e},r[Number]=function(e){return parseInt(e,10)},r[Boolean]=function(e){return"true"===e.toLowerCase()},r[RegExp]=function(e){return new RegExp(e)},{load:function(n,o,s,a){var l=function(){return!0};o.options={},angular.forEach(a,function(a,c){var u,d,h,p,f,g;u=a[0],d=a[1],h=a[2]||l,p=r[u],f=function(){var t=e[n]&&e[n][c];return angular.isDefined(t)?t:d},g=function(e){o.options[c]=e&&h(e)?p(e):f()},t[n]&&t[n][c]?s.$observe(c,function(e){g(e),o.events.trigger("option-change",{name:c,newValue:e})}):g(s[c]&&i(s[c])(o.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),i.factory("tiUtil",["$timeout","$q",function(e,t){var n={};return n.debounce=function(t,n){var i;return function(){var r=arguments;e.cancel(i),i=e(function(){t.apply(null,r)},n)}},n.makeObjectArray=function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var n=[];return e.forEach(function(e){var i={};i[t]=e,n.push(i)}),n},n.findInObjectArray=function(e,t,i,r){var o=null;return r=r||n.defaultComparer,e.some(function(e){if(r(e[i],t[i]))return o=e,!0}),o},n.defaultComparer=function(e,t){return n.safeToString(e).toLowerCase()===n.safeToString(t).toLowerCase()},n.safeHighlight=function(e,t){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(e=n.encodeHTML(e),!(t=n.encodeHTML(t)))return e;var r=new RegExp("&[^;]+;|"+i(t),"gi");return e.replace(r,function(e){return e.toLowerCase()===t.toLowerCase()?"<em>"+e+"</em>":e})},n.safeToString=function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},n.encodeHTML=function(e){return n.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.handleUndefinedResult=function(e,t){return function(){var n=e.apply(null,arguments);return angular.isUndefined(n)?t:n}},n.replaceSpacesWithDashes=function(e){return n.safeToString(e).replace(/\s/g,"-")},n.isModifierOn=function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},n.promisifyValue=function(e){return e=!!angular.isUndefined(e)||e,t[e?"when":"reject"]()},n.simplePubSub=function(){var e={};return{on:function(t,n,i){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),(i?[].unshift:[].push).call(e[t],n)}),this},trigger:function(t,i){return(e[t]||[]).every(function(e){return n.handleUndefinedResult(e,!0)(i)}),this}}},n}]),i.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),function(){function e(e){function t(t,n,i,r,o,s){for(;o>=0&&o<s;o+=e){var a=r?r[o]:o;i=n(i,t[a],a,t)}return i}return function(n,i,r,o){i=b(i,o,4);var s=!x(n)&&y.keys(n),a=(s||n).length,l=e>0?0:a-1;return arguments.length<3&&(r=n[s?s[l]:l],l+=e),t(n,i,r,s,l,a)}}function t(e){return function(t,n,i){n=w(n,i);for(var r=$(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(i,r,o){var s=0,a=$(i);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(u.call(i,s,a),y.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(i[o]===r)return o;return-1}}function i(e,t){var n=D.length,i=e.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)(o=D[n])in e&&e[o]!==r[o]&&!y.contains(t,o)&&t.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,c=s.push,u=s.slice,d=a.toString,h=a.hasOwnProperty,p=Array.isArray,f=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return w(e,t,Infinity)};var _=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=e(o),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}},C=function(e){if(!y.isObject(e))return{};if(m)return m(e);v.prototype=e;var t=new v;return v.prototype=null,t},A=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,$=A("length"),x=function(e){var t=$(e);return"number"==typeof t&&t>=0&&t<=S};y.each=y.forEach=function(e,t,n){t=b(t,n);var i,r;if(x(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=y.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},y.map=y.collect=function(e,t,n){t=w(t,n);for(var i=!x(e)&&y.keys(e),r=(i||e).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var i;if(void 0!==(i=x(e)?y.findIndex(e,t,n):y.findKey(e,t,n))&&-1!==i)return e[i]},y.filter=y.select=function(e,t,n){var i=[];return t=w(t,n),y.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},y.reject=function(e,t,n){return y.filter(e,y.negate(w(t)),n)},y.every=y.all=function(e,t,n){t=w(t,n);for(var i=!x(e)&&y.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0},y.some=y.any=function(e,t,n){t=w(t,n);for(var i=!x(e)&&y.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,i){return x(e)||(e=y.values(e)),("number"!=typeof n||i)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=u.call(arguments,2),i=y.isFunction(t);return y.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var i,r,o=-Infinity,s=-Infinity;if(null==t&&null!=e){e=x(e)?e:y.values(e);for(var a=0,l=e.length;a<l;a++)(i=e[a])>o&&(o=i)}else t=w(t,n),y.each(e,function(e,n,i){((r=t(e,n,i))>s||r===-Infinity&&o===-Infinity)&&(o=e,s=r)});return o},y.min=function(e,t,n){var i,r,o=Infinity,s=Infinity;if(null==t&&null!=e){e=x(e)?e:y.values(e);for(var a=0,l=e.length;a<l;a++)(i=e[a])<o&&(o=i)}else t=w(t,n),y.each(e,function(e,n,i){((r=t(e,n,i))<s||r===Infinity&&o===Infinity)&&(o=e,s=r)});return o},y.shuffle=function(e){for(var t,n=x(e)?e:y.values(e),i=n.length,r=Array(i),o=0;o<i;o++)t=y.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},y.sample=function(e,t,n){return null==t||n?(x(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=w(t,n),y.pluck(y.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var k=function(e){return function(t,n,i){var r={};return n=w(n,i),y.each(t,function(i,o){var s=n(i,o,t);e(r,i,s)}),r}};y.groupBy=k(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=k(function(e,t,n){e[n]=t}),y.countBy=k(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?u.call(e):x(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:x(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=w(t,n);var i=[],r=[];return y.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},y.first=y.head=y.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var E=function(e,t,n,i){for(var r=[],o=0,s=i||0,a=$(e);s<a;s++){var l=e[s];if(x(l)&&(y.isArray(l)||y.isArguments(l))){t||(l=E(l,t,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};y.flatten=function(e,t){return E(e,t,!1)},y.without=function(e){return y.difference(e,u.call(arguments,1))},y.uniq=y.unique=function(e,t,n,i){y.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],s=0,a=$(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t?(s&&o===c||r.push(l),o=c):n?y.contains(o,c)||(o.push(c),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(E(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=$(e);i<r;i++){var o=e[i];if(!y.contains(t,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},y.difference=function(e){var t=E(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,$).length||0,n=Array(t),i=0;i<t;i++)n[i]=y.pluck(e,i);return n},y.object=function(e,t){for(var n={},i=0,r=$(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,i){n=w(n,i,1);for(var r=n(t),o=0,s=$(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e
;return r};var P=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=C(e.prototype),s=e.apply(o,r);return y.isObject(s)?s:o};y.bind=function(e,t){if(g&&e.bind===g)return g.apply(e,u.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),i=function(){return P(e,i,t,this,n.concat(u.call(arguments)))};return i},y.partial=function(e){var t=u.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),s=0;s<r;s++)o[s]=t[s]===y?arguments[i++]:t[s];for(;i<arguments.length;)o.push(arguments[i++]);return P(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return y.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:y.now(),s=null,o=e.apply(i,r),s||(i=r=null)};return function(){var c=y.now();a||!1!==n.leading||(a=c);var u=t-(c-a);return i=this,r=arguments,u<=0||u>t?(s&&(clearTimeout(s),s=null),a=c,o=e.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(l,u)),o}},y.debounce=function(e,t,n){var i,r,o,s,a,l=function(){var c=y.now()-s;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=y.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(o,r),o=r=null),a}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return F&&i(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return F&&i(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},y.mapObject=function(e,t,n){t=w(t,n);for(var i,r=y.keys(e),o=r.length,s={},a=0;a<o;a++)i=r[a],s[i]=t(e[i],i,e);return s},y.pairs=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},y.invert=function(e){for(var t={},n=y.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=_(y.allKeys),y.extendOwn=y.assign=_(y.keys),y.findKey=function(e,t,n){t=w(t,n);for(var i,r=y.keys(e),o=0,s=r.length;o<s;o++)if(i=r[o],t(e[i],i,e))return i},y.pick=function(e,t,n){var i,r,o={},s=e;if(null==s)return o;y.isFunction(t)?(r=y.allKeys(s),i=b(t,n)):(r=E(arguments,!1,!1,1),i=function(e,t,n){return t in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var c=r[a],u=s[c];i(u,c,s)&&(o[c]=u)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var i=y.map(E(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(i,t)}}return y.pick(e,t,n)},y.defaults=_(y.allKeys,!0),y.create=function(e,t){var n=C(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0};var T=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!T(e[l],t[l],n,i))return!1}else{var c,u=y.keys(e);if(l=u.length,y.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!y.has(t,c)||!T(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(e,t){return T(e,t)},y.isEmpty=function(e){return null==e||(x(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=p||function(e){return"[object Array]"===d.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&h.call(e,t)},y.noConflict=function(){return r._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=A,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=y.invert(B),M=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};y.escape=M(B),y.unescape=M(L),y.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),y.isFunction(i)?i.call(e):i};var R=0;y.uniqueId=function(e){var t=++R+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+O[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var i=RegExp([(t.escape||I).source,(t.interpolate||I).source,(t.evaluate||I).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,s,a){return o+=e.slice(r,a).replace(N,z),r=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,y)},l=t.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},y.chain=function(e){var t=y(e);return t._chain=!0,t};var U=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),U(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],U(this,n)}}),y.each(["concat","join","slice"],function(e){var t=s[e];y.prototype[e]=function(){return U(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=e._data(r,"events"),i&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,o,s,a,l={},c=t.split(".")[0];return t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},o=e[c][t],s=e[c][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(i,function(t,i){if(!e.isFunction(i))return void(l[t]=i);l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:c,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i,r,o=n.call(arguments,1),s=0,a=o.length;s<a;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&r!==undefined&&(e.isPlainObject(r)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],r):e.widget.extend({},r):t[i]=r);return t},e.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=n.call(arguments,1),l=this;return s?this.each(function(){var n,i=e.data(this,r);return"instance"===o?(l=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a),n!==i&&n!==undefined?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new i(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(r=s[t]=e.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return r[t]===undefined?null:r[t];r[t]=n}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function a(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):n.bind(c,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}});e.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var i,r,o,s=n.initialIframeSrc||"javascript:false;";return{send:function(a,l){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),t+=1,r=e('<iframe src="'+s+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var t;try{if(t=r.contents(),!t.length||!t[0].firstChild)throw new Error}catch(e){t=undefined}l(200,"success",{iframe:t}),e('<iframe src="'+s+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),t&&t.length&&n.fileInput.each(function(n,i){var r=e(t[n]);e(i).prop("name",r.prop("name")).attr("form",r.attr("form")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src",s),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var n="dragover"===t;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&-1!==e.inArray("Files",r.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:i}))&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=r,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,r=t.files[0],o=t.multipart||!e.support.xhrFileUpload,s="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",r)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:s,value:t.blob}):e.each(t.files,function(i,r){n.push({name:"array"===e.type(t.paramName)&&t.paramName[i]||s,value:r})})):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(s,t.blob,r.name):e.each(t.files,function(r,o){(i._isInstanceOf("File",o)||i._isInstanceOf("Blob",o))&&n.append("array"===e.type(t.paramName)&&t.paramName[r]||s,o,o.uploadName||o.name)})),t.data=n):(t.contentType=r.type||"application/octet-stream",t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var r=e.Deferred(),o=r.promise();return n=n||this.options.context||o,!0===t?r.resolveWith(n,i):!1===t&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var i=this,r=function(t){return e.Deferred().resolveWith(i,t).promise()};n.process=function(t,o){return(t||o)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).then(function(){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():r(arguments)}).then(t,o)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var i,r,o=this,s=t.files[0],a=s.size,l=t.uploadedBytes,c=t.maxChunkSize||a,u=this._blobSlice,d=e.Deferred(),h=d.promise();return!(!(this._isXHRUpload(t)&&u&&(l||c<a))||t.data)&&(!!n||(l>=a?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(r=function(){var n=e.extend({},t),h=n._progress.loaded;n.blob=u.call(s,l,l+c,s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,o._initXHRData(n),o._initProgressListener(n),i=(!1!==o._trigger("chunksend",null,n)&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,s,c){l=o._getUploadedBytes(c)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),l<a?r():d.resolveWith(n.context,[i,s,c])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},r(),h)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,r){var o=r._progress.total,s=r._response;r._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),s.result=r.result=t,s.textStatus=r.textStatus=n,s.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,r,o,s,a=this,l=a._getAJAXSettings(n),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((r||!1===a._trigger("send",e.Event("send",{delegatedEvent:t}),l))&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){a._onDone(e,t,n,l)}).fail(function(e,t,n){a._onFail(e,t,n,l)}).always(function(e,t,n){if(a._onAlways(e,t,n,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),s=o.then(c)):(this._sequence=this._sequence.then(c,c),s=this._sequence),s.abort=function(){return r=[undefined,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),c())},this._enhancePromise(s)):c()},_onAdd:function(t,n){var i,r,o,s,a=this,l=!0,c=e.extend({},this.options,n),u=n.files,d=u.length,h=c.limitMultiFileUploads,p=c.limitMultiFileUploadSize,f=c.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(c),v=0;if(!d)return!1;if(p&&u[0].size===undefined&&(p=undefined),(c.singleFileUploads||h||p)&&this._isXHRUpload(c))if(c.singleFileUploads||p||!h)if(!c.singleFileUploads&&p)for(o=[],i=[],s=0;s<d;s+=1)g+=u[s].size+f,(s+1===d||g+u[s+1].size+f>p||h&&s+1-v>=h)&&(o.push(u.slice(v,s+1)),r=m.slice(v,s+1),r.length||(r=m),i.push(r),v=s+1,g=0);else i=m;else for(o=[],i=[],s=0;s<d;s+=h)o.push(u.slice(s,s+h)),r=m.slice(s,s+h),r.length||(r=m),i.push(r);else o=[u],i=[m];return n.originalFiles=u,e.each(o||u,function(r,s){var c=e.extend({},n);return c.files=o?s:[s],c.paramName=i[r],a._initResponseObject(c),a._initProgressObject(c),a._addConvenienceMethods(t,c),l=a._trigger("add",e.Event("add",{delegatedEvent:t}),c)}),l},_replaceFileInput:function(t){var n=t.fileInput,i=n.clone(!0),r=n.is(document.activeElement);t.fileInputClone=i,e("<form></form>").append(i)[0].reset(),n.after(i).detach(),r&&i.focus(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?i[0]:t}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var i,r=this,o=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},a=function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(s)},l=function(){i.readEntries(function(e){e.length?(c=c.concat(e),l()):a(c)},s)},c=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},s):t.isDirectory?(i=t.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,r=t.prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=e.makeArray(t.prop("files")),n.length)n[0].name===undefined&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(i=t.prop("value")))return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",e.Event("change",{delegatedEvent:t}),i)&&n._onAdd(t,i)})},_onPaste:function(t){
var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),i)&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,i=t.dataTransfer,r={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,!1!==n._trigger("drop",e.Event("drop",{delegatedEvent:t}),r)&&n._onAdd(t,r)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._specialOptions);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,i=this.element.data();e.each(this.element[0].attributes,function(e,r){var o,s=r.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=i[s],t._isRegExpOption(s,o)&&(o=t._getRegExp(o)),n[s]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,o=e.Deferred(),s=o.promise();return s.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!i){if(!e.length)return void o.reject();t.files=e,n=r._onSend(null,t),n.then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";var t=function(e,n){var i=/[^\w\-\.:]/.test(e)?new Function(t.arg+",tmpl","var _e=tmpl.encode"+t.helper+",_s='"+e.replace(t.regexp,t.func)+"';return _s;"):t.cache[e]=t.cache[e]||t(t.load(e));return n?i(n,t):function(e){return i(e,t)}};t.cache={},t.load=function(e){return document.getElementById(e).innerHTML},t.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,t.func=function(e,t,n,i,r,o){return t?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[t]||"\\"+t:n?"="===n?"'+_e("+i+")+'":"'+("+i+"==null?'':"+i+")+'":r?"';":o?"_s+='":void 0},t.encReg=/[<>&"'\x00]/g,t.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},t.encode=function(e){return(null==e?"":""+e).replace(t.encReg,function(e){return t.encMap[e]||""})},t.arg="o",t.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return t}):e.tmpl=t}(this),function(){var e;e=jQuery,e.fn.S3Uploader=function(t){var n,i,r,o,s,a,l,c;return this.length>1?(this.each(function(){return e(this).S3Uploader(t)}),this):(n=this,c={path:"",additional_data:null,before_add:null,remove_completed_progress_bar:!0,remove_failed_progress_bar:!1,progress_bar_target:null,click_submit_target:null,allow_multiple_files:!0},e.extend(c,t),o=[],s=[],c.click_submit_target&&c.click_submit_target.click(function(){var e,t,n;for(t=0,n=s.length;t<n;t++)e=s[t],e.submit();return!1}),l=function(){return n.fileupload({add:function(t,i){var r;if(r=i.files[0],r.unique_id=Math.random().toString(36).substr(2,16),!c.before_add||c.before_add(r))return o.push(i),e("#template-upload").length>0?(i.context=e(e.trim(tmpl("template-upload",r))),e(i.context).appendTo(c.progress_bar_target||n)):c.allow_multiple_files||(i.context=c.progress_bar_target),c.click_submit_target?c.allow_multiple_files?s.push(i):s=[i]:i.submit()},start:function(e){return n.trigger("s3_uploads_start",[e])},progress:function(e,t){var n;if(t.context)return n=parseInt(t.loaded/t.total*100,10),t.context.find(".bar").css("width",n+"%")},done:function(t,r){var s,a;if(a=i(n,r.files[0],r.result),s=n.data("callback-url"),s&&(a[n.data("callback-param")]=a.url,e.ajax({type:n.data("callback-method"),url:s,data:a,beforeSend:function(e,t){return n.trigger("ajax:beforeSend",[e,t])},complete:function(e,t){return n.trigger("ajax:complete",[e,t])},success:function(e,t,i){return n.trigger("ajax:success",[e,t,i])},error:function(e,t,i){return n.trigger("ajax:error",[e,t,i])}})),r.context&&c.remove_completed_progress_bar&&r.context.remove(),n.trigger("s3_upload_complete",[a]),o.splice(e.inArray(r,o),1),!o.length)return n.trigger("s3_uploads_complete",[a])},fail:function(e,t){var r;return r=i(n,t.files[0],t.result),r.error_thrown=t.errorThrown,t.context&&c.remove_failed_progress_bar&&t.context.remove(),n.trigger("s3_upload_failed",[r])},formData:function(t){var i,r,o,s;return i=t.serializeArray(),r="","type"in this.files[0]&&(r=this.files[0].type),i.push({name:"content-type",value:r}),o=n.data("key").replace("{timestamp}",(new Date).getTime()).replace("{unique_id}",this.files[0].unique_id).replace("{extension}",this.files[0].name.split(".").pop()),s=e.grep(i,function(e){if("key"===e.name)return e}),s.length>0&&(s[0].value=c.path+o),"FormData"in window||n.find("input[name='key']").val(c.path+o),i}})},i=function(t,n,i){var o,s;return o={},i?(o.url=e(i).find("Location").text(),o.filepath=e("<a />").attr("href",o.url)[0].pathname):(s=t.attr("action"),o.filepath=t.find("input[name=key]").val().replace("/${filename}",""),o.url=s+o.filepath+"/"+encodeURIComponent(n.name)),o.filename=n.name,"size"in n&&(o.filesize=n.size),"lastModifiedDate"in n&&(o.lastModifiedDate=n.lastModifiedDate),"type"in n&&(o.filetype=n.type),"unique_id"in n&&(o.unique_id=n.unique_id),a(n)&&(o.relativePath=r(n)),c.additional_data&&(o=e.extend(o,c.additional_data)),o},a=function(e){return e.relativePath||e.webkitRelativePath},r=function(e){return e.relativePath||(e.webkitRelativePath?e.webkitRelativePath.split("/").slice(0,-1).join("/")+"/":void 0)},this.initialize=function(){return n.data("key",n.find("input[name='key']").val()),l(),this},this.path=function(e){return c.path=e},this.additional_data=function(e){return c.additional_data=e},this.initialize())}}.call(this),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.io=t():e.io=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e,t){"object"===(void 0===e?"undefined":r(e))&&(t=e,e=void 0),t=t||{};var n,i=o(e),s=i.source,u=i.id,d=i.path,h=c[u]&&d in c[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||h?(l("ignoring socket cache for %s",s),n=a(s,t)):(c[u]||(l("new io instance for %s",s),c[u]=a(s,t)),n=c[u]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),s=n(7),a=n(13),l=n(3)("socket.io-client");e.exports=t=i;var c=t.managers={};t.protocol=s.protocol,t.connect=i,t.Manager=n(13),t.Socket=n(39)},function(e,t,n){(function(t){"use strict";function i(e,n){var i=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),o("parse %s",e),i=r(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var s=-1!==i.host.indexOf(":"),a=s?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port,i.href=i.protocol+"://"+a+(n&&n.port===i.port?"":":"+i.port),i}var r=n(2),o=n(3)("socket.io-client:url");e.exports=i}).call(t,function(){return this}())},function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var i=e,r=e.indexOf("["),o=e.indexOf("]");-1!=r&&-1!=o&&(e=e.substring(0,r)+e.substring(r,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=t.exec(e||""),a={},l=14;l--;)a[n[l]]=s[l]||"";return-1!=r&&-1!=o&&(a.source=i,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t,n){(function(i){function r(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,i)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function l(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e}function c(){try{return window.localStorage}catch(e){}}t=e.exports=n(5),t.log=s,t.formatArgs=o,t.save=a,t.load=l,t.useColors=r,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(l())}).call(t,n(4))},function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function r(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function o(){f&&h&&(f=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!f){var e=i(o);f=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,f=!1,r(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var c,u,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:t}catch(e){c=t}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var h,p=[],f=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new a(e,t)),1!==p.length||f||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(){return[]},d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){function i(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}function r(e){function n(){if(n.enabled){var e=n,i=+new Date,r=i-(c||i);e.diff=r,e.prev=c,e.curr=i,c=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;a++;var r=t.formatters[i];if("function"==typeof r){var s=o[a];n=r.call(e,s),o.splice(a,1),a--}return n}),t.formatArgs.call(e,o);(n.log||t.log||console.log.bind(console)).apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=i(e),"function"==typeof t.init&&t.init(n),n}function o(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length,r=0;r<i;r++)n[r]&&(e=n[r].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function s(){t.enable("")}function a(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=r.debug=r["default"]=r,t.coerce=l,t.disable=s,t.enable=o,t.enabled=a,t.humanize=n(6),t.names=[],t.skips=[],t.formatters={};var c},function(e){function t(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function n(e){return e>=l?Math.round(e/l)+"d":e>=a?Math.round(e/a)+"h":e>=s?Math.round(e/s)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}function i(e){return r(e,l,"day")||r(e,a,"hour")||r(e,s,"minute")||r(e,o,"second")||e+" ms"}function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var o=1e3,s=60*o,a=60*s,l=24*a,c=365.25*l;e.exports=function(e,r){r=r||{};var o=typeof e;if("string"===o&&e.length>0)return t(e);if("number"===o&&!1===isNaN(e))return r["long"]?i(e):n(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function i(){}function r(e){var n=""+e.type;return t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data&&(n+=JSON.stringify(e.data)),d("encoded %j as %s",e,n),n}function o(e,t){function n(e){var n=f.deconstructPacket(e),i=r(n.packet),o=n.buffers;o.unshift(i),t(o)}f.removeBlobs(e,n)}function s(){this.reconstructor=null}function a(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return u();if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var r="";"-"!==e.charAt(++n)&&(r+=e.charAt(n),n!=e.length););if(r!=Number(r)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(r)}if("/"===e.charAt(n+1))for(i.nsp="";++n;){var o=e.charAt(n);if(","===o)break;if(i.nsp+=o,n===e.length)break}else i.nsp="/";var s=e.charAt(n+1);if(""!==s&&Number(s)==s){for(i.id="";++n;){var o=e.charAt(n);if(null==o||Number(o)!=o){--n;break}if(i.id+=e.charAt(n),n===e.length)break}i.id=Number(i.id)}return e.charAt(++n)&&(i=l(i,e.substr(n))),d("decoded %s as %j",e,i),i}function l(e,t){try{e.data=JSON.parse(t)}catch(e){return u()}return e}function c(e){this.reconPack=e,this.buffers=[]}function u(){return{type:t.ERROR,data:"parser error"}}var d=n(3)("socket.io-parser"),h=n(8),p=n(9),f=n(11),g=n(12);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=i,t.Decoder=s,i.prototype.encode=function(e,n){if(e.type!==t.EVENT&&e.type!==t.ACK||!p(e.data)||(e.type=e.type===t.EVENT?t.BINARY_EVENT:t.BINARY_ACK),d("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)o(e,n);else{n([r(e)])}},h(s.prototype),s.prototype.add=function(e){var n;if("string"==typeof e)n=a(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new c(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!g(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===t||i.fn===t){n.splice(r,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(t){function i(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var n=0,o=e.length;n<o;n++)if(i(e[n]))return!0;return!1}if("function"==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||"function"==typeof t.ArrayBuffer&&e instanceof ArrayBuffer||s&&e instanceof Blob||a&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return i(e.toJSON(),!0);for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&i(e[l]))return!0;return!1}var r=n(10),o=Object.prototype.toString,s="function"==typeof t.Blob||"[object BlobConstructor]"===o.call(t.Blob),a="function"==typeof t.File||"[object FileConstructor]"===o.call(t.File);e.exports=i}).call(t,function(){return this}())},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,t,n){(function(e){function i(e,t){if(!e)return e;if(s(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(o(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=i(e[a],t);return r}if("object"==typeof e&&!(e instanceof Date)){var r={};for(var l in e)r[l]=i(e[l],t);return r}return e}function r(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(o(e))for(var n=0;n<e.length;n++)e[n]=r(e[n],t);else if("object"==typeof e)for(var i in e)e[i]=r(e[i],t);return e}var o=n(10),s=n(12),a=Object.prototype.toString,l="function"==typeof e.Blob||"[object BlobConstructor]"===a.call(e.Blob),c="function"==typeof e.File||"[object FileConstructor]"===a.call(e.File);t.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=i(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=r(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){function n(e,a,u){if(!e)return e;if(l&&e instanceof Blob||c&&e instanceof File){i++;var d=new FileReader;d.onload=function(){u?u[a]=this.result:r=this.result,--i||t(r)},d.readAsArrayBuffer(e)}else if(o(e))for(var h=0;h<e.length;h++)n(e[h],h,e);else if("object"==typeof e&&!s(e))for(var p in e)n(e[p],p,e)}var i=0,r=e;n(r),i||t(r)}}).call(t,function(){return this}())},function(e,t){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);e&&"object"===(void 0===e?"undefined":r(e))&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||l;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(14),s=n(39),a=n(8),l=n(7),c=n(41),u=n(42),d=n(3)("socket.io-client:manager"),h=n(37),p=n(43),f=Object.prototype.hasOwnProperty;e.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},i.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},i.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(i.prototype),i.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},i.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},i.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(e){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=o(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var i=c(t,"open",function(){n.onopen(),e&&e()}),r=c(t,"error",function(t){if(d("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var i=new Error("Connection error");i.data=t,e(i)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;d("connect attempt will timeout after %d",s);var a=setTimeout(function(){d("connect attempt timed out after %d",s),i.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(r),this},i.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",u(this,"ondata"))),this.subs.push(c(e,"ping",u(this,"onping"))),this.subs.push(c(e,"pong",u(this,"onpong"))),this.subs.push(c(e,"error",u(this,"onerror"))),this.subs.push(c(e,"close",u(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},i.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},i.prototype.ondata=function(e){this.decoder.add(e)},i.prototype.ondecoded=function(e){this.emit("packet",e)},i.prototype.onerror=function(e){d("error",e),this.emitAll("error",e)},i.prototype.socket=function(e,t){function n(){~h(r.connecting,i)||r.connecting.push(i)}var i=this.nsps[e];if(!i){i=new s(this,e,t),this.nsps[e]=i;var r=this;i.on("connecting",n),i.on("connect",function(){i.id=r.generateId(e)}),this.autoConnect&&n()}return i},i.prototype.destroy=function(e){var t=h(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},i.prototype.packet=function(e){d("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},i.prototype.cleanup=function(){d("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(e){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();d("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(d("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(d("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(d("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(15)},function(e,t,n){e.exports=n(16),e.exports.parser=n(23)},function(e,t,n){(function(t){function i(e,n){if(!(this instanceof i))return new i(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=u(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof t&&t;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function r(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=n(17),s=n(8),a=n(3)("engine.io-client:socket"),l=n(37),c=n(23),u=n(2),d=n(38),h=n(31);e.exports=i,i.priorWebsocketSuccess=!1,s(i.prototype),i.protocol=c.protocol,i.Socket=i,i.Transport=n(22),i.transports=n(17),i.parser=n(23),i.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=r(this.query);t.EIO=c.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new o[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this
;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},i.prototype.probe=function(e){function t(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;d=d||t}d||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!d)if("pong"===t.type&&"probe"===t.data){if(a('probe transport "%s" pong',e),h.upgrading=!0,h.emit("upgrading",u),!u)return;i.priorWebsocketSuccess="websocket"===u.name,a('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){d||"closed"!==h.readyState&&(a("changing transport and sending upgrade packet"),c(),h.setTransport(u),u.send([{type:"upgrade"}]),h.emit("upgrade",u),u=null,h.upgrading=!1,h.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=u.name,h.emit("upgradeError",n)}}))}function n(){d||(d=!0,c(),u.close(),u=null)}function r(t){var i=new Error("probe error: "+t);i.transport=u.name,n(),a('probe transport "%s" failed because of error: %s',e,t),h.emit("upgradeError",i)}function o(){r("transport closed")}function s(){r("socket closed")}function l(e){u&&e.name!==u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),n())}function c(){u.removeListener("open",t),u.removeListener("error",r),u.removeListener("close",o),h.removeListener("close",s),h.removeListener("upgrading",l)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,h=this;i.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",r),u.once("close",o),this.once("close",s),this.once("upgrading",l),u.open()},i.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},i.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},i.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},i.prototype.sendPacket=function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},i.prototype.close=function(){function e(){i.onClose("forced close"),a("socket closing - telling transport to close"),i.transport.close()}function t(){i.removeListener("upgrade",t),i.removeListener("upgradeError",t),e()}function n(){i.once("upgrade",t),i.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},i.prototype.onError=function(e){a("socket error %j",e),i.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},i.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},i.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){function i(t){var n=!1,i=!1,a=!1!==t.jsonp;if(e.location){var l="https:"===location.protocol,c=location.port;c||(c=l?443:80),n=t.hostname!==location.hostname||c!==t.port,i=t.secure!==l}if(t.xdomain=n,t.xscheme=i,"open"in new r(t)&&!t.forceJSONP)return new o(t);if(!a)throw new Error("JSONP disabled");return new s(t)}var r=n(18),o=n(20),s=n(34),a=n(35);t.polling=i,t.websocket=a}).call(t,function(){return this}())},function(e,t,n){(function(t){var i=n(19);e.exports=function(e){var n=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||i))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function i(){}function r(e){if(l.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var n="https:"===location.protocol,i=location.port;i||(i=n?443:80),this.xd=e.hostname!==t.location.hostname||i!==e.port,this.xs=e.secure!==n}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var a=n(18),l=n(21),c=n(8),u=n(32),d=n(3)("engine.io-client:polling-xhr");e.exports=r,e.exports.Request=o,u(r,l),r.prototype.supportsBinary=!0,r.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},r.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),r=this;i.on("success",t),i.on("error",function(e){r.onError("xhr post error",e)}),this.sendXhr=i},r.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new a(e),i=this;try{d("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.extraHeaders[r])}}catch(e){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState){var e;try{e=n.getResponseHeader("Content-Type")}catch(e){}"application/octet-stream"===e&&(n.responseType="arraybuffer")}4===n.readyState&&(200===n.status||1223===n.status?i.onLoad():setTimeout(function(){i.onError(n.status)},0))},d("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout(function(){i.onError(e)},0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,e)try{this.xhr.abort()}catch(e){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",s):t.addEventListener&&t.addEventListener("beforeunload",s,!1))}).call(t,function(){return this}())},function(e,t,n){function i(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}var r=n(22),o=n(31),s=n(23),a=n(32),l=n(33),c=n(3)("engine.io-client:polling");e.exports=i;var u=function(){return null!=new(n(18))({xdomain:!1}).responseType}();a(i,r),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||t()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||t()}))}else t()},i.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},i.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var r=n(23),o=n(8);e.exports=i,o(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function i(e,n){return n("b"+t.packets[e.type]+e.data.data)}function r(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var r=e.data,o=new Uint8Array(r),s=new Uint8Array(1+r.byteLength);s[0]=y[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return i(s.buffer)}function o(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var r=new FileReader;return r.onload=function(){e.data=r.result,t.encodePacket(e,n,!0,i)},r.readAsArrayBuffer(e.data)}function s(e,n,i){if(!n)return t.encodeBase64Packet(e,i);if(v)return o(e,n,i);var r=new Uint8Array(1);return r[0]=y[e.type],i(new _([r.buffer,e.data]))}function a(e){try{e=f.decode(e,{strict:!1})}catch(e){return!1}return e}function l(e,t,n){for(var i=new Array(e.length),r=p(e.length,n),o=function(e,n,r){t(n,function(t,n){i[e]=n,r(t,i)})},s=0;s<e.length;s++)o(s,e[s],r)}var c,u=n(24),d=n(9),h=n(25),p=n(26),f=n(27);e&&e.ArrayBuffer&&(c=n(29));var g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=g||m;t.protocol=3;var y=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=u(y),w={type:"error",data:"parser error"},_=n(30);t.encodePacket=function(t,n,o,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof o&&(a=o,o=null);var l=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&l instanceof ArrayBuffer)return r(t,n,a);if(_&&l instanceof e.Blob)return s(t,n,a);if(l&&l.base64)return i(t,a);var c=y[t.type];return void 0!==t.data&&(c+=o?f.encode(String(t.data),{strict:!1}):String(t.data)),a(""+c)},t.encodeBase64Packet=function(n,i){var r="b"+t.packets[n.type];if(_&&n.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];i(r+e)},o.readAsDataURL(n.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var a=new Uint8Array(n.data),l=new Array(a.length),c=0;c<a.length;c++)l[c]=a[c];s=String.fromCharCode.apply(null,l)}return r+=e.btoa(s),i(r)},t.decodePacket=function(e,n,i){if(void 0===e)return w;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(i&&!1===(e=a(e)))return w;var r=e.charAt(0);return Number(r)==r&&b[r]?e.length>1?{type:b[r],data:e.substring(1)}:{type:b[r]}:w}var o=new Uint8Array(e),r=o[0],s=h(e,1);return _&&"blob"===n&&(s=new _([s])),{type:b[r],data:s}},t.decodeBase64Packet=function(e,t){var n=b[e.charAt(0)];if(!c)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=c.decode(e.substr(1));return"blob"===t&&_&&(i=new _([i])),{type:n,data:i}},t.encodePayload=function(e,n,i){function r(e){return e.length+":"+e}function o(e,i){t.encodePacket(e,!!s&&n,!1,function(e){i(null,r(e))})}"function"==typeof n&&(i=n,n=null);var s=d(e);return n&&s?_&&!v?t.encodePayloadAsBlob(e,i):t.encodePayloadAsArrayBuffer(e,i):e.length?void l(e,o,function(e,t){return i(t.join(""))}):i("0:")},t.decodePayload=function(e,n,i){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,i);"function"==typeof n&&(i=n,n=null);var r;if(""===e)return i(w,0,1);for(var o,s,a="",l=0,c=e.length;l<c;l++){var u=e.charAt(l);if(":"===u){if(""===a||a!=(o=Number(a)))return i(w,0,1);if(s=e.substr(l+1,o),a!=s.length)return i(w,0,1);if(s.length){if(r=t.decodePacket(s,n,!1),w.type===r.type&&w.data===r.data)return i(w,0,1);if(!1===i(r,l+o,c))return}l+=o,a=""}else a+=u}return""!==a?i(w,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function i(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}return e.length?void l(e,i,function(e,t){var i=t.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),r=new Uint8Array(i),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);n=i.buffer}r[o++]=t?0:1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)r[o++]=parseInt(a[s]);r[o++]=255;for(var i=new Uint8Array(n),s=0;s<i.length;s++)r[o++]=i[s]}),n(r.buffer)}):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){function i(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);e=i.buffer,t[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,s=o.toString(),a=new Uint8Array(s.length+1),r=0;r<s.length;r++)a[r]=parseInt(s[r]);if(a[s.length]=255,_){var l=new _([t.buffer,a.buffer,e]);n(null,l)}})}l(e,i,function(e,t){return n(new _(t))})},t.decodePayloadAsBinary=function(e,n,i){"function"==typeof n&&(i=n,n=null);for(var r=e,o=[];r.byteLength>0;){for(var s=new Uint8Array(r),a=0===s[0],l="",c=1;255!==s[c];c++){if(l.length>310)return i(w,0,1);l+=s[c]}r=h(r,2+l.length),l=parseInt(l);var u=h(r,0,l);if(a)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(e){var d=new Uint8Array(u);u="";for(var c=0;c<d.length;c++)u+=String.fromCharCode(d[c])}o.push(u),r=h(r,l)}var p=o.length;o.forEach(function(e,r){i(t.decodePacket(e,n,!0),r,p)})}}).call(t,function(){return this}())},function(e){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},function(e){e.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=r[s];return o.buffer}},function(e){function t(e,t,i){function r(e,n){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(o=!0,t(e),t=i):0!==r.count||o||t(null,n)}var o=!1;return i=i||n,r.count=e,0===e?t():r}function n(){}e.exports=t},function(e,t,n){var i;(function(e,r){!function(){function o(e){for(var t,n,i=[],r=0,o=e.length;r<o;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<o?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function s(e){for(var t,n=e.length,i=-1,r="";++i<n;)t=e[i],t>65535&&(t-=65536,r+=y(t>>>10&1023|55296),t=56320|1023&t),r+=y(t);return r}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return y(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return y(e);var n="";return 0==(4294965248&e)?n=y(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),n=y(e>>12&15|224),n+=l(e,6)):0==(4292870144&e)&&(n=y(e>>18&7|240),n+=l(e,12),n+=l(e,6)),n+=y(63&e|128)}function u(e,t){t=t||{};for(var n,i=!1!==t.strict,r=o(e),s=r.length,a=-1,l="";++a<s;)n=r[a],l+=c(n,i);return l}function d(){if(v>=m)throw Error("Invalid byte index");var e=255&g[v];if(v++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function h(e){var t,n,i,r,o;if(v>m)throw Error("Invalid byte index");if(v==m)return!1;if(t=255&g[v],v++,0==(128&t))return t;if(192==(224&t)){if(n=d(),(o=(31&t)<<6|n)>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(n=d(),i=d(),(o=(15&t)<<12|n<<6|i)>=2048)return a(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=d(),i=d(),r=d(),(o=(7&t)<<18|n<<12|i<<6|r)>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}function p(e,t){t=t||{};var n=!1!==t.strict;g=o(e),m=g.length,v=0;for(var i,r=[];!1!==(i=h(n));)r.push(i);return s(r)}var f=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);f.global!==f&&f.window;var g,m,v,y=String.fromCharCode,b={version:"2.1.2",encode:u,decode:p};void 0!==(i=function(){return b}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(28)(e),function(){return this}())},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<e.length;i++)n[e.charCodeAt(i)]=i;t.encode=function(t){var n,i=new Uint8Array(t),r=i.length,o="";for(n=0;n<r;n+=3)o+=e[i[n]>>2],o+=e[(3&i[n])<<4|i[n+1]>>4],o+=e[(15&i[n+1])<<2|i[n+2]>>6],o+=e[63&i[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,i,r,o,s,a=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(t=0;t<l;t+=4)i=n[e.charCodeAt(t)],r=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],d[c++]=i<<2|r>>4,d[c++]=(15&r)<<4|o>>2,d[c++]=(3&o)<<6|63&s;return u}}()},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=r.buffer}e[t]=i}}}function i(e,t){t=t||{};var i=new o;n(e);for(var r=0;r<e.length;r++)i.append(e[r]);return t.type?i.getBlob(t.type):i.getBlob()}function r(e,t){return n(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),l=o&&o.prototype.append&&o.prototype.getBlob;e.exports=function(){return s?a?t.Blob:r:l?i:void 0}()}).call(t,function(){return this}())},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e){"use strict";function t(e){var t="";do{t=o[e%s]+t,e=Math.floor(e/s)}while(e>0);return t}function n(e){var t=0;for(c=0;c<e.length;c++)t=t*s+a[e.charAt(c)];return t}function i(){var e=t(+new Date);return e!==r?(l=0,r=e):e+"."+t(l++)}for(var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,a={},l=0,c=0;c<s;c++)a[o[c]]=c;i.encode=t,i.decode=n,e.exports=i},function(e,t,n){(function(t){function i(){}function r(e){o.call(this,e),this.query=this.query||{},a||(t.___eio||(t.___eio=[]),a=t.___eio),this.index=a.length;var n=this;a.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=i)},!1)}var o=n(21),s=n(32);e.exports=r;var a,l=/\n/g,c=/\\n/g;s(r,o),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype.doWrite=function(e,t){function n(){i(),t()}function i(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';o=document.createElement(e)}catch(e){o=document.createElement("iframe"),o.name=r.iframeId,o.src="javascript:0"}o.id=r.iframeId,r.form.appendChild(o),r.iframe=o}var r=this;if(!this.form){var o,s=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=u,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),i(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){(function(t){function i(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=d&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(h=r),o.call(this,e)}var r,o=n(22),s=n(23),a=n(31),l=n(32),c=n(33),u=n(3)("engine.io-client:websocket"),d=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{r=n(36)}catch(e){}var h=d;h||"undefined"!=typeof window||(h=r),e.exports=i,l(i,o),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new h(e,t):new h(e):new h(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},i.prototype.write=function(e){function n(){i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0)}var i=this;this.writable=!1;for(var r=e.length,o=0,a=r;o<a;o++)!function(e){s.encodePacket(e,i.supportsBinary,function(o){if(!i.usingBrowserWebSocket){var s={};if(e.options&&(s.compress=e.options.compress),i.perMessageDeflate){("string"==typeof o?t.Buffer.byteLength(o):o.length)<i.perMessageDeflate.threshold&&(s.compress=!1)}}try{i.usingBrowserWebSocket?i.ws.send(o):i.ws.send(o,s)}catch(e){u("websocket closed before onclose event")}--r||n()})}(e[o])},i.prototype.onClose=function(){o.prototype.onClose.call(this)},i.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),e=a.encode(e),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},i.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===i.prototype.name)}}).call(t,function(){return this}())},function(){},function(e){var t=[].indexOf;e.exports=function(e,n){if(t)return e.indexOf(n);for(var i=0;i<e.length;++i)if(e[i]===n)return i;return-1}},function(e,t){(function(t){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(i,"@").replace(r,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(7),s=n(8),a=n(40),l=n(41),c=n(42),u=n(3)("socket.io-client:socket"),d=n(31);e.exports=i;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=s.prototype.emit;s(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[l(e,"open",c(this,"onopen")),l(e,"packet",c(this,"onpacket")),l(e,"close",c(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},i.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(h.hasOwnProperty(e))return p.apply(this,arguments),this;var t=a(arguments),n={type:o.EVENT,data:t};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===r(this.query)?d.encode(this.query):this.query;u("sending connect packet with query %s",e),this.packet({type:o.CONNECT,query:e})}else this.packet({type:o.CONNECT})},
i.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},i.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=a(arguments);u("sending ack %j",i),t.packet({type:o.ACK,id:e,data:i})}}},i.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},i.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e){function t(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++)n[i-t]=e[i];return n}e.exports=t},function(e){"use strict";function t(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=t},function(e){var t=[].slice;e.exports=function(e,n){if("string"==typeof n&&(n=e[n]),"function"!=typeof n)throw new Error("bind() requires a function");var i=t.call(arguments,2);return function(){return n.apply(e,i.concat(t.call(arguments)))}}},function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}}])});var Showdown={extensions:{}},forEach=Showdown.forEach=function(e,t){if("function"==typeof e.forEach)e.forEach(t);else{var n,i=e.length;for(n=0;n<i;n++)t(e[n],n,e)}},stdExtName=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(e){var t,n,i,r=0,o=[],s=[];if("undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"!=typeof require){var a=require("fs");if(a){var l=a.readdirSync((__dirname||".")+"/extensions").filter(function(e){return~e.indexOf(".js")}).map(function(e){return e.replace(/\.js$/,"")});Showdown.forEach(l,function(e){var t=stdExtName(e);Showdown.extensions[t]=require("./extensions/"+e)})}}if(this.makeHtml=function(e){return t={},n={},i=[],e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=O(e),e=e.replace(/^[ \t]+$/gm,""),Showdown.forEach(o,function(t){e=d(t,e)}),e=$(e),e=p(e),e=h(e),e=g(e),e=R(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),Showdown.forEach(s,function(t){e=d(t,e)}),e},e&&e.extensions){var c=this;Showdown.forEach(e.extensions,function(e){if("string"==typeof e&&(e=Showdown.extensions[stdExtName(e)]),"function"!=typeof e)throw"Extension '"+e+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(e(c),function(e){e.type?"language"===e.type||"lang"===e.type?o.push(e):"output"!==e.type&&"html"!==e.type||s.push(e):s.push(e)})})}var u,d=function(e,t){if(e.regex){var n=new RegExp(e.regex,"g");return t.replace(n,e.replace)}if(e.filter)return e.filter(t)},h=function(e){return e+="~0",e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(e,i,r,o,s){return i=i.toLowerCase(),t[i]=T(r),o?o+s:(s&&(n[i]=s.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")},p=function(e){e=e.replace(/\n/g,"\n\n");return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,f),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,f),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,f),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,f),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,f),e=e.replace(/\n\n/g,"\n")},f=function(e,t){var n=t;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(i.push(n)-1)+"K\n\n"},g=function(e){e=C(e);var t=x("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,t),e=A(e),e=S(e),e=F(e),e=p(e),e=D(e)},m=function(e){return e=k(e),e=v(e),e=B(e),e=w(e),e=y(e),e=L(e),e=T(e),e=P(e),e=e.replace(/  +\n/g," <br />\n")},v=function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=N(t,"\\`*_")})},y=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,b),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,b),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,b)},b=function(e,i,r,o,s,a,l,c){c==undefined&&(c="");var u=i,d=r,h=o.toLowerCase(),p=s,f=c;if(""==p)if(""==h&&(h=d.toLowerCase().replace(/ ?\n/g," ")),p="#"+h,t[h]!=undefined)p=t[h],n[h]!=undefined&&(f=n[h]);else{if(!(u.search(/\(\s*\)$/m)>-1))return u;p=""}p=N(p,"*_");var g='<a href="'+p+'"';return""!=f&&(f=f.replace(/"/g,"&quot;"),f=N(f,"*_"),g+=' title="'+f+'"'),g+=">"+d+"</a>"},w=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,_),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,_)},_=function(e,i,r,o,s,a,l,c){var u=i,d=r,h=o.toLowerCase(),p=s,f=c;if(f||(f=""),""==p){if(""==h&&(h=d.toLowerCase().replace(/ ?\n/g," ")),p="#"+h,t[h]==undefined)return u;p=t[h],n[h]!=undefined&&(f=n[h])}d=d.replace(/"/g,"&quot;"),p=N(p,"*_");var g='<img src="'+p+'" alt="'+d+'"';return f=f.replace(/"/g,"&quot;"),f=N(f,"*_"),g+=' title="'+f+'"',g+=" />"},C=function(e){function t(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return x('<h1 id="'+t(n)+'">'+m(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return x('<h2 id="'+t(n)+'">'+m(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,i){var r=n.length;return x("<h"+r+' id="'+t(i)+'">'+m(i)+"</h"+r+">")})},A=function(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return r?e=e.replace(t,function(e,t,n){var i=t,r=n.search(/[*+-]/g)>-1?"ul":"ol";i=i.replace(/\n{2,}/g,"\n\n\n");var o=u(i);return o=o.replace(/\s+$/,""),o="<"+r+">"+o+"</"+r+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,n,i){var r=t,o=n,s=i.search(/[*+-]/g)>-1?"ul":"ol",o=o.replace(/\n{2,}/g,"\n\n\n"),a=u(o);return a=r+"<"+s+">\n"+a+"</"+s+">\n"})),e=e.replace(/~0/,"")};u=function(e){return r++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,t,n,i,r){var o=r,s=t;return s||o.search(/\n{2,}/)>-1?o=g(I(o)):(o=A(I(o)),o=o.replace(/\n$/,""),o=m(o)),"<li>"+o+"</li>\n"}),e=e.replace(/~0/g,""),r--,e};var S=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var i=t,r=n;return i=E(I(i)),i=O(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code>"+i+"\n</code></pre>",x(i)+r}),e=e.replace(/~0/,"")},$=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,t,n){var i=t,r=n;return r=E(r),r=O(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code"+(i?' class="'+i+'"':"")+">"+r+"\n</code></pre>",x(r)}),e=e.replace(/~0/,"")},x=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(i.push(e)-1)+"K\n\n"},k=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,i){var r=i;return r=r.replace(/^([ \t]*)/g,""),r=r.replace(/[ \t]*$/g,""),r=E(r),t+"<code>"+r+"</code>"})},E=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=N(e,"*_{}[]\\",!1)},P=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},F=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=g(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),x("<blockquote>\n"+n+"\n</blockquote>")})},D=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var t=e.split(/\n{2,}/g),n=[],r=t.length,o=0;o<r;o++){var s=t[o];s.search(/~K(\d+)K/g)>=0?n.push(s):s.search(/\S/)>=0&&(s=m(s),s=s.replace(/^([ \t]*)/g,"<p>"),s+="</p>",n.push(s))}r=n.length;for(var o=0;o<r;o++)for(;n[o].search(/~K(\d+)K/)>=0;){var a=i[RegExp.$1];a=a.replace(/\$/g,"$$$$"),n[o]=n[o].replace(/~K\d+K/,a)}return n.join("\n\n")},T=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},B=function(e){return e=e.replace(/\\(\\)/g,z),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,z)},L=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,t){return M(R(t))})},M=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=t[Math.floor(2*Math.random())](e);else if(":"!=e){var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},R=function(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})},I=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},O=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t){for(var n=t,i=4-n.length%4,r=0;r<i;r++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},N=function(e,t,n){var i="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var r=new RegExp(i,"g");return e=e.replace(r,z)},z=function(e,t){return"~E"+t.charCodeAt(0)+"E"}},"undefined"!=typeof module&&(module.exports=Showdown),"function"==typeof define&&define.amd&&define("showdown",function(){return Showdown});var Bitrise=angular.module("Bitrise",["ngResource","angularjs-gravatardirective","ui.sortable","monospaced.elastic","btford.markdown","ngTagsInput","ngAnimate","ngCookies","MassAutoComplete","ui.ace"]).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|blob|itms-services|javascript):/)}]).config(["$animateProvider",function(e){e.classNameFilter(/angular-animated/)}]).config(["$locationProvider",function(e){e.hashPrefix("")}]).run(["$rootScope","routeService",function(e,t){e.routeService=t}]);!function(){"use strict";Bitrise.factory("Activity",function(){var e=function(){this.title=undefined,this.description=undefined,this.targetURL=undefined,this.date=undefined,this.app=undefined};return e.prototype.cssClass=function(){if(!this.title)return null;var e=this.title.toLowerCase();return e.indexOf("triggered")>-1?"build-triggered":e.indexOf("started")>-1?"build-started":e.indexOf("aborted")>-1?"build-aborted":e.indexOf("finished")>-1?"build-success":e.indexOf("failed")>-1?"build-failed":e.indexOf("limit reached")>-1?"limit-reached":e.indexOf("removed")>-1||e.indexOf("deleted")>-1?"removed":e.indexOf("added")>-1?"teammember-added":e.indexOf("change")>-1?"teammember-changed":null},e})}(),function(){"use strict";Bitrise.factory("App",["$q","http","$injector","StyleGenerator","User","Stack",function(e,t,n,i,r,o){var s=[{id:"ios",title:"iOS",cssClass:"ios"},{id:"android",title:"Android",cssClass:"android"},{id:"xamarin",title:"Xamarin",cssClass:"xamarin"},{id:"macos",title:"MacOS",cssClass:"macos"},{id:"fastlane",title:"Fastlane",cssClass:"fastlane"},{id:"cordova",title:"Cordova",cssClass:"cordova"},{id:"ionic",title:"ionic",cssClass:"ionic"},{id:"react-native",title:"React Native",cssClass:"react-native"},{id:"other",title:"Other",cssClass:"other"}],a=function(e){this.slug=e,this.title,this.teamMemberCount,this.canCurrentUserDestroy,this.isValidated,this.stack,this.availableStacks,this.representativeBuild,this.lastBuild,this.owner,this.serviceCredentialUser,this.provider,this.projectType};return a.platformTypeFromStackId=function(e){switch(e){case"osx-xcode-9.0.x":case"osx-xcode-8.3.x":case"osx-xcode-8.2.x":case"osx-xcode-8.1.x":case"osx-xcode-8.0.x":case"osx-xcode-7.3":case"osx-xcode-6.4":case"osx-xcode-edge":case"tmp-osx-xcode-7.3.0":case"internal-test-osx-ondemand":return"ios";case"osx-xamarin-stable":case"osx-xamarin-stable-LTS":case"osx-xamarin-alpha":case"osx-xamarin-beta":return"xamarin";case"linux-docker-android":case"linux-docker-android-lts":case"internal-test-android-ondemand":return"android";default:return null}},a.infoForProjectType=function(e){return _.find(s,{id:e})},a.prototype["delete"]=function(n){var i=e.defer();if(!this.slug)return i.reject(new Error("No slug specified")),i.promise;var r="/app/"+this.slug+"/destroy.json";return t["delete"](r,n,"Error deleting App.").then(function(){i.resolve()},function(e){i.reject(e)},function(e){i.notify(e)}),i.promise},a.prototype.getServiceCredentialUser=function(n){var i=e.defer();if(!this.slug)return i.reject(new Error("No slug specified")),i.promise;var o="/api/app/"+this.slug+".json",s=this;return t.get(o,n,"Error getting service credential User.").then(function(e){e.services_credential_user_id?(s.serviceCredentialUser=new r,s.serviceCredentialUser.databaseID=e.services_credential_user_id):s.serviceCredentialUser=null,i.resolve()},function(e){i.reject(e)},function(e){i.notify(e)}),i.promise},a.prototype.saveServiceCredentialUser=function(n,i){var r=e.defer();if(!this.slug)return r.reject(new Error("No slug specified")),r.promise;var o=this,s="/api/app/"+this.slug+".json",a={services_credential_user_id:n?n.databaseID:-1};return t.put(s,a,i,"Error setting service credential User.").then(function(){o.serviceCredentialUser=n,r.resolve()},function(e){r.reject(e)},function(e){r.notify(e)}),r.promise},a.prototype.getStack=function(e){var n="/app/"+this.slug+"/stack_info.json",i=this;return t.get(n,e,"Error getting stack datas.").then(function(e){if(!e.title)return void(i.stack=null);i.stack=new o(e.id),i.stack.title=e.title,i.stack.descriptionURL=e.description_url,i.stack.preInstalledToolsURL=e.pre_installed_tools_url})},a.prototype.getProjectType=function(e){var i=n.get("routeService"),r=i.projectTypePath(this);return t.get(r,e,"Error getting project type.").then(function(e){return e.project_type})},a.prototype.saveProjectType=function(e,i){var r=n.get("routeService"),o=r.projectTypePath(this),s={project_type:e};return t.post(o,s,i,"Failed to save project type.")},a.prototype.getAvailableProjectTypesFromStack=function(n){if(this.stack===undefined)return e.when();var i="/app/"+this.slug+"/all_stack_info.json",r=this;return t.get(i,n,"Error getting available project types.").then(function(e){return e.available_stacks[r.stack.id]["project-types"]})},a.prototype.shorthand=function(){return i.shorthandFromString(this.title)},a.prototype.color=function(){return i.colorFromString(this.title)},a.prototype.statusCSSClass=function(){if(this.isValidated!==undefined&&!this.isValidated)return"validating";var e=this.representativeBuild!==undefined?this.representativeBuild:this.lastBuild;return e===undefined?undefined:null===e?"never-built":e.statusCSSClass()},a.prototype.statusText=function(){if(this.isValidated!==undefined&&!this.isValidated)return"Validating";var e=this.representativeBuild!==undefined?this.representativeBuild:this.lastBuild;return e===undefined?undefined:null===e?"Never built":e.statusText()},a.platform=function(e,t){return e===undefined&&t===undefined?undefined:t===undefined||"fastlane"!=e&&"other"!=e?e:a.platformTypeFromStackId(t.id)},a.prototype.platformCSSClass=function(){var e=a.platform(this.projectType,this.stack);if(e!==undefined)return _.find(s,{id:e}).cssClass},a.prototype.platformType=function(){var e=a.platform(this.projectType,this.stack);if(e!==undefined)return _.find(s,{id:e}).id},a}])}(),Bitrise.factory("BitriseSteplib",["$http","StepLibraryItem","Variable",function(e,t,n){var i="https://github.com/bitrise-io/bitrise-steplib.git",r=function(e){this.defaultStepIconUrl=e,this.defaultSteplibSource=i};return r.prototype.configureWithDefaultSteplibSource=function(e){this.defaultSteplibSource=e},r.prototype.fetchBitriseSteplibStepData=function(){var t=this;return e.get("https://bitrise-steplib-collection.s3.amazonaws.com/spec.json").then(function(e){t.steps=e.data.steps},function(e){throw e})},r.prototype.extendStep=function(e,i){var r=t.getMainKeyOfStep(e),o=t.createStepIDDataFromString(r,this.defaultSteplibSource),s=!!o;if(!o)throw new TypeError("Invalid step ID!");if(t.isStepFromBitriseSource(o)&&this.steps[o.IDorURI]&&this.steps[o.IDorURI].versions[this.versionOfStepAfterExtend(e)]){var a={};return a[r]=angular.copy(this.steps[o.IDorURI].versions[o.Version?o.Version:this.steps[o.IDorURI].latest_version_number]),_.each(e[r],function(t,o){if("inputs"==o&&Array.isArray(e[r][o])){var l=[];_.every(e[r].inputs,function(e){if(!n.isValidSteplibVariable(e))throw new TypeError("Invalid input variable!");var t=n.getVariableMainKey(e),o=n.getVariableWithMainKeyFromVariables(t,a[r].inputs);if(-1!=l.indexOf(t))throw new TypeError("Duplicated input keys!");return l.push(n.getVariableMainKey(e)),o?(o[t]=e[t]?e[t]:"",_.each(e.opts,function(e,t){o.opts[t]=e}),!0):(i||(i=[]),i.push(e),!0)})||(s=!1)}else a[r][o]=t}),s?a:null}return e},r.prototype.stripStep=function(e,i){var r=t.getMainKeyOfStep(e),o=t.createStepIDDataFromString(r,this.defaultSteplibSource),s=!!o;if(t.isStepFromBitriseSource(o)&&this.steps[o.IDorURI]&&this.steps[o.IDorURI].versions[this.versionOfStepAfterExtend(e)]){var a=this.steps[o.IDorURI].versions[this.versionOfStepAfterExtend(e)],l={};return l[r]={},_.each(e[r],function(t,o){if(a[o]!==undefined)if("inputs"==o){var c=[];_.every(e[r].inputs,function(e){if(!n.isValidSteplibVariable(e))return!1;var t=n.getVariableMainKey(e),o=n.getVariableWithMainKeyFromVariables(t,a.inputs);if(-1!=c.indexOf(t))return!1;if(c.push(n.getVariableMainKey(e)),!o)return i||(i=[]),i.push(e),!0;var s=null;return _.isEqual(e[t],o[t])||(s={},s[t]=e[t],l[r].inputs||(l[r].inputs=[]),l[r].inputs.push(s)),_.each(e.opts,function(n,i){_.isEqual(n,o.opts[i])||(s||(s={},s[t]=e[t]),s.opts||(s.opts={}),s.opts[i]=n,l[r].inputs||(l[r].inputs=[]),-1==l[r].inputs.indexOf(s)&&l[r].inputs.push(s))}),!0})||(s=!1)}else _.isEqual(a[o],t)||"outputs"==o||(l[r][o]=t);else l[r][o]=t}),s?l:null}return s?e:null},r.prototype.versionOfStep=function(e){var n=t.getMainKeyOfStep(e),i=t.createStepIDDataFromString(n,this.defaultSteplibSource);return t.isStepFromBitriseSource(i)&&this.steps[i.IDorURI]?i.Version:null},r.prototype.versionOfStepAfterExtend=function(e){var n=t.getMainKeyOfStep(e),i=t.createStepIDDataFromString(n,this.defaultSteplibSource);return t.isStepFromBitriseSource(i)&&this.steps[i.IDorURI]?i.Version?i.Version:this.latestVersionOfStep(e):null},r.prototype.latestVersionOfStep=function(e){var n=t.getMainKeyOfStep(e),i=t.createStepIDDataFromString(n,this.defaultSteplibSource);return t.isStepFromBitriseSource(i)&&this.steps[i.IDorURI]&&this.steps[i.IDorURI].latest_version_number?this.steps[i.IDorURI].latest_version_number:null},r.prototype.versionsOfStep=function(e){var n=t.getMainKeyOfStep(e),i=t.createStepIDDataFromString(n,this.defaultSteplibSource);return t.isStepFromBitriseSource(i)&&this.steps[i.IDorURI]&&this.steps[i.IDorURI].versions?_.map(this.steps[i.IDorURI].versions,function(e,t){return t}):null},r.prototype.isUpdateAvailableForStep=function(e){var n=t.createStepIDDataFromString(t.getMainKeyOfStep(e),this.defaultSteplibSource);if(!t.isStepFromBitriseSource(n))return!1;if(!n.Version)return!1;var i=this.steps[n.IDorURI];return!!i&&i.latest_version_number!=n.Version},r.prototype.deprecatedNoteIfStepIsDeprecated=function(e){var n=t.createStepIDDataFromString(t.getMainKeyOfStep(e),this.defaultSteplibSource),i=this.steps[n.IDorURI];return i&&i.info&&i.info.deprecate_notes?i.info.deprecate_notes:null},r.prototype.iconUrlForStep=function(e){var n=t.getMainKeyOfStep(e);if(e[n]&&e[n].asset_urls){if(e[n].asset_urls["icon.svg"])return e[n].asset_urls["icon.svg"];if(e[n].asset_urls["icon.png"])return e[n].asset_urls["icon.png"]}return this.defaultStepIconUrl},r.prototype.isStepBitriseSteplibFormat=function(e){var n=t.createStepIDDataFromString(t.getMainKeyOfStep(e),this.defaultSteplibSource);return t.isStepFromBitriseSource(n)||t.isSteplibIndependent(n)},r.prototype.isStepAvailableBitriseSteplibStep=function(e){if(this.isStepBitriseSteplibFormat(e)){var n=t.getMainKeyOfStep(e),i=t.createStepIDDataFromString(n,this.defaultSteplibSource);return!!i&&(t.isStepFromBitriseSource(i)&&this.steps[i.IDorURI]&&this.steps[i.IDorURI].versions[this.versionOfStepAfterExtend(e)])}},r.prototype.filteredSteps=function(e,t,n){var i=this.steps;return i=_.pick(i,function(e){if(!e.info||!e.info.deprecate_notes)return e}),e&&e.length>0&&(i=_.pick(i,function(t){return t.versions[t.latest_version_number].title&&-1!=t.versions[t.latest_version_number].title.toLowerCase().indexOf(e.toLowerCase())})),t&&(i=_.pick(i,function(e){return e.versions[e.latest_version_number].type_tags&&-1!=e.versions[e.latest_version_number].type_tags.indexOf(t)})),n&&(i=_.pick(i,function(e){var t=e.versions[e.latest_version_number];return null==t.project_type_tags||_.contains(t.project_type_tags,n)})),i},r.prototype.tagsOfSteps=function(e){var t=[];return _.each(e,function(e){t=t.concat(_.filter(e.versions[e.latest_version_number].type_tags,function(e){return-1==t.indexOf(e)}))}),t},r}]),angular.module("Bitrise").factory("BitriseSteplibMock",function(){return{requestURL:"https://bitrise-steplib-collection.s3.amazonaws.com/spec.json",requestMethod:"GET",
successResponseData:JSON.parse('{"format_version":"1.0.0","generated_at_timestamp":1452505591,"steplib_source":"https://github.com/bitrise-io/bitrise-steplib.git","download_locations":[{"type":"zip","src":"https://bitrise-steplib-collection.s3.amazonaws.com/step-archives/"},{"type":"git","src":"source/git"}],"assets_download_base_uri":"https://bitrise-steplib-collection.s3.amazonaws.com/steps","steps":{"amazon-s3-deploy":{"latest_version_number":"3.2.0","versions":{"3.0.0":{"title":"Deploy to Amazon S3","summary":"Upload your iOS Application to Amazon S3","description":"Bitrise Step to Deploy an Xcode archive to Amazon S3.\\nRequired: an Xcode Archive Step should run before this Step!\\n\\nThis Step requires an Amazon S3 account.\\nTo register an Amazon S3 account, [click here](http://aws.amazon.com/s3/).","website":"https://github.com/bitrise-io/steps-amazon-s3-deploy","source_code_url":"https://github.com/bitrise-io/steps-amazon-s3-deploy","support_url":"https://github.com/bitrise-io/steps-amazon-s3-deploy/issues","published_at":"2015-09-08T16:23:32.708148287+02:00","source":{"git":"https://github.com/bitrise-io/steps-amazon-s3-deploy.git","commit":"763999cd449f8d6817aafee5bd801895cb02e72a"},"asset_urls":{"icon.svg":"https://bitrise-steplib-collection.s3.amazonaws.com/steps/amazon-s3-deploy/assets/icon.svg"},"host_os_tags":["osx-10.9","osx-10.10"],"project_type_tags":["ios"],"type_tags":["deploy","amazon"],"dependencies":[{"manager":"brew","name":"s3cmd"}],"deps":{},"is_requires_admin_user":true,"is_always_run":false,"is_skippable":false,"run_if":"","inputs":[{"ipa_path":"$BITRISE_IPA_PATH","opts":{"title":"IPA path","description":"","summary":"","is_required":true,"is_expand":true,"is_dont_change_value":false,"is_template":false}},{"aws_access_key":"","opts":{"title":"Amazon AWS Access Key","description":"","summary":"","is_required":true,"is_expand":true,"is_dont_change_value":false,"is_template":false}},{"opts":{"title":"Amazon S3 File Path In Bucket","description":"Optional, if no value specified then the default will be:\\n\\n    bitrise_{app_slug}/{timestamp}_build_{build_slug}","summary":"","is_required":false,"is_expand":true,"is_dont_change_value":false,"is_template":false},"path_in_bucket":""},{"file_access_level":"public_read","opts":{"title":"Amazon S3 file access level","description":"","summary":"","value_options":["private","public_read"],"is_required":true,"is_expand":false,"is_dont_change_value":false,"is_template":false}}],"outputs":[{"S3_DEPLOY_STEP_URL_IPA":"","opts":{"title":"Amazon S3 Deploy IPA URL","description":"","summary":"","is_required":true,"is_expand":false,"is_dont_change_value":true,"is_template":false}},{"S3_DEPLOY_STEP_EMAIL_READY_URL":"","opts":{"title":"Amazon S3 Deploy .plist URL","description":"In a link-ready format, example:\\n\\n    itms-services://?action=download-manifest&url=...","summary":"","is_required":true,"is_expand":false,"is_dont_change_value":true,"is_template":false}}]},"3.2.0":{"title":"Deploy to Amazon S3","summary":"Upload your iOS Application to Amazon S3","description":"Bitrise Step to Deploy an Xcode archive to Amazon S3.\\nRequired: an Xcode Archive Step should run before this Step!\\n\\nThis Step requires an Amazon S3 account.\\nTo register an Amazon S3 account, [click here](http://aws.amazon.com/s3/).","website":"https://github.com/bitrise-io/steps-amazon-s3-deploy","source_code_url":"https://github.com/bitrise-io/steps-amazon-s3-deploy","support_url":"https://github.com/bitrise-io/steps-amazon-s3-deploy/issues","published_at":"2015-10-20T12:49:19.364436458+02:00","source":{"git":"https://github.com/bitrise-io/steps-amazon-s3-deploy.git","commit":"0695e6a76c1a9e16ee7e3b6e98830b20109410cd"},"asset_urls":{"icon.svg":"https://bitrise-steplib-collection.s3.amazonaws.com/steps/amazon-s3-deploy/assets/icon.svg"},"host_os_tags":["osx-10.9","osx-10.10"],"project_type_tags":["ios"],"type_tags":["deploy","amazon"],"dependencies":[{"manager":"brew","name":"awscli"}],"deps":{},"is_requires_admin_user":true,"is_always_run":false,"is_skippable":false,"run_if":"","inputs":[{"dsym_path":"$BITRISE_DSYM_PATH","opts":{"title":"DSYM path (optional)","description":"","summary":"","is_required":false,"is_expand":true,"is_dont_change_value":false,"is_template":false}},{"app_slug":"$BITRISE_APP_SLUG","opts":{"title":"BITRISE`s App-Slug variable (passed automatically on Bitrise)","description":"","summary":"","is_required":true,"is_expand":true,"is_dont_change_value":false,"is_template":false}},{"aws_access_key":"","opts":{"title":"Amazon AWS Access Key","description":"","summary":"","is_required":true,"is_expand":true,"is_dont_change_value":false,"is_template":false}}],"outputs":[{"S3_DEPLOY_STEP_URL_IPA":"","opts":{"title":"Amazon S3 Deploy IPA URL","description":"","summary":"","is_required":true,"is_expand":false,"is_dont_change_value":true,"is_template":false}},{"S3_DEPLOY_STEP_URL_DSYM":"","opts":{"title":"Amazon S3 Deploy DSYM URL","description":"","summary":"","is_required":true,"is_expand":false,"is_dont_change_value":true,"is_template":false}},{"S3_DEPLOY_STEP_URL_PLIST":"","opts":{"title":"Amazon S3 Deploy .plist URL","description":"","summary":"","is_required":true,"is_expand":false,"is_dont_change_value":true,"is_template":false}}]}}},"git-clone":{"latest_version_number":"3.1.0","versions":{"3.1.0":{"title":"Git Clone Repository","summary":"Clone a repository to the specified path on the VM","description":"Clones a repository based on the provided inputs.\\n\\nIf `pull_request_id` is provided then all other git checkout parameters will be ignored.\\nIf a git commit is provided it will ignore the tag and branch parameters.\\nIf no git commit but a tag is provided then it will ignore the branch parameter.\\nIf no `branch` parameter is provided then it`ll skip `git checkout`.\\n","website":"https://github.com/bitrise-io/steps-git-clone","source_code_url":"https://github.com/bitrise-io/steps-git-clone","support_url":"https://github.com/bitrise-io/steps-git-clone/issues","published_at":"2015-11-06T15:41:25.636539127+01:00","source":{"git":"https://github.com/bitrise-io/steps-git-clone.git","commit":"bae58987d1a2a61aba4bcf067e7fd989e8f076e4"},"asset_urls":{"icon.svg":"https://bitrise-steplib-collection.s3.amazonaws.com/steps/git-clone/assets/icon.svg"},"host_os_tags":["osx-10.10"],"type_tags":["git","vcs"],"deps":{},"is_requires_admin_user":false,"is_always_run":false,"is_skippable":false,"run_if":".IsCI","inputs":[{"opts":{"title":"Git repository URL","description":"","summary":"","is_required":true,"is_expand":true,"is_dont_change_value":false,"is_template":false},"repository_url":"$GIT_REPOSITORY_URL"}],"outputs":[{"GIT_CLONE_COMMIT_HASH":null,"opts":{"title":"Cloned git commit`s commit hash","description":"","summary":"","is_required":false,"is_expand":true,"is_dont_change_value":false,"is_template":false}}]}}},"script":{"latest_version_number":"1.1.0","versions":{"0.9.0":{"title":"Script","summary":"The power is in your hands. Use it wisely!","description":"Specify the script content and (optionally) the script runner\\nbinary and this step will execute it.\\n\\nThe *runner* can even be a command, if it`s available in the PATH\\nand can execute the script it will work.\\n\\nFor example to run a [Go](https://golang.org/) Hello World \\"script\\"\\nyou can define the content:\\n\\n    package main\\n    import \\"fmt\\"\\n    func main() {\\n        fmt.Println(\\"hello world\\")\\n    }\\n\\nSet the *Execute with* parameter to `go run` and specify\\na *script file path* because `go run` can only accept (at the moment)\\nfiles with a .go extension (just specify `step.go` as the script path).\\n\\nIf the `go` binary can be found in the PATH your Hello World\\nscript will run without any problem.\\n","website":"https://github.com/bitrise-io/steps-script","source_code_url":"https://github.com/bitrise-io/steps-script","support_url":"","published_at":"2015-08-17T14:35:38.611929345+02:00","source":{"git":"https://github.com/bitrise-io/steps-script.git","commit":"28c5ba4f81162fbd7f9484c9fb26711f5d27cb1c"},"asset_urls":{"icon.svg":"https://bitrise-steplib-collection.s3.amazonaws.com/steps/script/assets/icon.svg"},"host_os_tags":["osx-10.10"],"type_tags":["script"],"deps":{},"is_requires_admin_user":true,"is_always_run":false,"is_skippable":false,"run_if":"","inputs":[{"content":"#!/bin/bash\\necho \\"Welcome to Bitrise!!\\"\\n","opts":{"title":"Script content","description":"Type your script here.\\n","summary":"","is_required":true,"is_expand":false,"is_dont_change_value":false,"is_template":false}}]},"0.9.1":{"title":"Generic Script Runner","summary":"The power is in your hands. Use it wisely!","description":"Specify the script content and (optionally) the script runner\\nbinary and this step will execute it.\\n\\nThe *runner* can even be a command, if it`s available in the PATH\\nand can execute the script it will work.\\n\\nFor example to run a [Go](https://golang.org/) Hello World \\"script\\"\\nyou can define the content:\\n\\n    package main\\n    import \\"fmt\\"\\n    func main() {\\n        fmt.Println(\\"hello world\\")\\n    }\\n\\nSet the *Execute with* parameter to `go run` and specify\\na *script file path* because `go run` can only accept (at the moment)\\nfiles with a .go extension (just specify `step.go` as the script path).\\n\\nIf the `go` binary can be found in the PATH your Hello World\\nscript will run without any problem.","website":"https://github.com/bitrise-io/steps-script","source_code_url":"https://github.com/bitrise-io/steps-script","support_url":"https://github.com/bitrise-io/steps-script/issues","published_at":"2015-08-18T14:35:38.611929345+02:00","source":{"git":"https://github.com/bitrise-io/steps-script.git","commit":"3b6857b016aa021cd5c86c78b54681679f996fc7"},"asset_urls":{"icon.svg":"https://bitrise-steplib-collection.s3.amazonaws.com/steps/script/assets/icon.svg"},"host_os_tags":["osx-10.10"],"type_tags":["script"],"deps":{},"is_requires_admin_user":false,"is_always_run":false,"is_skippable":false,"run_if":"","inputs":[{"is_debug":"no","opts":{"title":"Debug?","description":"If debug=yes the step will print debug infos about\\nthe working dir, tmp file path, exit code, etc.\\n","summary":"","value_options":["no","yes"],"is_required":false,"is_expand":false,"is_dont_change_value":false,"is_template":false}}]},"1.0.0":{"title":"Script","summary":"The power is in your hands. Use it wisely!","description":"Specify the script content and (optionally) the script runner\\nbinary and this step will execute it.\\n\\nThe *runner* can even be a command, if it`s available in the PATH\\nand can execute the script it will work.\\n\\nFor example to run a [Go](https://golang.org/) Hello World \\"script\\"\\nyou can define the content:\\n\\n    package main\\n    import \\"fmt\\"\\n    func main() {\\n        fmt.Println(\\"hello world\\")\\n    }\\n\\nSet the *Execute with* parameter to `go run` and specify\\na *script file path* because `go run` can only accept (at the moment)\\nfiles with a .go extension (just specify `step.go` as the script path).\\n\\nIf the `go` binary can be found in the PATH your Hello World\\nscript will run without any problem.","website":"https://github.com/bitrise-io/steps-script","source_code_url":"https://github.com/bitrise-io/steps-script","support_url":"https://github.com/bitrise-io/steps-script/issues","published_at":"2015-09-23T11:01:34.159018061+02:00","source":{"git":"https://github.com/bitrise-io/steps-script.git","commit":"e5789cf626ea17901b0d86cac88d82d49f0a9fb8"},"asset_urls":{"icon.svg":"https://bitrise-steplib-collection.s3.amazonaws.com/steps/script/assets/icon.svg"},"host_os_tags":["osx-10.10"],"type_tags":["script"],"deps":{},"is_requires_admin_user":false,"is_always_run":false,"is_skippable":false,"run_if":"","inputs":[]},"1.1.0":{"title":"Script","summary":"The power is in your hands. Use it wisely!","description":"Specify the script content and (optionally) the script runner\\nbinary and this step will execute it.\\n\\nThe *runner* can even be a command, if it`s available in the PATH\\nand can execute the script it will work.\\n\\nFor example to run a [Go](https://golang.org/) Hello World \\"script\\"\\nyou can define the content:\\n\\n    package main\\n    import \\"fmt\\"\\n    func main() {\\n        fmt.Println(\\"hello world\\")\\n    }\\n\\nSet the *Execute with* parameter to `go run` and specify\\na *script file path* because `go run` can only accept (at the moment)\\nfiles with a .go extension (just specify `step.go` as the script path).\\n\\nIf the `go` binary can be found in the PATH your Hello World\\nscript will run without any problem.","website":"https://github.com/bitrise-io/steps-script","source_code_url":"https://github.com/bitrise-io/steps-script","support_url":"https://github.com/bitrise-io/steps-script/issues","published_at":"2015-10-14T16:50:36.159715639+02:00","source":{"git":"https://github.com/bitrise-io/steps-script.git","commit":"c1ab0707c383b5ff3a8e0d76c1c57f9fb86acf21"},"asset_urls":{"icon.svg":"https://bitrise-steplib-collection.s3.amazonaws.com/steps/script/assets/icon.svg"},"host_os_tags":["osx-10.10"],"type_tags":["script"],"deps":{},"is_requires_admin_user":false,"is_always_run":false,"is_skippable":false,"run_if":"","inputs":[{"content":"#!/bin/bash\\n\\necho \\"Hello Bitrise!\\"","opts":{"title":"Script content","description":"Type your script here.\\n\\n**Make sure that it returns a non zero exit code in case of an error!**\\nThe step will only fail if your script returns with a non zero exit code!\\n","summary":"","is_required":true,"is_expand":false,"is_dont_change_value":false,"is_template":false}}]}}}}}')}}),angular.module("Bitrise").factory("BitriseSteplibV3",["$http","Step","VariableV3",function(e,t){function n(e,t){if(!e)throw new TypeError("Step id not specified");if(!i.dataHash.steps[e])throw new ReferenceError("Step not found in Bitrise Steplib");var n=null===t?i.dataHash.steps[e].latest_version_number:t;if(!n)throw new TypeError("Step version not specified");if(!i.dataHash.steps[e].versions[n])throw new ReferenceError("Step version not found in Bitrise Steplib");return i.dataHash.steps[e].versions[n]}var i={steplibSource:"https://bitrise-steplib-collection.s3.amazonaws.com/spec.json",dataHash:undefined,steps:undefined,stepVersions:undefined,latestSteps:undefined,latestStepVersions:undefined};return i.fetchData=function(){var t=this;return e.get(this.steplibSource).then(function(e){t.dataHash=e.data;var n=_.map(e.data.steps,function(e,t){return t}).sort();t.steps={},t.stepVersions={},t.latestSteps=[],t.latestStepVersions=[],_.each(n,function(e){t.steps[e]={},t.stepVersions[e]=[],_.each(t.dataHash.steps[e].versions,function(n,i){var r=e+"@"+i,o=t.stepWithCvs(r);t.steps[e][i]=o,t.stepVersions[e].push(i)}),t.stepVersions[e].sort();var n=t.stepWithCvs(e);t.latestSteps.push(n),t.latestStepVersions.push(n.actualVersion)})},function(){throw new Error("Error fetching Bitrise Steplib Steps!")})},i.stepWithCvs=function(e){if(e){e+="";var n,i,r,o=e.split("::");switch(o.length){case 1:n=!0,i=null,r=e;break;case 2:n=0==o[0].length||o[0]==this.steplibSource,i=0==o[0].length?null:o[0],r=o[1];break;default:throw new TypeError("Multiple steplib sources specified")}var s=r.split("@");if(s.length>2)throw new TypeError("Multiple versions specified");var a=s[0];if(0==a.length)throw new TypeError("Step id not specified");if(n&&!this.dataHash.steps[a])throw new ReferenceError("Step id not found in Bitrise Steplib");var l;if(n)switch(s.length){case 1:l=null;break;default:if(!this.dataHash.steps[a].versions[s[1]])throw new ReferenceError("Step version not found in Bitrise Steplib");l=s[1].length>0?s[1]:null}else{if(s.length<2||0==s[1].length)throw new TypeError("Step version not specified");l=s[1]}var c=new t;if(c.steplibSource=i,c.id=a,n){c.configureWithVersion(l,this.dataHash.steps[a].latest_version_number);var u=this.dataHash.steps[a].versions[c.actualVersion];c.configureWithDataHash(u,!0);var d=this.dataHash.steps[a].info;!_.isUndefined(d)&&d.removal_date&&c.configureWithDeprecation(new Date(d.removal_date),d.deprecate_notes)}else c.configureWithVersion(l);return c}},i.isBitriseSteplibStep=function(e){return null===e.steplibSource||e.steplibSource==this.steplibSource},i.defaultDataHashForStep=function(e){if(i.isBitriseSteplibStep(e))return n(e.id,e.versionForCvs)},i.defaultDataHashForVariable=function(e,t,n){var i,r=t||n,o=this.defaultDataHashForStep(r);if(o){if(!(i=_.find(o[t?"inputs":"outputs"],function(t){return t[e.key]!==undefined})))throw new ReferenceError("Variable not found in Bitrise Steplib");return i}},i.changeStepVersion=function(e,t){var i=this.defaultDataHashForStep(e),r=n(e.id,t),o=e.strippedDataHash(i);e.configureWithVersion(t,this.dataHash.steps[e.id].latest_version_number),e.configureWithDataHash(r),e.appendDataHash(o)},i.orderStepVersions=function(e){if(_.isNull(e)||_.isUndefined(e))return e;if(!_.isArray(e))throw new TypeError("Invalid Step version format!");var t,n,i,r;return e.sort(function(e,o){if(_.isEqual(e,o))throw new TypeError("Same format of Step versions!");t=e.split("."),n=o.split(".");for(var s=0;s<t.length;s++){if(i=Number(t[s]),r=Number(n[s]),(!_.isNumber(i)&&!_.isNumber(r)||_.isNaN(i))&&_.isNaN(r))throw new TypeError("Invalid Step version format!");if(!n[s])throw new TypeError("Invalid Step version format!");if(t[s]!==n[s])return t[s]-n[s]}})},i}]),function(){"use strict";Bitrise.factory("Build",["$http","$timeout","$q","http","StyleGenerator","DateService","Log","Stack",function(e,t,n,i,r,o,s,a){var l=function(e,t,n,i,r,o){this.slug=e,this.repositoryValidationSlug=t,this.buildNumber,this.branch,this.branchDest,this.status,this.isOnHold,this.triggeredAt,this.triggeredWorkflowId,this.startedAt,this.environmentPrepareStartedAt,this.environmentPreparedAt,this.finishedAt,this.durationInSeconds,this.progressPercent,this.provider,this.commitHash,this.commitMessage,this.abortReason,this.tag,this.repositoryURL,this.pullRequestID,this.pullRequestRepositoryURL,this.originalBuildParams,this.steps,this.configDownloadURL,this.machineType,this.stack,this.triggeredBy,this.app,this.log=new s(this),this.fetchDetailsRequest=null,n===undefined&&(n=!1),r===undefined&&(r=1),i===undefined&&(i=!1),o===undefined&&(o=3),this.shouldUpdateDurationPeriodically=n,this.shouldUpdateProgressPercentPeriodically=i,this.durationUpdatePeriodInSeconds=r,this.progressPercentUpdatePeriodInSeconds=o};return l.prototype.countDuration=function(){var e=this.startedAt,n=this.finishedAt;if(this.environmentPrepareStartedAt&&(e=null),this.environmentPreparedAt&&(e=this.environmentPreparedAt),!this.isFinished()&&(n=new Date,this.shouldUpdateDurationPeriodically)){var i=this;t(function(){i.countDuration()},1e3*i.durationUpdatePeriodInSeconds)}if(null===e)return void(this.durationInSeconds=null);this.durationInSeconds=Math.floor((n-e)/1e3)},l.prototype.getStack=function(){var e="/build/"+this.slug+"/stack_info.json",t=this;return i.get(e,undefined,"Error getting stack datas.").then(function(e){if(!e)return void(t.stack=null);t.stack=new a(e.id),t.stack.title=e.title},function(e){throw e.message})},l.prototype.countProgressPercent=function(){if(this.status>0)return void(this.progressPercent=null);if(this.status<0||this.isOnHold||this.isWaitingForWorker()||this.isPreparingEnvironment())this.progressPercent=null;else if(this.previousBuildWithSameWorkflowDuration){var e=Math.floor(100*this.durationInSeconds/this.previousBuildWithSameWorkflowDuration);e>99&&(e=99),this.progressPercent=e}else this.progressPercent=null;if(!this.isFinished()&&this.shouldUpdateProgressPercentPeriodically){var n=this;t(function(){n.countProgressPercent()},1e3*n.progressPercentUpdatePeriodInSeconds)}},l.prototype.statusCSSClass=function(){if(this.status===undefined)return undefined;switch(this.status){case-1:return"build-not-started-yet";case 0:return this.isOnHold?"build-onhold":this.isWaitingForWorker()?"build-waiting-for-worker":this.isPreparingEnvironment()?"build-preparing-env":"build-inprogress";case 1:return"build-success";case 2:return"build-error";case 3:return"build-aborted"}},l.prototype.statusText=function(){if(this.status===undefined)return undefined;switch(this.status){case-1:return"Not started yet";case 0:return this.isOnHold?"On hold":this.isWaitingForWorker()?"Waiting for worker":this.isPreparingEnvironment()?"Preparing Build Environment":"Running";case 1:return"Success";case 2:return"Failed";case 3:return"Aborted"}},l.prototype.providerCSSClass=function(){return"github"==this.provider?"github":"bitbucket"==this.provider?"bitbucket":"gitlab"==this.provider?"gitlab":null},l.prototype.isValidationBuildMode=function(){return this.repositoryValidationSlug===undefined?undefined:null!==this.repositoryValidationSlug},l.prototype.isTriggeredByPullRequest=function(){return this.pullRequestID===undefined?undefined:this.pullRequestID>0},l.prototype.isWaitingForWorker=function(){return this.triggeredAt===undefined?undefined:!!this.triggeredAt&&(this.startedAt===undefined?undefined:!this.startedAt&&(this.isOnHold===undefined?undefined:!this.isOnHold))},l.prototype.isPreparingEnvironment=function(){return this.environmentPrepareStartedAt===undefined?undefined:!!this.environmentPrepareStartedAt&&(this.environmentPreparedAt===undefined?undefined:!this.environmentPreparedAt)},l.prototype.isFinished=function(){return this.finishedAt===undefined?undefined:null!=this.finishedAt},l.startNewBuild=function(e,t,r,o){if(e===undefined)return n.reject(new Error("App slug not specified."));if(t===undefined)return n.reject(new Error("App API token not specified."));if(r===undefined)return n.reject(new Error("Build parameters not specified."));var s="/app/"+e+"/build/start.json",a={payload:{hook_info:{type:"bitrise",api_token:t},build_params:r,triggered_by:o}},l=n.defer();return i.post(s,a,undefined,"Failed to start new build!").then(function(e){l.resolve(e.build_slug)},function(e){l.reject(e)}),l.promise},l.prototype.startNewBuildWithSameParameters=function(e,t){return l.startNewBuild(e,t,this.originalBuildParams)},l.prototype.fetchDetails=function(){if(this.fetchDetailsRequest&&this.fetchDetailsRequest.resolve("Fetch details cancelled by another fetch details request"),this.fetchDetailsRequest=n.defer(),!this.isValidationBuildMode()){var e,t=this,s="/build/"+this.slug+".json";return n.all([i.get(s,{timeout:this.fetchDetailsRequest.promise},"Error fetching Build details.").then(function(n){t.fetchDetailsRequest=null;var i=n.build;if(!i)throw"Invalid response";t.slug=i.slug,t.buildNumber=i.build_number,t.machineType=r.nameForMachineType(i.machine_type),t.triggeredBy=i.triggered_by,t.branch=i.branch,t.branchDest=i.branch_dest,t.status=i.status,t.isOnHold=i.is_on_hold,t.commitMessage=r.linkifyString(i.commit_message),t.originalBuildParams=i.original_build_params,t.triggeredWorkflowId=i.triggered_workflow,t.triggeredAt=o.dateFromString(i.created_at),t.startedAt=o.dateFromString(i.build_started_on_worker),t.environmentPrepareStartedAt=o.dateFromString(i.environment_prepare_started_at),t.environmentPreparedAt=o.dateFromString(i.environment_prepared_at),t.finishedAt=o.dateFromString(i.build_finished),t.previousBuildWithSameWorkflowDuration=n.build.previous_build_on_workflow_duration,t.tag=i.tag,t.repositoryURL=i.repository_url,t.pullRequestID=i.pull_request_id,t.pullRequestRepositoryURL=i.pull_request_repository_url,t.countDuration(),t.countProgressPercent(),i.abort_reason&&(t.abortReason=i.abort_reason),n.repository.provider&&(t.provider=n.repository.provider);try{t.log.version!==i.build_log_version&&t.log.configureWithVersion(i.build_log_version)}catch(e){throw"Failed to update build details"}e=i.number_of_successful_builds}),t.getStack()]).then(function(){return e})}},l.prototype.fetchValidationStatus=function(e){if(!this.isValidationBuildMode())return n.when();var t=this,r="/app/"+this.repositoryValidationSlug+"/check.json";return i.get(r,e,"Error fetching Build validation status").then(function(e){t.status=e.status})},l.prototype.abort=function(t){var n="/build/"+this.slug+"/abort.json";return e.post(n,{abort_reason:t})},l}]).filter("branchDisplayName",function(){return function(e){if(e.pullRequestID<1||e.repositoryURL===undefined||null===e.repositoryURL)return undefined;if(e.pullRequestRepositoryURL===undefined||null===e.pullRequestRepositoryURL)return e.branch;var t=new RegExp(/^(?:(git|ssh|https?)(?:\@|:\/\/))(?:[^.]+).(?:com|org)(?::|\/)([^\/]*)(?:\/)([^.]+).(?:.*)$/),n=t.exec(e.pullRequestRepositoryURL);n=_.compact(n);var i=t.exec(e.repositoryURL);return i=_.compact(i),n[2].toLowerCase()==i[2].toLowerCase()&&n[3].toLowerCase()==i[3].toLowerCase()?e.branch:n[2]+":"+e.branch}})}(),function(){"use strict";angular.module("Bitrise").factory("BuildArtifact",["$http","$q",function(e,t){function n(e){if(e.artifact_meta&&"ios-ipa"===e.artifact_type){if("none"===e.installType)return"iOS App Store";if("limited"===e.installType)return"Development";if("unlimited"===e.installType)return"Enterprise"}return"Unknown"}function i(e){return e<1048576?(e/1024).toFixed(2)+" KB":(e/1024/1024).toFixed(2)+" MB"}function r(e,t){return _.map(e,function(e){return 1==e?"iPhone"+t+"iPod Touch":2==e?"iPad":"Unknown"}).join(t)}var o=function(e){this.id=e.id,this.artifact_type=e.artifact_type,this.artifact_meta=e.artifact_meta,this.download_url=e.download_url,this.install_url=e.install_url,this.is_current_user_can_install=e.is_current_user_can_install,this.device_platform_compatibility_info=e.device_platform_compatibility_info,this.is_processed=e.is_processed,this.is_test_install_enabled=e.is_test_install_enabled,this.title=e.title,this.public_install_page_url=e.public_install_page_url,this.is_public_page_enabled=e.is_public_page_enabled,this.notified_emails=e.notified_emails,this.notified_users=e.notified_users,this.pending_notify_emails=e.pending_notify_emails,this.pending_notify_users=e.pending_notify_users,this.fileSizeInBytes=null,this.formattedFileSizeAsText=null,this.distributionTypeOfArtifact="Unknown",this.ipaExportMethod=null,this.test_device_id_list=null,this.appSupportedDeviceTypesText=null,this.appTitle=null,this.appVersionNumber=null,this.appBuildNumber=null,this.installType=null,this.appBundleID=null,this.packageName=null,this.versionCode=null,this.versionName=null,this.minSDKVersion=null,this.localPendingNotificationEmailsList=null,this.localPendingNotificationGroupList=null,this.testUsersAndDevices={},this.nonAssociatedDeviceIdentifiers=[],this.calculateVars()};return o.prototype.calculateVars=function(){this.artifact_meta&&("ios-ipa"===this.artifact_type?(this.installType=this.artifact_meta.install_type,this.fileSizeInBytes=this.artifact_meta.file_size_bytes,this.formattedFileSizeAsText=i(this.fileSizeInBytes),this.distributionTypeOfArtifact=n(this),this.ipaExportMethod=this.artifact_meta.provisioning_info.ipa_export_method,this.test_device_id_list=this.artifact_meta.test_device_id_list,this.artifact_meta.app_info&&(this.appSupportedDeviceTypesText=r(this.artifact_meta.app_info.device_family_list," & "),this.appTitle=this.artifact_meta.app_info.app_title,this.appVersionNumber=this.artifact_meta.app_info.version,this.appBuildNumber=this.artifact_meta.app_info.build_number,this.appBundleID=this.artifact_meta.app_info.bundle_id)):"android-apk"===this.artifact_type?(this.fileSizeInBytes=this.artifact_meta.file_size_bytes,this.formattedFileSizeAsText=i(this.fileSizeInBytes),this.artifact_meta.app_info&&(this.appTitle=this.artifact_meta.app_info.app_name,this.packageName=this.artifact_meta.app_info.package_name,this.versionCode=this.artifact_meta.app_info.version_code,this.versionName=this.artifact_meta.app_info.version_name,this.minSDKVersion=this.artifact_meta.app_info.min_sdk_version)):(this.fileSizeInBytes=this.artifact_meta.file_size_bytes,this.formattedFileSizeAsText=i(this.fileSizeInBytes)))},o.prototype.addUserDeviceToAllowedTesterList=function(e){var t=e.owner.username;this.testUsersAndDevices[t]||(this.testUsersAndDevices[t]={owner_username:t,titles:"",devices:[]});var n=this.testUsersAndDevices[t];n.devices.push(e),n.titles=_.map(n.devices,function(e){return e.title}).join(", "),console.log("testUserAndDeviceItem: ",n)},o.prototype.calculateTestUsersByDeviceIds=function(e){if(this.test_device_id_list){var t=this;t.testUsersAndDevices={},_.each(t.test_device_id_list,function(n){var i=!1;_.each(e,function(e){e.device_identifier===n&&(t.addUserDeviceToAllowedTesterList(e),i=!0)}),i||t.nonAssociatedDeviceIdentifiers.push(n)})}},o.prototype.getDeviceInstallIncompatibilityMessage=function(e){if(!e||""===e)return"Given device identifier is empty or undefined.";if(!this.is_test_install_enabled)return"Can't be installed on any device, test install is disabled.";if(!this.device_platform_compatibility_info)return"Device platform compatibility could not be checked.";if(!this.device_platform_compatibility_info.is_compatible)return this.device_platform_compatibility_info.incompatibility_message?this.device_platform_compatibility_info.incompatibility_message:"Device not compatible.";if("unlimited"===this.installType)return null;var t=this;return _.find(t.test_device_id_list,function(t){return e===t})?null:"Device was not found in the allowed test devices list, based on it's identifier."},o.prototype.isCanBeInstalledOnDevice=function(e){return null===this.getDeviceInstallIncompatibilityMessage(e)},o.fetchAllBuildArtifactsOfBuild=function(t){var n="/build/"+t+"/artifacts.json";return e.get(n).then(function(e){var t=[];return _.each(e.data,function(e){t.push(new o(e))}),t})},o.prototype.fetchDetails=function(){var t=this,n="/artifact/"+t.id+".json";return e.get(n).then(function(e){return angular.extend(t,e.data),e})},o.prototype.toggleIsPublicPageEnabled=function(){var n=this,i="/artifact/"+n.id+"/is_public_page_enabled.json",r={is_public_page_enabled:n.is_public_page_enabled};return e.post(i,r).then(function(e){return angular.extend(n,e.data),n.calculateVars(),e},function(e){return console.log("Failed: ",e),n.is_public_page_enabled=!n.is_public_page_enabled,t.reject(e)})},o.prototype.sendNotificationToLocalPendingLists=function(n,i){var r=this,o="/artifact/"+r.id+"/notify.json",s={notify_emails:i?r.localPendingNotificationEmailsList:[],notify_user_groups:n?r.localPendingNotificationGroupList:[]},a=r.localPendingNotificationEmailsList,l=r.localPendingNotificationGroupList;return r.localPendingNotificationEmailsList=null,r.localPendingNotificationGroupList=null,e.post(o,s).then(function(e){return angular.extend(r,e.data),e},function(e){return console.log("Failed: ",e),r.localPendingNotificationEmailsList=a,r.localPendingNotificationGroupList=l,t.reject(e)})},o}])}(),function(){"use strict";Bitrise.factory("BuildCert",["http",function(e){var t=function(e){this.file,this.id=e,this.password,this.isProcessed,this.directUploadURL,this.expiringURL};return t.prototype.download=function(t){var n="/build_certificate/"+this.id+".json",i=this;return e.get(n,t).then(function(e){i.expiringURL=e.expiring_url},function(e){i.expiringURL=e.expiring_url})},t.prototype["delete"]=function(t){var n="/build_certificate/"+this.id+".json";return e["delete"](n,t)},t.prototype.savePassword=function(t){var n="/build_certificate/"+this.id+"/password.json",i={certificate_password:this.password};return e.put(n,i,t)},t.prototype.displayName=function(){var e=new RegExp(".([-._a-zA-Z0-9 ()]+.p12)+"),t=decodeURIComponent(this.expiringURL);return e.test(t)&&e.exec(t)[1]?e.exec(t)[1]:"No title for certificate"},t.prototype.updateFile=function(e){this.file=e},t.prototype.size=function(){return this.file?this.file.size!==undefined?this.file.size:this.file.fileSize!==undefined?this.file.fileSize:void 0:undefined},t.prototype.upload=function(e){return $.ajax({type:"PUT",url:e,contentType:"binary/octet-stream",processData:!1,data:this.file})},t}])}(),function(){"use strict";Bitrise.factory("BuildSchedule",["$q","$injector","http","App",function(e,t,n,i){var r=function(e){this.id=e,this.appSlug=undefined,this.apiToken=undefined,this.hour=undefined,this.minute=undefined,this.weekdayIndexes=undefined,this.buildParams=null,this.nextRunDate=undefined,this.isEnabled=undefined};return r.prototype.configureWithNextRunDate=function(e){this.nextRunDate=e,this.hour=e.getHours(),this.minute=e.getMinutes()},r.utcWeekdaysBitstream=function(e,t,n){var i=0,r=new Date;r.setHours(t),r.setMinutes(n),_.each(e,function(e){i|=Math.pow(2,e)});var o=i;if(r.getUTCHours()-r.getTimezoneOffset()/60>=24){var s=1&i;o>>=1,s&&(o|=64)}else if(r.getUTCHours()-r.getTimezoneOffset()/60<0){var a=64&i;o<<=1,a&&(o|=1)}return o},r.localWeekdayIndexes=function(e,t,n){var i=[],r=new Date;r.setUTCHours(t),r.setUTCMinutes(n);var o=e
;if(r.getHours()+r.getTimezoneOffset()/60>=24){var s=1&e;o>>=1,s&&(o|=64)}else if(r.getHours()+r.getTimezoneOffset()/60<0){var a=64&e;o<<=1,a&&(o|=1)}return _.times(7,function(e){o&Math.pow(2,e)&&i.push(e)}),i},r.prototype.post=function(o){if(!this.appSlug)return e.reject("No app slug specified");if(!this.apiToken)return e.reject("No API token specified");if(this.hour===undefined||this.minute===undefined)return e.reject("No schedule time specified");if(!this.weekdayIndexes)return e.reject("No schedule days specified");if(null==this.buildParams)return e.reject("No build parameters specified");this.isEnabled===undefined&&(this.isEnabled=!0);var s=t.get("routeService"),a=0;a=r.utcWeekdaysBitstream(this.weekdayIndexes,this.hour,this.minute);var l=new Date;l.setHours(this.hour),l.setMinutes(this.minute);var c=new i(this.appSlug),u=s.appScheduledBuildsPath(c),d={api_token:this.apiToken,schedule:{id:this.id,time:l.getUTCHours()+":"+l.getUTCMinutes(),weekdays:a,build_params:this.buildParams,is_enabled:this.isEnabled}};return n.post(u,d,o,"Error posting schedule.").then(function(){})},r.prototype["delete"]=function(i){if(!this.id)return e.reject("No id specified");if(!this.apiToken)return e.reject("No API token specified");var r=t.get("routeService"),o=r.appScheduledBuildPath(this);return i||(i={}),i.params={api_token:this.apiToken},n["delete"](o,i,"Error deleting schedule.").then(function(){})},r}])}(),function(){"use strict";Bitrise.factory("Coupon",["http","$q","routeService",function(e,t,n){var i=function(){this.code="",this.name=undefined,this.type=undefined,this.value=undefined,this.durationInMonths=undefined};return i.prototype.submit=function(e,t){return i.submit(this.code,e,t)},i.submit=function(i,r,o){if(null===i||i===undefined)return t.reject("Coupon code not specified");var s=n.couponPath(r),a={coupon_code:i};return e.post(s,a,o,"Failed to redeem coupon.").then(function(){})},i["delete"]=function(i,r){if(null===i||i===undefined)return t.reject("Coupon code not specified");var o=n.couponPath(r),s={coupon_code:i};return e["delete"](o,{params:s},"Failed to redeem coupon.").then(function(){})},i.getRedeemed=function(r,o){if(null===r||r===undefined)return t.reject("Account not specified");var s=n.couponPath(r);return e.get(s,o,"Failed to load coupon data.").then(function(e){var t=new i;if(!e.coupon)return null;switch(t.code=e.coupon.coupon_code,t.name=e.coupon.name,t.type=e.coupon.discount_type,t.durationInMonths=e.coupon.applies_for_months,t.type){case"percent":t.value=e.coupon.discount_percent;break;case"dollars":t.value=e.coupon.discount_in_cents.USD/100}return t})},i}])}(),function(){"use strict";Bitrise.factory("DateService",function(){var e={};return e.isDateToday=function(e){if(!e||!(e instanceof Date)||isNaN(e.getTime()))return!1;var t=new Date;return t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},e.ISODateStringFromString=function(e){if(null===e||e===undefined)return e;if(!e)return null;var t=null,n=e.split(" ");return n.length>1?t=n[0]+"T"+n[1]+"Z":1===n.length&&(t=n[0]),t},e.dateFromString=function(t){var n=e.ISODateStringFromString(t);return n?new Date(n):n},e.differenceFromDateTime=function(t,n){var i,r;if(i=n&&"string"==typeof n?new Date(e.ISODateStringFromString(n)):n&&n instanceof Date?n:new Date,t&&"string"==typeof t?r=new Date(e.ISODateStringFromString(t)):t&&t instanceof Date&&(r=t),!r||!(r instanceof Date)||isNaN(r.getTime())||!(i instanceof Date)||isNaN(i.getTime())||(r-i)/1e3<1)return!1;var o=(r-i)/1e3;return{inDays:Math.round(o/86400),inHours:Math.round(o/3600),inMinutes:Math.round(o/60),inSeconds:o}},e.durationInMilliseconds=function(e,t){var n;switch(t){case"milliseconds":n=1;break;case"seconds":n=1e3;break;case"minutes":n=6e4;break;case"hours":n=36e5;break;case"days":n=864e5;break;case"weeks":n=6048e5}return e*n},e})}(),function(){"use strict";Bitrise.factory("Device",["http","$q",function(e,t){var n=function(e){this.databaseId=undefined,this.deviceId=undefined,this.name=undefined,this.isRegistered=e===undefined||e,this.type="ios"};return n.prototype.register=function(n){if(this.name===undefined)return t.reject("Device name not specified");if(this.deviceId===undefined)return t.reject("Device ID not specified");if(this.type===undefined)return t.reject("Device type not specified");var i={title:this.name,device_identifier:this.deviceId,device_type:this.type};return e.post("/me/test_devices.json",i,n,"Error registering device.").then(function(){})},n.prototype["delete"]=function(n){if(this.databaseId===undefined)return t.reject("Device database ID not specified");var i="/me/test_devices/d/"+this.databaseId+".json";return e["delete"](i,n,"Error deleting device.").then(function(){})},n}])}(),angular.module("Bitrise").factory("Diagram",["StyleGenerator",function(e){var t=function(e){this.svgElement=document.getElementById(e),this.datas=null,this.colors=null};return t.prototype.configureWithColors=function(e){return!!angular.isArray(e)&&(this.colors=e,!0)},t.prototype.updateWithDatas=function(t){if(!angular.isArray(t))return!1;for(;t.length>this.svgElement.childNodes.length;){var n=document.createElementNS("http://www.w3.org/2000/svg","circle");if(this.colors){var i=null;if(!(i=this.colors.length>=this.svgElement.childNodes.length+1?this.colors[this.svgElement.childNodes.length]:e.randomColor(this.colors)))return!1;$(n).css("stroke",i)}this.svgElement.appendChild(n),$(n).attr("cx","50%"),$(n).attr("cy","50%");var r=$(n).css("stroke-width").replace("%",""),o=100==r?"50%":50-r/2+"%";$(n).attr("r",o)}if(_.filter(t,function(e){return isNaN(e)||e<0}).length>0)return!1;this.datas=t;var s=0;_.each(t,function(e){s+=e});var a=0,l=this;return _.each(this.datas,function(e,t){var n=l.svgElement.childNodes[t],i=2*$(n).attr("r").replace("%","")*Math.PI,r=(s>0?i*e/s:0)+"%",o=(s>0?i*(s-e)/s:i)+"%",c=i/4-(s>0?i*a/s:0)+"%";$(n).attr("stroke-dasharray",r+" "+o),$(n).attr("stroke-dashoffset",c),a+=e}),!0},t.prototype.updateWithPercent=function(e){return this.updateWithDatas([e,100-e])},t}]),angular.module("Bitrise").factory("DropdownBox",function(){function e(e){e.isVisible&&(e.element.css("right",$(window).width()+$(window).scrollLeft()-e.invokerElement.offset().left-e.invokerElement.outerWidth()+"px"),e.element.css("top",e.invokerElement.offset().top-$(window).scrollTop()+e.invokerElement.height()+t+"px"))}var t=12,n=function(t,n,i){this.isVisible=!1,this.element=$("#"+t),this.invokerElement=$("#"+n);var r=this,o=function(e){27==e.keyCode&&(r.setIsVisible(!1),i.$digest())};$(document).keyup(o);var s=function(e){if(r.isVisible){var t=r.invokerElement.get(0),n=r.element.get(0);t==e.target||n==e.target||$.contains(n,e.target)||(r.setIsVisible(!1),i.$digest())}};$("html").click(s);var a=function(){e(r)},l=a;$(window).scroll(a),$(window).resize(l),i.$on("$destroy",function(){$(document).unbind("keyup",o),$("html").unbind("click",s),$(window).unbind("scroll",a),$(window).unbind("resize",l)})};return n.prototype.setAppearFunction=function(e){this.appearFunction=e},n.prototype.setDismissFunction=function(e){this.dismissFunction=e},n.prototype.setIsVisible=function(t){this.isVisible!=t&&(this.isVisible=t,t?(e(this),"function"==typeof this.appearFunction&&this.appearFunction()):"function"==typeof this.dismissFunction&&this.dismissFunction())},n}),function(){"use strict";angular.module("Bitrise").factory("FeedService",["$http","$q","DateService",function(e,t){function n(e){var t=new Date(e.pubDate),n=new Date;return n.setDate(n.getDate()-2),t>=n}var i=function(){};return i.parseFeed=function(e){var i="Feed could not be parsed.";return t(function(t,r){try{var o=new JKL.ParseXML(e);o.async(function(e){null==e.rss&&r(i);var o=[];_.each(e.rss.channel.item,function(e){o.push({title:e.title,publishedAt:new Date(e.pubDate),url:e.link,content:e.description,isLatestNews:n(e)})}),0==o.length&&r("No news found."),t(o)}),o.parse()}catch(e){r(i)}})},i}])}(),angular.module("Bitrise").factory("File",function(){var e=function(){this.fileName=undefined,this.extension=undefined,this.isDisplayable=undefined};return e.prototype.configureWithFullFilename=function(e){var t=e.lastIndexOf(".");this.fileName=-1==t?e:e.substr(0,t),this.extension=-1==t?null:e.substr(t+1),this.isDisplayable="log"===this.extension||"txt"===this.extension||"html"===this.extension||"plist"===this.extension},e}),function(){"use strict";Bitrise.factory("Group",function(){return function(e){this.slug=e,this.name=undefined,this.users=undefined}})}(),function(){"use strict";Bitrise.factory("Log",["$http","$q","StyleGenerator",function(e,t){var n=new RegExp("[|] [(][1234567890]+[)] .+ [|]"),i=new RegExp("[+]-{78}[+]"),r=new RegExp("[|] id: ([^ ]+)[ ]*[|]"),o=new RegExp("[|] version: ([^ ]+)[ ]+[|]"),s=new RegExp("[|] collection: ([^ ]+)[ ]+[|]"),a=new RegExp("[|] toolkit: ([^ ]+)[ ]+[|]"),l=new RegExp("[|] time: (.+) [|]"),c=new RegExp("[+]-{78}[+]"),u=[n,i,r,o,s,a,l,c],d=[n,i,r,o,s,l,c],h=new RegExp(" \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557|[|][ ]+.+[ ]+[|] .+[ ]+[|] [1234567890.]+ sec[ ]+[|]"),p=function(e){this.version=null,this.lines=null,this.chunks=[],this.fullAvailable=null,this.loadedFromBeginning=null,this.fetchRequest=null,this.fetchTimestamp=null,this.skippedChunkProcessingCount=0,this.downloadURL,this.build=e;try{this.configureWithVersion("v2")}catch(e){this.version=null}};return p.prototype.configureWithVersion=function(e){if(null===e||e===undefined)return void(this.version=null);if(e&&"string"!=typeof e)throw"Invalid version";this.version=e},p.prototype.configureWithChunks=function(e){if(null===e||e===undefined)return this.chunks=[],void(this.lines=null);if(!_.isArray(e))throw"Invalid chunks format";this.processChunks(e,!0)},p.prototype.addChunks=function(e){if(null!==e&&e!==undefined){if(!_.isArray(e))throw"Invalid chunks format";0!=e.length&&this.processChunks(e)}},p.prototype.processChunks=function(e,t){t&&(this.chunks=[],this.lines=[]);var i=p.visibleChunksFromChunks(e),a=_.last(this.chunks);if(this.chunks=this.chunks.concat(e),_.sortBy(this.chunks,function(e){return e.position}),this.skippedChunkProcessingCount<3&&null!=a&&a.position+1<_.first(i).position)return void this.skippedChunkProcessingCount++;this.skippedChunkProcessingCount=0;var l=_.map(i,function(e){return e.chunk}).join(""),c=[],f=0,g=!1;_.times(l.length,function(e){if("\n"==l[e]){var t=l.slice(f,e+1);f=e+1;var n="\n"==t;g&&n?_.last(c).content+=t:c.push({content:t}),g=n}});var m;null==this.lines&&(this.lines=[]);var v=_.last(this.lines);null==v||_.isEmpty(c)?m=c:(v.content=v.content.concat(c[0].content),m=c.slice(1));var y=this,b=this.lines.length>u.length?u.length:this.lines.length;_.each(this.lines.slice(b).concat(m),function(e,t,i){if(n.test(e.content)){var a=i.slice(t,t+u.length);if(_.every(u,function(e,t){return a[t]!==undefined&&e.test(a[t].content)})){if(e===undefined)return void console.log("cannot set step of line in header, it is undefined!");e.step={id:r.exec(i[t+u.indexOf(r)].content)[1],version:o.exec(i[t+u.indexOf(o)].content)[1],collection:s.exec(i[t+u.indexOf(s)].content)[1],headerLine:e,isLogFolded:!1}}else if(_.every(d,function(e,t){return a[t]!==undefined&&e.test(a[t].content)})){if(e===undefined)return void console.log("cannot set step of line in header (without toolkit), it is undefined!");e.step={id:r.exec(i[t+d.indexOf(r)].content)[1],version:o.exec(i[t+d.indexOf(o)].content)[1],collection:s.exec(i[t+d.indexOf(s)].content)[1],headerLine:e,isLogFolded:!1}}}if(e===undefined)return void console.log("cannot process, aLine is undefined!");!(null!=e.step&&e.step.headerLine==e)&&t>0&&(null!=i[t-1].step&&i[t-1].step.footerLine==i[t-1]?e.step=null:(e.step=i[t-1].step,null!=e.step&&t>=_.indexOf(i,e.step.headerLine)+u.length&&null==e.step.footerLine&&h.test(e.content)&&(e.step.footerLine=e))),_.contains(y.lines,e)||y.lines.push(e)})},p.prototype.shouldFoldLine=function(e){if(!_.contains(this.lines,e))return!0;if(e===undefined)return console.log("shouldFoldLine: line is undefined"),!1;if(null==e.step)return!1;if(!e.step.isLogFolded)return!1;var t=_.indexOf(this.lines,e.step.headerLine)+2,n=_.indexOf(this.lines,e.step.footerLine),i=-1!=n?n-2:this.lines.length-1,r=this.lines.indexOf(e);return r>=t&&r<=i},p.visibleChunksFromChunks=function(e){return null===e||e===undefined?[]:_.isArray(e)?0==e.length||1==e.length?e:e.slice(_.findLastIndex(e,function(e,t,n){return 0==t||e.position!=n[t-1].position+1})):[]},p.prototype.fetch=function(){var n=this;if(this.fetchRequest)return this.fetchRequest.resolve("Fetch cancelled by another fetch request");switch(this.fetchRequest=t.defer(),this.version){case"v2":var i=this.build.isValidationBuildMode()?"/api/validation/"+this.build.repositoryValidationSlug+"/logs.json?is_include_log_chunks=true":"/api/build/"+this.build.slug+"/logs.json?is_include_log_chunks=true",r={timestamp:this.fetchTimestamp};return t(function(t,o){e.get(i,{params:r,timeout:n.fetchRequest.promise}).then(function(e){n.fetchRequest=null;try{var i=_.isEmpty(n.chunks)?null:_.max(n.chunks,function(e){return e.position}),r=i?_.filter(e.data.log_chunks,function(e){return e.position>i.position}):e.data.log_chunks;n.addChunks(r),n.fetchTimestamp=e.data.timestamp,n.fullAvailable=e.data.is_archived,n.loadedFromBeginning=n.chunks.length>0&&0==_.first(n.chunks).position}catch(e){o(new Error("Failed to configure Build with log chunks!"))}t()},function(e){null!=e&&o(new Error(e.data.error_msg+" - Failed to fetch Build Logs!"))})});case"v1":return t.when()}},p.prototype.fetchFull=function(){var n=this;switch(this.fetchRequest&&this.fetchRequest.resolve("Fetch cancelled by fetch full request"),this.fetchRequest=t.defer(),this.version){case"v2":var i="/api/build/"+this.build.slug+"/logs.json?download=log-url";return t(function(t,r){e.get(i,{timeout:n.fetchRequest.promise}).then(function(o){try{i=o.data.url}catch(e){r("No full log URL available.")}e.get(i,{timeout:n.fetchRequest.promise}).then(function(e){n.fetchRequest=null;try{n.configureWithChunks([{position:0,chunk:e.data}])}catch(e){r("Failed to configure Build with log chunks!")}n.fullAvailable=!0,n.loadedFromBeginning=!0,t()},function(e){null!=e&&r("Failed to fetch full Build log!")})},function(e){null!=e&&r("Failed to fetch full Build log URL!")})});default:return n.fetchLog()}},p}])}(),function(){"use strict";Bitrise.factory("Organization",["$injector","http",function(e,t){var n=function(e){this.slug=e,this.databaseID,this.name,this.accountType="Organization",this.billingEmail,this.unconfirmedBillingEmail,this.avatarURL,this.members,this.outsideContributors,this.owners,this.groups,this.ownerGroup,this.plan,this.pendingPlan,this.currentPlan,this.trialPlan,this.trialExpiresAt,this.maxAllowedContainerCount};return n.prototype.displayName=function(){return this.name},n.prototype.activePlan=function(){return this.currentPlan},n.prototype.selectedPlan=function(){return this.pendingPlan?this.pendingPlan:this.currentPlan},n.prototype.getMetadataWithKey=function(n,i){var r=e.get("routeService");i||(i={}),i.params||(i.params={}),i.params.key=n;var o=r.organizationMetadataPath(this);return t.get(o,i,"Error getting metadata.").then(function(e){return e.value})},n.prototype.setMetadataAtKeyWithValue=function(n,i,r){var o=e.get("routeService"),s=o.organizationMetadataPath(this),a={};return a[n]=i,t.put(s,a,r,"Error getting metadata.").then(function(){})},n}]),Bitrise.filter("organizationAvatarURL",["StyleGenerator",function(e){return function(t){return t||(t="https://bitrise-public-content-production.s3.amazonaws.com/org-icons/avatar-default.png"),e.backgroundImagePropertyValueFromURL(t)}}])}(),angular.module("Bitrise").factory("Pagination",function(){var e=2,t=2,n=2,i=function(){};return i.prototype.configureWithPageDatas=function(i,r){function o(e,t){return{page:e,shouldShowDotsAfterPage:t}}if(this.pageDatas=[],r<=t+n+e)for(var s=1;s<r;s++)this.pageDatas.push(o(s,!1));else{for(var s=1;s<=t;s++)this.pageDatas.push(o(s,s==t));for(var s=r-e;s<r;s++)this.pageDatas.push(o(s,!1))}if(this.pageDatas.push(o(r,!1)),i-r<e+n+t)for(var s=r+1;s<=i;s++)this.pageDatas.push(o(s,!1));else{for(var s=r+1;s<=r+e;s++)this.pageDatas.push(o(s,s==r+e));for(var s=i-t+1;s<=i;s++)this.pageDatas.push(o(s,!1))}},i}),function(){"use strict";Bitrise.factory("Plan",["StyleGenerator","Coupon",function(e){var t=function(e){this.id,this.name,this.cssClass,this.basicPrice,this.period,this.containerCount,this.minContainerCount,this.specs,this.subplans,this.expiresAt,e!==undefined&&this.configureWithId(e)};return t.prototype.configureWithId=function(t){switch(null==t&&(t="concrete-hobby"),this.id=t,this.cssClass=e.cssClassFromPlanId(t),t){case"concrete-indie":this.name="Galileo";break;case"concrete-startup":this.name="Atlantis";break;case"concrete-business":this.name="Hobby";break;case"concrete-hobby":this.name="Opportunity";break;case"concrete-pro-monthly":case"concrete-pro-annually":this.name="Team";break;case"organization-elite-monthly":case"organization-elite-annually":this.name="Elite"}switch(t){case"concrete-hobby":this.period={id:"forever",name:"forever",unit:undefined,monthsInPeriod:1};break;case"concrete-pro-annually":case"organization-elite-annually":this.period={id:"annually",name:"annually",unit:"year",shortUnit:"yr",monthsInPeriod:12};break;case"concrete-pro-monthly":case"organization-elite-monthly":default:this.period={id:"monthly",name:"monthly",unit:"month",shortUnit:"mo",monthsInPeriod:1}}},t.prototype.fullPrice=function(){var e=1;return this.containerCount!==undefined&&null!==this.containerCount&&(e*=this.containerCount),this.basicPrice*e},t.prototype.monthlyBasicPrice=function(){return this.basicPrice/this.period.monthsInPeriod},t.prototype.monthlyFullPrice=function(){return this.fullPrice()/this.period.monthsInPeriod},t.prototype.selectedSubplan=function(){if(!this.subplans)return null;var e=this;return this.subplans[_.findLastIndex(this.subplans,function(t){return e.containerCount>=t.minContainerCount})]},t.prototype.discountedPriceWithCoupon=function(e){var t=this.fullPrice();if(!e)return t;if(null!==e.durationInMonths&&e.durationInMonths<this.period.monthsInPeriod)return t;switch(e.type){case"percent":return t*(1-e.value/100);case"dollars":return t>e.value?t-e.value:0}},t.prototype.isHobby=function(){return"concrete-hobby"==this.id},t.prototype.isContainerBased=function(){switch(this.id){case"concrete-hobby":case"concrete-indie":case"concrete-startup":case"concrete-business":return!1;case"concrete-pro-monthly":case"concrete-pro-annually":case"organization-elite-monthly":case"organization-elite-annually":return!0}return undefined},t.prototype.increasedMaxAllowedContainerCount=function(e){return Math.floor(1.8*e)},t}])}(),angular.module("Bitrise").factory("Popup",function(){var e=function(e,t){var n=this;n.isVisible=!1,n.element=$("#"+e),n.focusedElement=this.element.find(".focused-element")[0],$(document).keyup(function(e){27==e.keyCode&&(n.setIsVisible(!1),t.$digest())}),$(".popup-layer").on("click",function(e){($(e.target).hasClass("popup-layer")||$(e.target).hasClass("popup-element"))&&(e.stopPropagation(),e.preventDefault(),n.setIsVisible(!1),t.$digest())})};return e.prototype.setDismissFunction=function(e){this.dismissFunction=e},e.prototype.setIsVisible=function(e){this.isVisible!=e&&(this.isVisible=e,e?(this.element.removeClass("hide"),$(document.body).addClass("popup-visible"),this.focusedElement&&$(this.focusedElement).focus()):(this.element.addClass("hide"),$(document.body).removeClass("popup-visible"),"function"==typeof this.dismissFunction&&this.dismissFunction()))},e.prototype.setupAlertPopup=function(e,t,n,i){return this.confirmTitle=this.confirmMessage=this.yesTitle=this.noTitle=this.yesBlock=this.noBlock=null,this.alertTitle=e,_.isArray(t)?this.alertMessages=t:_.isString(t)?this.alertMessages=[t]:(console.log("Alert message is not a string nor an array."),this.alertMessages=null),this.okTitle=n,this.okBlock=i,this},e.prototype.yesSelected=function(){this.setIsVisible(!1),this.yesBlock()},e.prototype.noSelected=function(){this.setIsVisible(!1),this.noBlock()},e.prototype.okSelected=function(){this.setIsVisible(!1),this.okBlock()},e}),angular.module("Bitrise").factory("PopupV3",function(){var e=function(e,t){var n=this;n.isVisible=!1,n.element=$("#"+e),n.focusedElement=this.element.find(".focused")[0],n.data={},$(document).keyup(function(e){27==e.keyCode&&(n.setIsVisible(!1),t.$digest())}),$(".v3-popup-layer").on("click",function(e){($(e.target).hasClass("v3-popup-layer")||$(e.target).hasClass("popup-body"))&&(e.stopPropagation(),e.preventDefault(),n.setIsVisible(!1),t.$digest())})};return e.prototype.setAppearFunction=function(e){this.appearFunction=e},e.prototype.setDismissFunction=function(e){this.dismissFunction=e},e.prototype.setIsVisible=function(e){if(this.isVisible!=e)if(this.isVisible=e,e){if("function"==typeof this.appearFunction&&this.appearFunction(),$(document.body).addClass("popup-visible"),this.focusedElement){var t=this;setTimeout(function(){$(t.focusedElement).focus()},0)}}else $(document.body).removeClass("popup-visible"),"function"==typeof this.dismissFunction&&this.dismissFunction()},e.prototype.setupConfirmPopup=function(e,t,n,i,r,o){return this.alertTitle=this.alertMessages=this.okTitle=this.okBlock=null,this.confirmTitle=e,this.confirmMessage=t,this.yesTitle=n,this.noTitle=i,this.yesBlock=r,this.noBlock=o,this},e.prototype.setupAlertPopup=function(e,t,n,i){return this.confirmTitle=this.confirmMessage=this.yesTitle=this.noTitle=this.yesBlock=this.noBlock=null,this.alertTitle=e,_.isArray(t)?this.alertMessages=t:_.isString(t)?this.alertMessages=[t]:(console.log("Alert message is not a string nor an array."),this.alertMessages=null),this.okTitle=n,this.okBlock=i,this},e.prototype.yesSelected=function(){this.setIsVisible(!1),this.yesBlock()},e.prototype.noSelected=function(){this.setIsVisible(!1),this.noBlock()},e.prototype.okSelected=function(){this.setIsVisible(!1),this.okBlock()},e}),angular.module("Bitrise").factory("Repository",["$q","http","$http",function(e,t){var n=function(e){this.title="",this.repository_url="",this.project_scheme_name="",angular.extend(this,e)};return n.prototype.fetch=function(n){var i=this,r="/app/"+i.slug+".json";return e(function(e,o){t.get(r,n,"Failed to load the Repository data!").then(function(t){e(angular.extend(i,t))},function(e){o(e)})})},n.prototype.changeAndSaveProperty=function(n,i){var r=this,o="/api/app/"+r.slug+".json",s={};return s[n]=i,e(function(e,n){t.put(o,s,"Error saving property").then(function(){e()},function(e){n(e)})})},n}]),function(){"use strict";Bitrise.factory("SSH",["http","$q",function(e,t){var n=function(){};return n.generateSSHKeypair=function(n){var i=t.defer();return e.get("/utilities/ssh_keygen.json",n,"Error generating SSH keypair.").then(function(e){e&&e.private_key&&e.ssh_public_key?"string"==typeof e.private_key&&"string"==typeof e.ssh_public_key?i.resolve({privateKey:e.private_key,publicKey:e.ssh_public_key}):i.reject(new TypeError("Invalid key format")):i.reject(new TypeError("Invalid response format"))},function(e){i.reject(e)},function(e){i.notify(e)}),i.promise},n}])}(),function(){"use strict";Bitrise.factory("Stack",function(){var e=function(e){this.id=e,this.title,this.description,this.descriptionURL,this.preInstalledToolURL,this.projectTypes,this.queueInfos={preBooted:undefined,onDemand:undefined},this.dockerImageName};return e.prototype.type=function(){switch(this.id){case"osx-xcode-9.0.x":return"xcode-9";case"osx-xcode-8.3.x":case"osx-xcode-8.2.x":case"osx-xcode-8.1.x":case"osx-xcode-8.0.x":return"xcode-8";case"osx-xcode-7.3":return"xcode-7";case"osx-xcode-6.4":return"xcode-6";default:return this.id}},e})}(),angular.module("Bitrise").factory("Step",["VariableV3",function(e){var t=function(){this.steplibSource=undefined,this.id=undefined,this.versionForCvs=undefined,this.actualVersion=undefined,this.isUpdateAvailable=undefined,this.title=undefined,this.summary=undefined,this.description=undefined,this.sourceCodeURL=undefined,this.assetURLs=undefined,this.projectTypeTags=undefined,this.typeTags=undefined,this.isAlwaysRun=undefined,this.inputs=undefined,this.outputs=undefined,this.dataHashes=[],this.shouldForceSavingTitle=!1,this.savedState=undefined,this.deprecatedAt=null,this.deprecationNotes=null};return t.prototype.configureWithVersion=function(e,t){this.versionForCvs=e,this.actualVersion=null===e?t:e,this.isUpdateAvailable=null!==e&&e!=t},t.prototype.configureWithDeprecation=function(e,t){this.deprecatedAt=e,this.deprecationNotes=t},t.prototype.configureWithDataHash=function(t,n){t||(t={}),this.title=t.title,this.summary=t.summary,this.description=t.description,this.sourceCodeURL=t.source_code_url,this.assetURLs=angular.copy(t.asset_urls),this.projectTypeTags=angular.copy(t.project_type_tags),this.typeTags=angular.copy(t.type_tags),this.isAlwaysRun=t.is_always_run,this.inputs=t.inputs?_.map(t.inputs,function(t){var n=new e;return n.configureWithHash(t,!0),n}):undefined,this.outputs=t.outputs?_.map(t.outputs,function(t){var n=new e;return n.configureWithHash(t,!0),n}):undefined,this.dataHashes=[t],n&&this.saved()},t.prototype.appendDataHash=function(t,n){if(!_.isEmpty(t)){t.title!==undefined&&(this.title=t.title),t.summary!==undefined&&(this.summary=t.summary),t.description!==undefined&&(this.description=t.description),t.source_code_url!==undefined&&(this.sourceCodeURL=t.source_code_url),t.asset_urls!==undefined&&(this.assetURLs=angular.copy(t.asset_urls)),t.project_type_tags!==undefined&&(this.projectTypeTags=angular.copy(t.project_type_tags)),t.type_tags!==undefined&&(this.typeTags=angular.copy(t.type_tags)),t.is_always_run!==undefined&&(this.isAlwaysRun=t.is_always_run);var i=this,r=[];_.each(t.inputs,function(t){var o=e.keyOfHash(t),s=_.find(i.inputs,function(e){return e.key==o});if(s)s.appendHash(t,n);else{var a=new e;a.configureWithHash(t,n),r.push(a)}}),_.isEmpty(r)||(_.isEmpty(this.inputs)&&(this.inputs=[]),this.inputs=this.inputs.concat(r));var o=[];_.each(t.outputs,function(t){var r=e.keyOfHash(t),s=_.find(i.outputs,function(e){return e.key==r});if(s)s.appendHash(t,n);else{var a=new e;a.configureWithHash(t,n),o.push(a)}}),_.isEmpty(o)||(_.isEmpty(this.outputs)&&(this.outputs=[]),this.outputs=this.outputs.concat(o)),this.dataHashes.push(t)}n&&this.saved()},t.prototype.resetToSaved=function(){this.steplibSource=this.savedState.steplibSource,this.id=this.savedState.id,this.versionForCvs=this.savedState.versionForCvs,this.actualVersion=this.savedState.actualVersion,this.title=this.savedState.title,this.summary=this.savedState.summary,this.description=this.savedState.description,this.sourceCodeURL=this.savedState.sourceCodeURL,this.assetURLs=angular.copy(this.savedState.assetURLs),this.projectTypeTags=angular.copy(this.savedState.projectTypeTags),this.typeTags=angular.copy(this.savedState.typeTags),this.isAlwaysRun=angular.copy(this.savedState.isAlwaysRun),this.inputs=angular.copy(this.savedState.inputs),this.outputs=angular.copy(this.savedState.outputs),this.dataHashes=angular.copy(this.savedState.dataHashes),this.shouldForceSavingTitle=!1},t.prototype.saved=function(){this.savedState=angular.copy(this)},t.prototype.strippedDataHash=function(e){var t={};e||(e={}),_.each(this.dataHashes,function(n){_.each(n,function(n,i){"inputs"!=i&&"outputs"!=i&&(_.isEqual(n,e[i])||(t[i]=angular.copy(n)))})}),this.title===undefined||this.title==e.title&&!this.shouldForceSavingTitle||(t.title=this.title),this.summary!==undefined&&this.summary!=e.summary&&(t.summary=this.summary),this.description!==undefined&&this.description!=e.description&&(t.description=this.description),this.sourceCodeURL!==undefined&&this.sourceCodeURL!=e.source_code_url&&(t.source_code_url=this.sourceCodeURL),this.assetURLs===undefined||_.isEqual(this.assetURLs,e.asset_urls)||(t.asset_urls=angular.copy(this.assetURLs)),this.projectTypeTags===undefined||_.isEqual(this.projectTypeTags,e.project_type_tags)||(t.project_type_tags=angular.copy(this.projectTypeTags)),this.typeTags===undefined||_.isEqual(this.typeTags,e.type_tags)||(t.type_tags=angular.copy(this.typeTags)),this.isAlwaysRun===undefined||_.isEqual(this.isAlwaysRun,e.is_always_run)||(t.is_always_run=this.isAlwaysRun);var n=[];_.each(this.inputs,function(t){var i=_.find(e.inputs,function(e){return e[t.key]!==undefined});if(i&&!t.isMatchingDefault(i)||t.shouldForceSavingValue){var r=t.strippedHash(i);n.push(r)}}),_.isEmpty(n)||(t.inputs=n);var i=[];return _.each(this.outputs,function(t){var n=_.find(e.outputs,function(e){return e[t.key]!==undefined});if(n&&!t.isMatchingDefault(n)||t.shouldForceSavingValue){var r=t.strippedDataHash(n);i.push(r)}}),_.isEmpty(i)||(t.outputs=i),t},t.strippedHash=function(e){var t={};return t[this.cvs()]=this.strippedDataHash(e),t},t.prototype.cvs=function(){if(this.id){var e="";return this.steplibSource&&(e+=this.steplibSource+"::"),e+=this.id,this.versionForCvs&&(e+="@"+this.versionForCvs),e}},t.prototype.iconURL=function(){if(this.assetURLs)return this.assetURLs["icon.svg"]?this.assetURLs["icon.svg"]:this.assetURLs["icon.png"]?this.assetURLs["icon.png"]:void 0},t.prototype.isDeprecated=function(){return this.deprecatedAt===undefined?undefined:null!=this.deprecatedAt},t}]),angular.module("Bitrise").factory("StepLibraryItem",function(){var e=function(e){angular.extend(this,e)};return e.getMainKeyOfStep=function(e){if(!e)return null;var t=angular.copy(e);delete t.$$hashKey;var n=0;return _.every(t,function(e){return n++,!e||e.constructor==Object})?1!=n?null:_.keys(t)[0]:null},e.createStepIDDataFromString=function(e,t){if(!e)return null;var n=e.split("::");if(n.length>2)return null;var i=1==n.length?t:n[0];if(""==i&&(i=t),i===undefined||null==i||""==i)return null;var r=n[n.length-1].split("@"),o=1==r.length?r[0]:r.slice(0,r.length-1).join("@");if(""==o)return null;var s=null;return r.length>1&&""==(s=r[r.length-1])&&(s=null),{IDorURI:o,Version:s,SteplibSource:i}},e.isStepFromBitriseSource=function(t){return e.isValidStepData(t)&&"https://github.com/bitrise-io/bitrise-steplib.git"==t.SteplibSource},e.isSteplibIndependent=function(t){return e.isValidStepData(t)&&"_"==t.SteplibSource},e.isValidStepData=function(e){return e!==undefined&&null!=e&&(e.IDorURI!==undefined&&null!=e.IDorURI&&(e.Version!==undefined&&(e.SteplibSource!==undefined&&null!=e.SteplibSource)))},e}),angular.module("Bitrise").factory("StyleGenerator",function(){var e=["#68442c","#86d641","#a775db","#df5ac3","#46bee8","#63c99a","#19937c","#ed544c","#ff931e","#107ec1","#48e1ed","#743da5","#f9d128","#ff931e","#9e4b39","#b51c98","#b20202","#bf8a66","#2c3f50","#441f62","#0c5b4c","#391401","#27ae61","#ef7bef"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=function(){};return n.capitalizedFirstLetter=function(e){return null===e||e===undefined?"":0==e.length?e:e[0].toUpperCase()+e.slice(1)},n.separatedStringFromStrings=function(e,t){if(null===e||e===undefined)return"";var n="";return 0==_.size(e)?"":(null===t&&(t=""),t===undefined&&(t=" "),_.each(e,function(e,i){null!==e&&e!==undefined||(e=""),e=e.toString(),i>0&&e.length>0&&(n+=t,","!=t&&";"!=t||(n+=" ")),n+=e}),n)},n.messageFromErrors=function(e){var t=_.map(e,function(e){return e.message}),i=n.separatedStringFromStrings(t,",");return i=n.capitalizedFirstLetter(i),i+="."},n.cropStringEllipsedToLength=function(e,t){if(null===e||e===undefined)return"";var n=_.size(e)>t;for(e=e.slice(0,t);" "==e.slice(-1);)e=e.substr(0,e.length-1);return n&&(e+="..."),e},n.randomColor=function(t){function n(){return e[Math.floor(Math.random()*r.length)]}var i=e.length;if(_.each(t,function(t){-1!=e.indexOf(t)&&i--}),0==i)return null;for(var r=n();-1!=t.indexOf(r);)r=n();return r},n.plainStringFromHTMLString=function(e){var t=document.createElement("div");return t.innerHTML=e,_.each($(t).find("*"),function(e){_.each(e.attributes,function(t){$(e).attr(t.nodeName,"")})}),t.textContent=t.textContent.replace(/[\n|\t|\r]/g," "),t.textContent},n.backgroundImagePropertyValueFromURL=function(e){return e&&"string"==typeof e&&0!=e.length?"url('"+e+"')":""},n.shorthandFromString=function(e){return null===e||e===undefined?"":(e=e.toString(),0==e.length?"":(e=e.toUpperCase(),e[0]+e.slice(-1)))},n.colorFromString=function(t){if(!t||"string"!=typeof t||0==t.length)return null;for(var n=0,i=0;i<t.length;i++)n+=t.charCodeAt(i);return e[n%e.length]},n.colorizedLog=function(e){return e=e.replace(new RegExp("<","g"),"&lt;"),e=e.replace(new RegExp(">","g"),"&gt;"),e=e.replace(/\u001b\[0m/g,"</span>"),
e=e.replace(/\u001b\[31m/g,"<span class='log-color-normal-1'>"),e=e.replace(/\u001b\[32m/g,"<span class='log-color-normal-2'>"),e=e.replace(/\u001b\[33m/g,"<span class='log-color-normal-3'>"),e=e.replace(/\u001b\[34m/g,"<span class='log-color-normal-4'>"),e=e.replace(/\u001b\[35m/g,"<span class='log-color-normal-5'>"),e=e.replace(/\u001b\[36m/g,"<span class='log-color-normal-6'>"),e=e.replace(/\u001b\[37m/g,"<span class='log-color-normal-7'>"),e=e.replace(/\u001b\[30;1m/g,"<span class='log-color-bright-0'>"),e=e.replace(/\u001b\[31;1m/g,"<span class='log-color-bright-1'>"),e=e.replace(/\u001b\[32;1m/g,"<span class='log-color-bright-2'>"),e=e.replace(/\u001b\[33;1m/g,"<span class='log-color-bright-3'>"),e=e.replace(/\u001b\[34;1m/g,"<span class='log-color-bright-4'>"),e=e.replace(/\u001b\[35;1m/g,"<span class='log-color-bright-5'>"),e=e.replace(/\u001b\[36;1m/g,"<span class='log-color-bright-6'>"),e=e.replace(/\u001b\[37;1m/g,"<span class='log-color-bright-7'>"),e=e.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"")},n.weekdays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],n.timeAgoInWordsFromDate=function(e,t){if("string"==typeof e&&(e=new Date(e)),!e||!(e instanceof Date)||isNaN(e.getTime()))return null;if("string"==typeof t&&(t=new Date(t)),t){if(!(t instanceof Date)||isNaN(t.getTime()))return null}else t=new Date;if(e-t>0)return"soon";var n=t.getFullYear()-e.getFullYear(),i=t.getMonth()-e.getMonth(),r=t.getDate()-e.getDate(),o=t.getHours()-e.getHours(),s=t.getMinutes()-e.getMinutes();if(n>1)return n+" years ago";if(1==n){if(i>=0)return"1 year ago";i=12+i}if(i>1)return i+" months ago";if(1==i){if(r>=0)return"1 month ago";r=new Date(t.getFullYear(),t.getMonth(),0).getDate()+r}if(r>1)return r+" days ago";if(1==r){if(o>=0)return"1 day ago";o=24+o}if(o>1)return o+" hours ago";if(1==o){if(s>=0)return"1 hour ago";s=60+s}return s>1?s+" mins ago":"just now"},n.timeInWordsFromDate=function(e){if("string"==typeof e&&(e=new Date(e)),!e||!(e instanceof Date)||isNaN(e.getTime()))return null;var n=new Date;if(e.getFullYear()==n.getFullYear()&&e.getMonth()==n.getMonth()&&e.getDate()==n.getDate())return"Today";var i=new Date;return i.setDate(n.getDate()-1),e.getFullYear()==i.getFullYear()&&e.getMonth()==i.getMonth()&&e.getDate()==i.getDate()?"Yesterday":e.getFullYear()==n.getFullYear()?t[e.getMonth()]+" "+e.getDate():t[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},n.durationInWordsFromDuration=function(e){if(null===e||e===undefined||isNaN(e))return"N/A";var t=Math.floor(e/60),n=e-60*t,i="";return t&&(i+=t+"m "),i+=n+"s"},n.binarySizeFromNumberOfBytes=function(e){return null===e||e===undefined||isNaN(e)?"N/A":e>=1073741824?(e/1024/1024/1024).toFixed(2)+" GB":e>=1048576?(e/1024/1024).toFixed(2)+" MB":e>=1024?(e/1024).toFixed(2)+" KB":e+" B"},n.shortenText=function(e){return"Waiting for worker"==e?"Running":"Preparing Build Environment"==e?"Preparing":e},n.formattedPrice=function(e,t,n){if(n===undefined&&(n=!0),e||(e="0"),"0"==e&&n)return"free";var i=e<0,r=Math.abs(e);switch(t){case undefined:case"USD":var o=Math.floor(r),s=(i?"-":"")+"<span class='currency usd'></span>"+o,a=Math.round(100*(r-o));return a>0&&(s+="<span class='minor-price usd'>"+a+"</span>"),s;default:return e}},n.formattedDiscountForCoupon=function(e){if(e&&e.type&&e.value)switch(e.type){case"percent":return e.value+"%";case"dollars":return n.formattedPrice(e.value,"USD")}},n.nameForProvider=function(e,t){return"github"==e?"GitHub":"bitbucket"==e?"Bitbucket":"gitlab"==e?"GitLab":t},n.cssClassForProvider=function(e){switch(e){case"github":return"github";case"bitbucket":return"bitbucket";case"gitlab":return"gitlab";default:return"other"}},n.stackCssClassFromId=function(e){switch(e){case"osx-xcode-9.0.x":case"osx-xcode-8.3.x":case"osx-xcode-8.2.x":case"osx-xcode-8.1.x":case"osx-xcode-8.0.x":case"osx-xcode-7.3":case"osx-xcode-6.4":case"osx-xcode-edge":case"tmp-osx-xcode-7.3.0":case"internal-test-osx-ondemand":return"ios";case"osx-xamarin-stable":case"osx-xamarin-stable-LTS":case"osx-xamarin-alpha":case"osx-xamarin-beta":return"xamarin";case"linux-docker-android":case"linux-docker-android-lts":case"internal-test-android-ondemand":return"android";default:return null}},n.cssClassFromPlanId=function(e){switch(e){case"concrete-hobby":return"hobby";case"concrete-indie":return"indie";case"concrete-startup":return"startup";case"concrete-business":return"business";case"concrete-pro-monthly":case"concrete-pro-annually":return"pro";case"organization-elite-monthly":case"organization-elite-annually":return"elite"}},n.errorMessageForFormModel=function(e,t,i){if(e.$valid)return null;var r="";return _.each(e.$error,function(e,n){_.each(e,function(e){var i;try{i=t[e.$name][n]}catch(e){}i&&(r.length>0&&(r+=", "),r+=i)})}),r=n.capitalizedFirstLetter(r),r.length>0?r:i},n.codeSignScriptCommandFormatter=function(e){var t=new RegExp(/^.*--scheme='(.+)'"$/);if(t.test(e)){var n=t.exec(e)[1].replace(/'/g,"'\\''");return e.replace(t.exec(e)[1],n)}return e},n.pluralizeWordWithCount=function(e,t){if(-1==t||0==t||1==t)return e;switch(e){case"app":return"apps";case"build":return"builds";case"container":return"containers";case"concurrency":return"concurrencies";case"member":return"members";case"team member":return"team members";case"user":return"users";case"day":return"days";case"referral":return"referrals";default:return e}},n.nameForMachineType=function(e){switch(e){case"elite1":return"Elite";default:return"Standard"}},n.linkifyString=function(e){function t(i){if(-1!=i.search(n)){var r=n.exec(i)[0];e=i.replace(r,"["+r+"]("+r+")"),t(e)}}var n=new RegExp(/^(?!\[.+\]\()\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/gim);return e&&t(e),e},n}),function(){"use strict";angular.module("Bitrise").factory("TestDevice",["$http",function(e){var t=function(e){this.device_identifier=e.device_identifier,this.id=e.id,this.owner=e.owner,this.title=e.title};return t.fetchAllTestDevicesOfRepository=function(n){var i="/api/app/"+n+"/team_test_devices.json";return e.get(i).then(function(e){var n=[];return _.each(e.data,function(e){n.push(new t(e))}),n})},t}])}(),function(){"use strict";Bitrise.factory("Trigger",function(){var e=function(){this.pattern};return e.normalizedPattern=function(e){return e||"*"},e.prototype.normalizedPattern=function(){return e.normalizedPattern(this.pattern)},e})}(),angular.module("Bitrise").factory("UIHelper",function(){function e(e,t,n){t||(t=0);var i=e-t;null!==n?$("body, html").animate({scrollTop:i},n):$("body, html").scrollTop(i)}function t(e,t){t===undefined&&(t=n),setTimeout(function(){e()},t)}var n=100,i=function(){};return i.scrollToTopOfElement=function(e,n,r,o){var s=function(){i.scrollToTopOfElementRelativeToElement(e,null,n,!1)};r===undefined&&(r=!0),r?t(s,o):s()},i.scrollToTopOfElementRelativeToElement=function(n,i,r,o,s){var a=function(){try{var t=$(n).offset().top,o=null!==i?$(i).offset().top:0;if(isNaN(t)||isNaN(o))throw new TypeError("Invalid element")}catch(e){return}e(t,o,r)};o===undefined&&(o=!0),o?t(a,s):a()},i}),function(){"use strict";Bitrise.factory("User",["$q","$injector","http",function(e,t,n){var i=function(e){this.username=e,this.slug=undefined,this.databaseID=undefined,this.accountType="User",this.email=undefined,this.firstName,this.lastName,this.companyName,this.companyType,this.mobileTeamSize,this.invitedAt=undefined,this.hasPendingInvitation=undefined,this.unconfirmedEmail=undefined,this.avatarURL=undefined,this.pendingPlan=undefined,this.currentPlan=undefined,this.trialPlan=undefined,this.signInCount=undefined,this.maxAllowedContainerCount,this.organizations=undefined,this.groups=undefined,this.testDevices=undefined};return i.prototype.login=function(){return this.hasPendingInvitation||!this.username?this.email:this.username},i.prototype.activePlan=function(){return this.currentPlan},i.prototype.selectedPlan=function(){return this.pendingPlan?this.pendingPlan:this.currentPlan},i.prototype.displayName=function(){return this.hasPendingInvitation||!this.username?this.email:this.username},i.prototype.usernameValidationErrorMessage=function(){if(null===this.username||this.username===undefined||0==this.username.length)return"username not specified";var e=new RegExp(".*([^a-zA-Z0-9-_.]).*");return e.test(this.username)&&e.exec(this.username)[1]?"username can't contain the character '"+e.exec(this.username)[1]+"'":null},i.prototype.getMetadataWithKey=function(e,i){var r=t.get("routeService");i||(i={}),i.params||(i.params={}),i.params.key=e;var o=r.userMetadataPath(this);return n.get(o,i,"Error getting metadata.").then(function(e){return e.value})},i.prototype.setMetadataAtKeyWithValue=function(e,i,r){var o=t.get("routeService"),s=o.userMetadataPath(this),a={};return a[e]=i,n.put(s,a,r,"Error getting metadata.").then(function(){})},i.companyTypes=function(){return["Single developer/freelancer","Mobile dev agency building apps for clients","Bootstrapping startup with mobile app at its core","Established or VC backed company with mobile app","Enterprise company","Other"]},i.mobileTeamSizes=function(){return[{title:"1 employees",value:"1"},{title:"2-5 employees",value:"2-5"},{title:"6-10 employees",value:"6-10"},{title:"11-20 employees",value:"11-20"},{title:"21+ employees",value:"21+"}]},i.acquisitionChannels=function(){return["Friend/colleague","Meetup/conference","Through search engine","Advert","Stackoverflow/Quora/Other forum","Social media","Bitrise blog/documentation","Other blog/tutorial","Received a promo email","My company is using Bitrise","Transferring account"]},i}]),Bitrise.filter("userAvatarURL",["StyleGenerator",function(e){return function(t){return t||(t="https://bitrise-public-content-production.s3.amazonaws.com/user-icons/avatar-default.png"),e.backgroundImagePropertyValueFromURL(t)}}])}(),function(){"use strict";Bitrise.service("UserJourneyTracker",["http","$q",function(e,t){function n(n){var r={track_point_id:n.name};return t(function(t,o){e.get("/me/profile/user_journey.json",{params:r},"Error getting requested user journey param!").then(function(e){(_.isNull(e.track_point_id)||0==e.track_point_id)&&(analytics.identify(),analytics.track(n.title),i(n)),t()},function(e){o(e)})})}function i(n){var i={track_point_id:n.name};return t(function(t,n){e.post("/me/profile/user_journey.json",i,undefined,"Error saving user journey metadata!").then(function(){t()},function(e){n(e)})})}var r={};return r.trackFirstNonDemoRepositoryAdded=function(){n({name:"first_non_demo_repository_added_tracked",title:"First Non-Demo Repository Added"})},r.trackFirstSuccessfulNonDemoBuildFinished=function(){n({name:"first_successful_non_demo_build_finished_tracked",title:"First Successful Build Finished (non-demo)"})},r.trackSixthSuccessfulNonDemoBuildFinished=function(){n({name:"sixth_successful_non_demo_build_finished_tracked",title:"Sixth Successful Build Finished (non-demo)"})},r.trackFirstInvoiceCreated=function(){n({name:"first_invoice_created_tracked",title:"First Invoice Created"})},r}])}(),angular.module("Bitrise").factory("Variable",function(){var e=function(e){angular.extend(this,e)};return e.isValidSteplibVariable=function(e){var t=angular.copy(e);if(delete t.$$hashKey,Object.keys(t).length>2)return!1;var n=!1;return _.every(_.keys(t),function(e){return"string"==typeof e&&("opts"==e?null===t[e]||t[e]===undefined||t[e].constructor==Object:(!t[e]||"string"==typeof t[e]||"boolean"==typeof t[e]||!isNaN(t[e]))&&(n=!0,!0))})&&n},e.getVariableMainKey=function(t){var n=null;if(!e.isValidSteplibVariable(t))return null;var i=angular.copy(t);return delete i.$$hashKey,_.each(_.keys(i),function(e){"opts"!=e&&(n=e)}),n},e.getVariableMainValue=function(t){var n=null;if(!e.isValidSteplibVariable(t))return null;var i=angular.copy(t);return delete i.$$hashKey,_.each(_.keys(i),function(e){"opts"!=e&&(n=i[e])}),n},e.getVariableWithMainKeyFromVariables=function(t,n){var i=[];if(!_.every(n,function(t){var n=e.getVariableMainKey(t);return-1==i.indexOf(n)&&(i.push(n),!0)}))return null;var r=null;return _.every(n,function(n){return e.getVariableMainKey(n)!=t||(r=n,!1)}),r},e}),Bitrise.factory("VariableV3",["StyleGenerator",function(e){var t=function(){this.key=undefined,this.value=undefined,this.title=undefined,this.description=undefined,this.summary=undefined,this.isRequired=undefined,this.isDontChangeValue=undefined,this.valueOptions=undefined,this.hashes=[],this.shouldForceSavingValue=!1,this.savedState=undefined};return t.prototype.configureWithHash=function(e,n){e||(e={}),e.opts||(e.opts={});var i=t.keyOfHash(e);this.key=i,this.value=e[i],this.title=e.opts.title,this.description=e.opts.description,this.summary=e.opts.summary,this.isRequired=e.opts.is_required,this.isDontChangeValue=e.opts.is_dont_change_value,this.valueOptions=angular.copy(e.opts.value_options),this.hashes=[e],n&&this.saved()},t.prototype.appendHash=function(e,t){_.isEmpty(e)||(e[this.key]&&(this.value=e[this.key]),e.opts&&(e.opts.title!==undefined&&(this.title=e.opts.title),e.opts.description!==undefined&&(this.description=e.opts.description),e.opts.summary!==undefined&&(this.summary=e.opts.summary),e.opts.is_required!==undefined&&(this.isRequired=e.opts.is_required),e.opts.is_dont_change_value!==undefined&&(this.isDontChangeValue=e.opts.is_dont_change_value),e.opts.value_options!==undefined&&(this.valueOptions=angular.copy(e.opts.value_options))),this.hashes.push(e)),t&&this.saved()},t.keyOfHash=function(e){return _.find(_.keys(e),function(e){return"opts"!=e})},t.prototype.resetToSaved=function(){this.key=this.savedState.key,this.value=this.savedState.value,this.title=this.savedState.title,this.description=this.savedState.description,this.summary=this.savedState.summary,this.isRequired=this.savedState.isRequired,this.isDontChangeValue=this.savedState.isDontChangeValue,this.valueOptions=angular.copy(this.savedState.valueOptions),this.hashes=angular.copy(this.savedState.hashes),this.shouldForceSavingValue=!1},t.prototype.saved=function(){this.savedState=angular.copy(this)},t.prototype.strippedHash=function(e){e||(e={}),e.opts||(e.opts={});var t={};t[this.key]=""==this.value||e[this.key]&&this.value==e[this.key]&&!this.shouldForceSavingValue?"":this.value;var n={};return _.each(this.hashes,function(t){_.each(t.opts,function(t,i){e.opts[i]===undefined||_.isEqual(t,e.opts[i])||(n[i]=angular.copy(t))})}),this.title!==undefined&&this.title!=e.opts.title&&(n.title=this.title),this.description!==undefined&&this.description!=e.opts.description&&(n.description=this.description),this.summary!==undefined&&this.summary!=e.opts.summary&&(n.summary=this.summary),this.isRequired!==undefined&&this.isRequired!==e.opts.is_required&&(n.is_required=this.isRequired),this.isDontChangeValue!==undefined&&this.isDontChangeValue!==e.opts.is_dont_change_value&&(n.is_dont_change_value=this.isDontChangeValue),this.valueOptions===undefined||_.isEqual(this.valueOptions,e.opts.value_options)||(n.value_options=angular.copy(this.valueOptions)),_.isEmpty(n)||(t.opts=n),t},t.prototype.isMatchingDefault=function(e){e||(e={});var t=this.strippedHash(e);return!!_.isEmpty(t.opts)&&(""==t[this.key]||t[this.key]==e[this.key])},t.prototype.shortestDescription=function(){return this.summary&&this.summary.length>0?this.summary:this.description&&this.description.length>0?e.cropStringEllipsedToLength(this.description,60):void 0},t}]),angular.module("Bitrise").factory("Workflow",["BitriseSteplibV3","Step","VariableV3",function(e,t,n){var i=function(){this.id=undefined,this.beforeRunWorkflows=undefined,this.afterRunWorkflows=undefined,this.environmentVariables=undefined,this.summary=undefined,this.steps=undefined,this.savedState=undefined};return i.prototype.configureWithDataHash=function(t,i,r){this.beforeRunWorkflows=_.filter(i,function(e){return _.contains(t.before_run,e.id)}),this.afterRunWorkflows=_.filter(i,function(e){return _.contains(t.after_run,e.id)}),this.environmentVariables=_.map(t.envs,function(e){var t=new n;return t.configureWithHash(e),t}),this.summary=t.summary,this.steps=_.map(t.steps,function(t){var n=_.keys(t)[0],i=e.stepWithCvs(n);return i.appendDataHash(t[n]),i}),r&&this.saved()},i.prototype.strippedDataHash=function(){var t={};return this.beforeRunWorkflows!==undefined&&(t.before_run=_.map(this.beforeRunWorkflows,function(e){return e.id})),this.afterRunWorkflows!==undefined&&(t.after_run=_.map(this.afterRunWorkflows,function(e){return e.id})),this.environmentVariables!==undefined&&(t.envs=_.map(this.environmentVariables,function(e){return e.strippedHash()})),this.summary!==undefined&&(t.summary=this.summary),this.steps!==undefined&&(t.steps=_.map(this.steps,function(t){return t.strippedHash(e.defaultDataHashForStep(t))})),t},i.prototype.strippedHash=function(){var e={};return e[this.id]=this.strippedDataHash(),e},i.prototype.resetToSaved=function(){this.id=this.savedState.id,this.beforeRunWorkflows=_.map(this.savedState.beforeRunWorkflows,function(e){return e}),this.afterRunWorkflows=_.map(this.savedState.afterRunWorkflows,function(e){return e}),this.summary=this.savedState.summary,this.steps=angular.copy(this.savedState.steps)},i.prototype.saved=function(){this.savedState=angular.copy(this)},i}]),function(){"use strict";Bitrise.service("accountService",function(){return{account:undefined}})}(),function(){"use strict";Bitrise.service("cookieService",["$cookies",function(e){function t(t,n){return e[t].apply(e,n)}function n(e,t){var n,i=[].slice.call(t,0);switch(e){case"get":case"getObject":case"getAll":case"remove":n=i[1];break;case"put":case"putObject":n=i[2]}return n&&!n||(n={},i.push(n)),n.path===undefined&&(n.path="/"),i}function i(e,n){var i=new Date;return i.setDate(i.getDate()+1e5),n[2].expires=i,t(e,n)}var r={};return r.get=function(){return t("get",n("get",arguments))},r.getObject=function(){return t("getObject",n("getObject",arguments))},r.getAll=function(){return t("getAll",n("getAll",arguments))},r.put=function(){return t("put",n("put",arguments))},r.putObject=function(){return t("putObject",n("putObject",arguments))},r.remove=function(){return t("remove",n("remove",arguments))},r.putPermanent=function(){return i("put",n("put",arguments))},r.putObjectPermanent=function(){return i("putObject",n("putObject",arguments))},r}])}(),function(){"use strict";Bitrise.service("deviseService",["$q","http","cookieService","StyleGenerator",function(e,t,n,i){var r={};return r.signUpUserWithData=function(r,o){var s=r.invitationToken?"/users/invitation.json":"/users.json",a={user:{username:r.username,email:r.email,password:r.password,first_name:r.firstName,last_name:r.lastName,company_name:r.companyName,company_type:r.companyType,mobile_team_size:r.mobileTeamSize,acquisition_channel:r.acquisitionChannel}};r.provider&&(a.oauth_provider=r.provider,a.oauth_uid=r.uid,a.oauth_token=r.token,a.oauth_secret=r.secret,a.oauth_refresh_token=r.refreshToken,a.oauth_expires_at=r.expiresAt),r.invitationToken&&(a.user.invitation_token=r.invitationToken);var l=n.get("refererUserSlug");l&&(a.user.referer_user_slug=l);var c=e.defer();return(r.invitationToken?t.rawPUT:t.rawPOST)(s,a,o).then(function(){n.remove("refererUserSlug"),analytics.identify(),analytics.track("Account Created"),c.resolve()},function(e){e||c.notify("User Sign up - Request aborted");var t="Sign up error.";e.data&&e.data.errors&&(t="",_.each(e.data.errors,function(e,n){var r;switch(n){case"username":r="username";break;case"email":r="email";break;case"password":r="password"}_.size(t)>0&&(t+=", "),t+=r+" "+i.separatedStringFromStrings(e,", ")}),t=i.capitalizedFirstLetter(t)),c.reject(new Error(t))}),c.promise},r.resendConfirmationEmail=function(n,r){var o={user:{login:n}},s=e.defer();return t.rawPOST("/users/confirmation.json",o,r).then(function(){s.resolve()},function(e){e||s.notify("Resend confirmation email - Request aborted");var t="Error resending confirmation email.";e.data&&e.data.errors&&(t="",_.each(e.data.errors,function(e,n){var r;switch(n){case"login":r="login"}_.size(t)>0&&(t+=", "),t+=r+" "+i.separatedStringFromStrings(e,", ")}),t=i.capitalizedFirstLetter(t)),s.reject(new Error(t))}),s.promise},r.updateUserWithData=function(n,r,o){var s={user:{username:r.username,email:r.email,password:r.password,password_confirmation:r.confirmPassword,current_password:r.currentPassword,first_name:r.firstName,last_name:r.lastName,company_name:r.companyName,company_type:r.companyType,mobile_team_size:r.mobileTeamSize}},a=e.defer();return t.rawPUT("/users.json",s,o).then(function(){a.resolve()},function(e){e||a.notify("User update - Request aborted");var t="Error updating user.";e.data&&e.data.errors&&(t="",_.each(e.data.errors,function(e,n){var r;switch(n){case"username":r="username";break;case"email":r="email";break;case"password":r="password";break;case"password_confirmation":r="confirmation";break;case"current_password":r="current password";break;case"basic_info":r="basic info"}_.size(t)>0&&(t+=", "),t+=r+" "+i.separatedStringFromStrings(e,", ")}),t=i.capitalizedFirstLetter(t)),a.reject(new Error(t))}),a.promise},r.signInUserWithData=function(i,r,o,s){var a={user:{login:i,password:r,remember_me:o}},l=e.defer();return t.rawPOST("/users/sign_in.json",a,s).then(function(e){n.remove("refererUserSlug");var t=!1;e.data&&e.data.two_factor_auth_challenge&&(t=e.data.two_factor_auth_challenge),l.resolve({isTwoFactorAuthChallenge:t})},function(e){if(!e)return void l.notify("User Sign in - Request aborted");var t="Sign in error.";e.data&&e.data.error&&(t=e.data.error),l.reject(new Error(t))}),l.promise},r.signInUserWithOTP=function(n,i,r){var o={user:{otp_attempt:n,remember_me:i}},s=e.defer();return t.rawPOST("/users/sign_in.json",o,r).then(function(e){if(e.data&&!0===e.data.two_factor_auth_challenge)return void s.reject(new Error("Invalid two-factor code."));s.resolve()},function(e){e||s.notify("User Sign in - Request aborted");var t="Sign in error.";e.data&&e.data.error&&(t=e.data.error),s.reject(new Error(t))}),s.promise},r.resetPasswordOfUserWithLogin=function(n,r){var o={user:{login:n}},s=e.defer();return t.rawPOST("/users/password.json",o,r).then(function(){s.resolve()},function(e){e||s.notify("Reset password - Request aborted");var t="Password reset error.";e.data&&e.data.errors&&(t="",_.each(e.data.errors,function(e,n){var r;switch(n){case"login":r="login"}_.size(t)>0&&(t+=", "),t+=r+" "+i.separatedStringFromStrings(e,", ")}),t=i.capitalizedFirstLetter(t)),s.reject(new Error(t))}),s.promise},r.changePasswordOfUserWithToken=function(n,r,o,s){var a={user:{password:n,password_confirmation:r,reset_password_token:o}},l=e.defer();return t.rawPUT("/users/password.json",a,s).then(function(){l.resolve()},function(e){e||l.notify("Change password - Request aborted");var t="Password change error.";e.data&&e.data.errors&&(t="",_.each(e.data.errors,function(e,n){var r;switch(n){case"password":r="password";break;case"password_confirmation":r="password confirmation"}_.size(t)>0&&(t+=", "),t+=r+" "+i.separatedStringFromStrings(e,", ")}),t=i.capitalizedFirstLetter(t)),l.reject(new Error(t))}),l.promise},r}])}(),function(){"use strict";Bitrise.service("http",["$http","$q","StyleGenerator",function(e,t,n){function i(i,r){var o=t.defer(),s=[].slice.call(r,0),a="Error during request.";return _.size(s)>1&&"string"==typeof _.last(s)&&(a=s.pop()),e[i].apply(e,s).then(function(e){o.resolve(e.data)},function(e){if(e&&(-1==e.status||408==e.status)){var t=_.first(s);return void o.notify(i.toUpperCase()+" "+window.location.origin+t+" - Request aborted")}var r=new Error(a);if(e&&e.data)if(e.data.error_msg)r.message=e.data.error_msg;else if(e.data.message)r.message=e.data.message;else if(e.data.errors){var l;angular.isArray(e.data.errors)?l=e.data.errors:angular.isObject(e.data.errors)&&(l=_.flatten(_.values(e.data.errors)));var c=_.map(l,function(e){return new Error(e)});r.message=n.messageFromErrors(c)}o.reject(r)}),o.promise}var r={};return r.rawGET=e.get,r.rawDELETE=e["delete"],r.rawPOST=e.post,r.rawPUT=e.put,r.rawPATCH=e.patch,r.get=function(){return i("get",arguments)},r["delete"]=function(){return i("delete",arguments)},r.post=function(){return i("post",arguments)},r.put=function(){return i("put",arguments)},r.patch=function(){return i("patch",arguments)},r}])}(),function(){"use strict";Bitrise.service("intercomService",["$q","$timeout",function(e,t){var n={activatedCallback:undefined,deactivatedCallback:undefined};return n.configure=function(){function i(){var e=$("#intercom-container");if(e.length>0){var n=new MutationObserver(r),c={childList:!0,attributes:!1,subtree:!0};n.observe(e[0],c),l.resolve()}else a+=s,a<o?t(i,s):l.reject(new Error("Intercom load failed or timed out."))}function r(){$(".help-center");$(".intercom-borderless-frame").length>0?n.activatedCallback&&n.activatedCallback():n.deactivatedCallback&&n.deactivatedCallback()}var o=15e3,s=100,a=0,l=e.defer();return i(),l.promise},n}])}(),function(){"use strict";Bitrise.service("mathService",function(){var e={};return e.sign=function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1},e})}(),function(){"use strict";Bitrise.service("osService",function(){var e={};return e.osCSSClass=function(){return e.isWindows()?"windows":e.isMac()?"osx":"other"},e.isWindows=function(){return-1!=navigator.platform.toLowerCase().indexOf("win")},e.isMac=function(){return-1!=navigator.platform.toLowerCase().indexOf("mac")},e})}(),function(){"use strict";angular.module("Bitrise").service("requestService",["$q","$http","$filter","cookieService","stringService","DateService",function(e,t,n,i,r,o){function s(e,t,n){if(e&&(-1==e.status||408==e.status))return new Error(e.config.method.toUpperCase()+" "+e.config.url+" - Request aborted");var i=new Error(t);if(e&&e.data)if(e.data.error_msg)i.message=e.data.error_msg;else if(e.data.message)i.message=e.data.message;else if(e.data.errors){var o;angular.isArray(e.data.errors)?o=e.data.errors:angular.isObject(e.data.errors)&&(o=_.flatten(_.values(e.data.errors)));var s=_.map(o,function(e){return new Error(e)});i.message=r.errorMessageFromErrors(s)}return n&&i.message!=t&&(i.message=n+=i.message),i}function a(n,i){var r=e.defer(),o=[].slice.call(i,0),a="Error during request.";return _.size(o)>1&&"string"==typeof _.last(o)&&(a=o.pop()),t[n].apply(t,o).then(function(e){r.resolve(e.data)},function(e){r.reject(s(e,a))}),r.promise}function l(){return a("post",arguments)}function c(t,r){var s,l,c=[].slice.call(r,0);switch(t){case"get":case"delete":l=1;break;case"post":case"put":case"patch":l=2}return s=c[l],e(function(e,t){if(h)e();else{var r=new Date,a=new Date(r.getTime()+o.durationInMilliseconds(14,"days")),l=navigator.userAgent+" - generated at "+n("date")(r,"yyyy-MM-dd HH:mm:ss");p.generateUserAuthToken(l,a,s).then(function(t){h=t,i.put("api_token",h),e()},t)}}).then(function(){s||(s=c[l]={}),s.headers||(s.headers={}),s.headers.Authorization="token "+h;var e=c[0];return c.splice(0,1,u()+e),a.apply(a,[t,c])})}function u(){return"/v0.1"}function d(){return c("get",arguments)}var h=i.get("api_token"),p={};return p.generateUserAuthToken=function(e,t,n){return l("/me/profile/security/user_auth_tokens",{description:e,expire_at:t?t.toISOString():undefined},n).then(function(e){return e.token})},p.getBuilds=function(e){return d(r.stringReplacedWithParameters("/apps/<app_slug>/builds",{app_slug:e})).then(function(e){return{triggeredAt:o.dateFromString(e.triggered_at),startedOnWorkerAt:o.dateFromString(e.started_on_worker_at),environmentPrepareFinishedAt:o.dateFromString(e.environment_prepare_finished_at),finishedAt:o.dateFromString(e.finished_at),slug:e.slug,status:e.status,statusText:e.status_text,abortReason:e.abort_reason,isOnHold:e.is_on_hold,branch:e.branch,buildNumber:e.build_number,commitHash:e.commit_hash,commitMessage:e.commit_message,tag:e.tag,triggeredWorkflow:e.triggered_workflow}})},p}])}(),function(){"use strict";Bitrise.service("routeService",["$location","App","User","Organization",function(e,t,n,i){function r(e,t){if(t===undefined)return e;if(t.anchor!==undefined&&(e+="#"+t.anchor),t.format!==undefined&&(e+="."+t.format),t.params!==undefined){e+="?";var n=!0;_.each(t.params,function(t,i){n?n=!1:e+="&",e+=i+"="+t})}return e}function o(){var t=e.absUrl();return p.test(t)}function s(){var t=e.absUrl();return f.test(t)}function a(){var t=e.absUrl();return m.test(t)}function l(){var t=e.absUrl();return g.test(t)}function c(e){if(!e)return"";switch(e.accountType){case"User":return"/me/profile";case"Organization":return u(e)}}function u(e){return e===undefined?undefined:e.slug===undefined?undefined:"/organization/"+e.slug}function d(e){return"/app/"+e.slug}function h(e){return"/api/app/"+e.slug}var p=new RegExp(".*/app/([a-z|0-9]+).*"),f=new RegExp(".*/me/profile.*"),g=new RegExp(".*/organization/([a-zA-Z0-9-_.]+).*"),m=new RegExp(".*/build/([a-z|0-9]+).*");return{getAppFromCurrentPath:function(){var n=e.absUrl();return o()?new t(p.exec(n)[1]):null},getAccountFromCurrentPath:function(){var t=e.absUrl();return s()?new n:l()?new i(g.exec(t)[1]):null},getOrganizationSlugFromCurrentPath:function(){var t=e.absUrl();return l()?g.exec(t)[1]:null},getBuildSlugFromCurrentPath:function(){var t=e.absUrl();return a()?m.exec(t)[1]:null},normalizedRefererPath:function(e){if(!e)return this.rootPath();var t=[new RegExp(".*/users$"),new RegExp(".*/users/$")];return _.any(t,function(t){return t.test(e)})?this.rootPath():e},rootPath:function(e){return r("/",e)},contactPath:function(e){return r("/contact",e)},jobPath:function(e){return e||(e={}),e.format||(e.format="json"),r("/job",e)},dashboardPath:function(e){return r("/dashboard",e)},createAppPath:function(e,t){return"Organization"==e.accountType&&(t||(t={}),t.params||(t.params={}),t.anchor="",t.params.organization_slug=e.slug),r("/apps/add",t)},appPath:function(e,t){return r(d(e),t)},appDetailsPath:function(e,t){return r(h(e),t)},appSettingsAnchor:function(){return"settings"},appWatchPath:function(e,t){return r(d(e)+"/watch",t)},appIsDisabledPath:function(e,t){return r(d(e)+"/disabled",t)},appSettingsPath:function(e,t){return t||(t={}),t.anchor=this.appSettingsAnchor(),r(d(e),t)},appsPath:function(e,t){return"Organization"==e.accountType&&(t||(t={}),t.params||(t.params={}),t.params.organization_slug=e.slug),r("/apps",t)},projectTypePath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(d(e)+"/project_type",t)},settingsPath:function(e,t){return r(c(e),t)},createOrganizationAnchor:function(){return"create_organization"},editAccountPath:function(e,t){return r(c(e)+"/partial_edit_profile",t)},accountAvatarURLPath:function(e,t){return r(c(e)+"/avatar_url",t)},overviewPartialPath:function(e,t){return r(c(e)+"/partial_overview",t)},statusLimitsPath:function(e,t){return r(c(e)+"/status_limits",t)},billingPartialPath:function(e,t){return r(c(e)+"/partial_billing",t)},referralsPartialPath:function(e,t){return r(c(e)+"/partial_referrals",t)},securityPartialPath:function(e,t){return r(c(e)+"/security",t)},accessTokensPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(c(e)+"/security/user_auth_tokens",t)},personalAccessTokensPath:function(e,t,n){return n||(n={}),n.format||(n.format="json"),r(c(e)+"/security/user_auth_tokens/"+t,n)},regeneratePersonalAccessTokenPath:function(e,t,n){return n||(n={}),n.format||(n.format="json"),r(c(e)+"/security/user_auth_tokens/"+t+"/regenerate",n)},billingAnchor:function(){return"billing"},referralsAnchor:function(){return"referrals"},planPath:function(e,t){return r(c(e)+"/plan_data",t)},creditCardPartialPath:function(e,t){return r(c(e)+"/partial_credit_card",t)},creditCardPath:function(e,t){return r(c(e)+"/credit_card",t)},saveCreditCardPath:function(e,t){return r(c(e)+"/credit_card",t)},couponPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(c(e)+"/coupon",t)},availableStayReasonCategoriesPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(c(e)+"/stay",t)},stayWithLeaveReasonCategoryPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(c(e)+"/stay",t)},invoicesPath:function(e,t){return r(c(e)+"/invoices",t)},clearDeviceInfoPath:function(e,t){return r("/me/test_devices/device_info",t)},downloadInvoicePath:function(e,t){return c(e)+"/invoices/"+t.invoiceNumber+"/download?format=pdf"},previewCurrentChargePath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(c(e)+"/preview_current_charge",t)},pricingPath:function(e){return e||(e={}),e.format||(e.format="json"),r("/pricing",e)},confirmPlanChangePath:function(e,t){return r(c(e)+"/confirm_plan_change",t)},changePlanPath:function(e,t){return r(c(e)+"/change_plan",t)},sendSubscriptionCancelReasonPath:function(e,t){return r(c(e)+"/send_subscription_cancel_reason",t)},
sendAccountDeleteReasonPath:function(e,t){return r(c(e)+"/send_account_delete_reason",t)},signInPath:function(e){return r("/users/sign_in",e)},signUpPath:function(e){return r("/users/sign_up",e)},userValidateNewPath:function(e,t){return r(c(e)+"/validate_new",t)},userBasicInfoPath:function(e,t){return r(c(e)+"/basic_info",t)},userOrganizationsPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(c(e)+"/organizations",t)},userAccountsPath:function(e,t,n){return n||(n={}),n.format||(n.format="json"),n.params||(n.params={}),n.params.slug=t,r(c(e)+"/accounts",n)},userReferralsPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(c(e)+"/referrals",t)},userMetadataPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(c(e)+"/metadata",t)},organizationMetadataPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(u(e)+"/metadata",t)},sendTrialRequestPath:function(e,t){return r(u(e)+"/trial_request",t)},organizationPeopleAnchor:function(){return"people"},organizationPeoplePartialPath:function(e,t){return r(c(e)+"/partial_people",t)},organizationPeoplePath:function(e,t){return r(u(e)+"/people",t)},organizationOutsideContributorsPath:function(e,t){return r(u(e)+"/outside_contributors",t)},organizationAddOwnerPath:function(e,t){return r(u(e)+"/owners",t)},organizationRemoveMemberPath:function(e,t,n){return r(u(e)+"/member/"+t.databaseID,n)},organizationLeavePath:function(e,t,n){return r(u(e)+"/leave",n)},organizationRemoveOutsideContributorPath:function(e,t,n){return r(u(e)+"/outside_contributor/"+t.databaseID,n)},organizationGroupsAnchor:function(){return"groups"},organizationGroupsPartialPath:function(e,t){return r(c(e)+"/partial_groups",t)},organizationGroupsPath:function(e,t){return r(u(e)+"/groups",t)},organizationCreateGroupPath:function(e,t){return r(u(e)+"/groups",t)},organizationRemoveGroupPath:function(e,t,n){return r(u(e)+"/group/"+t.slug,n)},organizationRenameGroupPath:function(e,t,n){return r(u(e)+"/group/"+t.slug,n)},organizationAddGroupMemberPath:function(e,t,n){return r(u(e)+"/group/"+t.slug,n)},organizationRemoveGroupMemberPath:function(e,t,n,i){return r(u(e)+"/group/"+t.slug+"/"+n.databaseID,i)},organizationLeaveGroupPath:function(e,t,n){return r(u(e)+"/leave/"+t.slug,n)},organizationAppsPartialPath:function(e,t){return r(u(e)+"/partial_apps",t)},organizationAppsAnchor:function(){return"apps"},organizationMemberTestDevicesPath:function(e,t,n){return r(u(e)+"/member_test_devices/"+t.databaseID,n)},bitriseSupportUserPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r(d(e)+"/bitrise_support",t)},teamDataPath:function(e,t){return r(d(e)+"/team_data",t)},teamMemberTestDevicesPath:function(e,t){return r(h(e)+"/team_test_devices",t)},teamMemberInvitePath:function(e,t){return r(d(e)+"/team/create",t)},teamMemberReinvitePath:function(e,t){return r(d(e)+"/team/reinvite",t)},teamMemberRemovePath:function(e,t){return r(d(e)+"/team/remove",t)},teamMemberChangeRolePath:function(e,t){return r(d(e)+"/team/change_role",t)},teamMemberTransferOwnershipPath:function(e,t){return r(d(e)+"/team/transfer_ownership",t)},teamOwnerDataPath:function(e,t){return r(d(e)+"/team/owner",t)},teamMemberUnsubscribe:function(e,t){return r(d(e)+"/team/unsubscribe",t)},teamGroupRemovePath:function(e,t){return r(d(e)+"/team/remove_group",t)},teamGroupAddPath:function(e,t){return r(d(e)+"/team/add_group",t)},teamGroupRoleChangePath:function(e,t){return r(d(e)+"/team/change_group_role",t)},repositoryPotentialOwnersPath:function(e){return r("/potential_app_owners",e)},buildDetailsPath:function(e,t){return r("/build/"+e.slug,t)},workflowEditorPath:function(e){return r("/workflow_editor",e)},workflowWizardPath:function(e,t){return r(d(e)+"/workflow/wizard",t)},codeSigningWizardPath:function(e,t){return r(d(e)+"/workflow/code_signing_wizard",t)},envVarsPartialPath:function(){return"/workflow/partial_env_vars"},appFilesPartialPath:function(e,t){return r(d(e)+"/workflow/partial_app_files",t)},triggersPartialPath:function(){return"/workflow/partial_triggers"},ymlEditorPartialPath:function(){return"/workflow/partial_yml_editor"},appYMLDownloadPath:function(e){return r("/api/app/"+e.slug+"/config.yml",{params:{is_download:1}})},cacheItemDownloadPath:function(e,t){return r("/app/"+e.slug+"/build-cache/download?cache_item_key="+t.the_cache_item_key)},appScheduledBuildPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r("/api/schedule/"+e.id,t)},appScheduledBuildsPath:function(e,t){return t||(t={}),t.format||(t.format="json"),r("/api/schedule/"+e.slug,t)}}}])}(),function(){"use strict";Bitrise.service("scrollService",function(){var e={};return e.scrollToTarget=function(){var e=$("[scroll-target]").first();if(0!=e.length){var t=e.offset().top;t-=$(".header").outerHeight();var n=e.attr("scroll-padding");n!==undefined&&(t-=n),$("html, body").animate({scrollTop:t},300)}},e})}(),function(){"use strict";angular.module("Bitrise").service("stringService",function(){var e={};return e.stringReplacedWithParameters=function(e,t){return _.each(t,function(t,n){var i=new RegExp("([^<]*)<"+n+">(.*)");e=e.replace(i,"$1"+t+"$2")}),e},e.isStringMatchingTerm=function(e,t){return e===undefined||t===undefined?undefined:0==t.length||-1!=e.toLowerCase().indexOf(t.toLowerCase())},e.joinedString=function(e,t,n){if(!e)return e;var i="";return 0==e.length?i:(null!==t&&t!==undefined||(t=""),n===undefined&&(n=_.contains([",",";"],t)),_.each(e,function(e,r){null!==e&&e!==undefined||(e=""),e=e.toString(),r>0&&e.length>0&&(i+=t,n&&(i+=" ")),i+=e}),i)},e.capitalizedFirstLetter=function(e){return e?e[0].toUpperCase()+e.slice(1):e},e.errorMessageFromErrors=function(t){var n=_.map(t,function(e){return e.message}),i=e.joinedString(n,",");return i=e.capitalizedFirstLetter(i),i+="."},e})}(),function(){"use strict";Bitrise.factory("InputWithHints",["Progress","$q",function(e,t){return function(){this.text="",this.progress=new e,this.canceler=t.defer(),this.isActive=!1,this.hints=[],this.textUpdatedCallback=undefined;var n=this;this.enterCallback,this.deactivateCallback=function(){n.hints=[],n.canceler.resolve()},this.deactivate=function(){n.isActive=!1,n.deactivateCallback&&n.deactivateCallback()}}}]),Bitrise.directive("inputWithHints",["$timeout","$parse","$document",function(e,t){return{restrict:"E",replace:!0,template:function(e,t){var n=angular.element("<div></div>");n.attr("model",t.model),n.addClass("input-with-hints");var i=angular.element("<input></input>");i.attr("type",t.type),i.attr("placeholder",t.placeholder),i.attr("class",t["class"]),i.removeClass("block"),i.attr("ng-change",t.model+".textUpdatedCallback()"),t.inputModel?(i.attr("ng-model",t.inputModel),i.attr("ng-change",t.model+".text = "+t.inputModel+"; "+i.attr("ng-change"))):i.attr("ng-model",t.model+".text"),t.inputModelOptions&&i.attr("ng-model-options",t.inputModelOptions);var r=t.model+".isActive = true";t.ngFocus&&(r+="; "+t.ngFocus),i.attr("ng-focus",r),n.append(i);var o=angular.element("<div></div>");o.addClass("hint-box"),o.attr("ng-show",t.model+".isActive"),n.append(o);var s=e.find("before");if(s&&o.append(s.html()),t.showProgress){var a=angular.element("<div></div>");a.attr("progress",t.model+".progress"),o.append(a)}var l=angular.element("<button></button>");l.addClass("hint"),l.attr("ng-repeat","hint in "+t.model+".hints"),t.hintLimit&&l.attr("ng-repeat",l.attr("ng-repeat")+" | limitTo: "+t.hintLimit),l.attr("ng-bind","hint.text"),l.attr("ng-click","hint.selectedCallback()"),o.append(l);var c=e.find("after");return c&&o.append(c.html()),n.prop("outerHTML")},link:function(n,i,r){function o(o){$.contains(i[0],o.target)||e(function(){t(r.model)(n).deactivate()},0)}function s(o){var s=13,a=27,l=38,c=40;if(o.keyCode==s||o.keyCode==a||o.keyCode==l||o.keyCode==c){var u=$(document.activeElement);switch(o.keyCode){case s:if(!$.contains(i[0],document.activeElement))return;o.stopPropagation(),o.preventDefault(),u.hasClass("hint")&&u.click(),u[0]==i.find("input").first()[0]&&e(function(){var e=t(r.model)(n);e.enterCallback&&(e.enterCallback(),e.deactivate(),u[0]==i.find("input").first()[0]&&u.blur())},0);break;case a:o.stopPropagation(),o.preventDefault(),e(function(){t(r.model)(n).deactivate(),u[0]==i.find("input").first()[0]&&u.blur()},0);break;case l:if(!$.contains(i[0],document.activeElement))return;o.stopPropagation(),o.preventDefault(),u=u[0]==i.find("input").first()[0]||u[0]==i.find(".hint").first()[0]?i.find(".hint").last():u.prev();break;case c:if(!$.contains(i[0],document.activeElement))return;o.stopPropagation(),o.preventDefault(),u=u[0]==i.find("input").first()[0]||u[0]==i.find(".hint").last()[0]?i.find(".hint").first():u.next();break;default:return}u[0]!=document.activeElement&&u.focus()}}i.removeClass("v4-input"),n.$watch(function(){var e=t(r.model)(n);return e?e.isActive:undefined},function(e){e!==undefined&&(e?($(document).bind("mouseup",o),$(document).bind("keydown",s)):($(document).unbind("mouseup",o),$(document).unbind("keydown",s)))}),n.$on("$destroy",function(){$(document).unbind("mouseup",o),$(document).unbind("keydown",s)})}}}])}(),Bitrise.factory("Popover",function(){var e=function(e){switch(this.isVisible=!1,this.appearDelayInSeconds=0,this.disappearDelayInSeconds=0,e){case"right":case"bottom":case"left":break;default:e="top"}this.relativePosition=e};return e.cssClassFromPopoverPosition=function(e){switch(e){case"top":case"right":case"bottom":case"left":return e}},e}),Bitrise.directive("triggerPopover",["$parse","$timeout",function(e,t){return{restrict:"A",link:function(n,i,r){function o(){var i=e(r.triggerPopover)(n);i&&(s?(t.cancel(s),a=!a):a=!i.isVisible,s=t(function(){i.isVisible=a,s=null},1e3*(i.isVisible?i.disappearDelayInSeconds:i.appearDelayInSeconds)))}switch(r.triggerPopoverEvent){case"click":i.bind("click",o);break;case"hover":default:i.bind("mouseenter",o),i.bind("mouseleave",o)}var s,a}}}]),Bitrise.directive("popover",["$parse",function(){return{restrict:"E",replace:!0,template:function(e,t){var n=angular.element("<span></span>"),i=e.prop("attributes");return _.each(i,function(){n.attr(this.name,this.value)}),n.addClass("popover"),n.attr("ng-show",t.model+".isVisible"),n.attr("ng-class",t.model+".relativePosition | popoverPositionClass"),n.prop("outerHTML")},transclude:!0,link:function(e,t,n,i,r){r(e,function(e){t.append(e)})}}}]),Bitrise.filter("popoverPositionClass",["Popover",function(e){return function(t){return e.cssClassFromPopoverPosition(t)}}]),function(){"use strict";Bitrise.factory("PopupV4",["$rootScope","$q",function(e,t){function n(n,i,r,o,s,a){var l=t.defer();return e.$broadcast("SimplePopupController::showPopupWithParameters",l,n,i,r,o,s,a),l.promise}var i=function(e){this.isVisible=!1,this.beforeAppearCallback=undefined,this.afterAppearCallback=undefined,this.beforeDismissCallback=undefined,this.afterDismissCallback=undefined,this.beforeDismissPromise,this.shouldCloseByEscapeKey=!0,this.parameters=e!==undefined?e:{}};return i.prototype.dismiss=function(){if(this.beforeDismissPromise===undefined)return this.isVisible=!1,t.when();var e=this;return this.beforeDismissPromise().then(function(){e.isVisible=!1},function(){})},i.confirm=function(e,t,i,r,o,s){return e===undefined&&(e="Are you sure?"),i===undefined&&(i="Yes"),r===undefined&&(r="No"),s===undefined&&(s="danger"),n(s,e,t,i,r,o)},i.alertSuccess=function(e,t,i){return t===undefined&&(t="Okay"),n("success",e,undefined,undefined,t,i)},i.alertError=function(e,t,i,r){return e===undefined&&(e="Error"),i===undefined&&(i="Oh, okay"),n("error",e,t,undefined,i,r)},i.notice=function(e,t,i,r){return i===undefined&&(i="Got it"),n("notice",e,t,undefined,i,r)},i.accountDetails=function(t,n){e.$broadcast("AccountDetailsPopupController::showPopupWithParameters",t,n)},i}]),Bitrise.directive("popup",["$animate","$document","$window","$parse",function(e,t,n,i){return{restrict:"E",replace:!0,template:function(e,t){return"<div class='popup ng-hide' ng-show='"+t.model+".isVisible' angular-animated></div>"},transclude:!0,link:function(r,o,s,a,l){function c(){angular.element(n).scrollTop(g)}function u(e){var n=o.find("[popup-close]");n.attr("tabindex","-1"),e?(o.bind("click",h),i(s.model)(r).shouldCloseByEscapeKey&&angular.element(t).bind("keyup",p),n.bind("click",f)):(o.unbind("click",h),i(s.model)(r).shouldCloseByEscapeKey&&angular.element(t).unbind("keyup",p),n.unbind("click",f))}function d(e){e?(angular.element(n).bind("scroll",c),g=angular.element(n).scrollTop()):(angular.element(n).unbind("scroll",c),g=undefined)}var h,p,f,g;r.$watch(s.model,function(t){var n;if(!t)return n&&n(),u(!1),void d(!1);h=function(e){angular.element(e.target).is(o)&&t.dismiss().then(function(){r.$$phase||r.$apply()})},p=function(e){27==e.keyCode&&t.dismiss().then(function(){r.$$phase||r.$apply()})},f=function(){t.dismiss().then(function(){r.$$phase||r.$apply()})},n=r.$watch(function(){return t.isVisible},function(n,s){if(u(n),d(n),s!=n)if(n){var a=o.find("[initial-focus]");a.length>1&&a.each(function(){i($(this).attr("initial-focus"))($(this).scope())&&(a=this)}),a&&setTimeout(function(){a.focus()},10),t.beforeAppearCallback&&(t.beforeAppearCallback(),r.$$phase||r.$apply()),t.afterAppearCallback&&e.on("removeClass",o,function(n,i){"start"!=i&&(e.off("removeClass"),t.afterAppearCallback(),r.$$phase||r.$apply())})}else t.beforeDismissCallback&&(t.beforeDismissCallback(),r.$$phase||r.$apply()),t.afterDismissCallback&&e.on("addClass",o,function(n,i){"start"!=i&&(e.off("addClass"),t.afterDismissCallback(),r.$$phase||r.$apply())})})}),r.$on("$destroy",function(){u(!1),d(!1)}),angular.element(t[0].body).append(o),l(r,function(e){o.append(e)})}}}]),Bitrise.controller("SimplePopupController",["$scope","$q","PopupV4",function(e,t,n){var i,r,o,s=!1;e.simplePopup=new n,e.simplePopup.beforeAppearCallback=function(){s=!1,o=undefined},e.simplePopup.beforeDismissCallback=function(){o?i&&i.resolve():i&&(s||r)&&(e.isConfirmable?i.reject():i.resolve())},e.cssClass,e.headerContent,e.bodyContents,e.dismissText,e.confirmText,e.isConfirmable,e.init=function(e,i,r){t(function(t){e?n.alertSuccess(e).then(function(){t()}):t()}).then(function(){i&&n.alertError(i)}).then(function(){r&&n.notice(r)})},e.confirmSelected=function(){s=!0,o=!0,e.simplePopup.isVisible=!1},e.dismissSelected=function(){s=!0,o=!1,e.simplePopup.isVisible=!1},e.$on("SimplePopupController::showPopupWithParameters",function(t,n,o,s,a,l,c,u){i=n,r=u===undefined||u,e.cssClass=o,e.headerContent=s,angular.isArray(a)?e.bodyContents=a:e.bodyContents=[a],e.isConfirmable=l!==undefined,e.isConfirmable&&(e.confirmText=l),e.dismissText=c,e.simplePopup.isVisible=!0})}]),Bitrise.controller("AccountDetailsPopupController",["$scope","$q","routeService","http","PopupV4","Progress","Device",function(e,t,n,i,r,o,s){function a(t){var n="Error loading test devices of User.";if(e.loadAccountTestDevicesProgress.start("Loading test devices, wait a sec..."),e.account.databaseID===undefined)return void e.loadAccountTestDevicesProgress.error(new Error(n));i.get(t,{timeout:l.promise},n).then(function(t){e.account.testDevices=_.map(t,function(e){var t=new s;return t.deviceId=e.device_identifier,t.name=e.title,t}),e.loadAccountTestDevicesProgress.success()},function(t){e.loadAccountTestDevicesProgress.error(t)})}var l=t.defer(),c={organization:n.organizationMemberTestDevicesPath};e.accountDetailsPopup=new r,e.accountDetailsPopup.afterDismissCallback=function(){l.resolve(),l=t.defer(),e.loadAccountTestDevicesProgress.reset()},e.account,e.loadAccountTestDevicesProgress=new o,e.$on("AccountDetailsPopupController::showPopupWithParameters",function(t,n,i){if(e.account=n,e.accountDetailsPopup.isVisible=!0,e.account.testDevices===undefined){a(c[i.scopeName].apply(this,i.scopeArguments))}})}])}(),function(){"use strict";Bitrise.factory("Progress",function(){var e=["in-progress","success","error"],t=function(e){this.isReset=!0,this.isInProgress=!1,this.isSuccess=!1,this.isError=!1,this.cssClass=undefined,this.statusMessage=undefined,this.clickAction=null,this.shouldHandleSuccessAsSeparateState=e!==undefined&&e};return t.prototype.start=function(t){if(this.isInProgress)return void(this.statusMessage=t);this.isReset=!1,this.isInProgress=!0,this.isSuccess=!1,this.isError=!1,this.cssClass=e[0],this.statusMessage=t,this.clickAction=null},t.prototype.success=function(t,n){if(this.shouldHandleSuccessAsSeparateState){if(this.isSuccess)return this.statusMessage=t,void(this.clickAction=n);this.isReset=!1,this.isInProgress=!1,this.isSuccess=!0,this.isError=!1,this.cssClass=e[1],this.statusMessage=t,this.clickAction=n}else this.reset()},t.prototype.error=function(t,n){if(this.isError)return this.statusMessage=t.message,void(this.clickAction=n);this.isReset=!1,this.isInProgress=!1,this.isSuccess=!1,this.isError=!0,this.cssClass=e[2],this.statusMessage=t.message,this.clickAction=n},t.prototype.reset=function(){this.isReset||(this.isReset=!0,this.isInProgress=!1,this.isSuccess=!1,this.isError=!1,this.cssClass=null,this.statusMessage=null,this.clickAction=null)},t}),Bitrise.directive("progress",function(){return{restrict:"A",replace:!0,template:function(e,t){return e.attr("ng-class","{'in-progress': "+t.progress+".isInProgress, 'success': "+t.progress+".isSuccess, 'error': "+t.progress+".isError, 'pointer': "+t.progress+".clickAction}"),e.attr("ng-click",t.progress+".clickAction ? "+t.progress+".clickAction() : null"),e.attr("ng-bind-html",t.progress+".statusMessage"),e.removeAttr("progress"),e.prop("outerHTML")}}})}(),function(){"use strict";angular.module("Bitrise").directive("log",function(){return{restrict:"E",replace:!0,templateUrl:"/log.html",scope:{build:"=",loadProgress:"="},controller:"LogController",controllerAs:"logCtrl",bindToController:!0,link:function(e,t){var n=e.logCtrl,i=200,r=.5;n.goToTop=function(){$("body, html").animate({scrollTop:t.offset().top-i},1e3*r)},n.goToBottom=function(){t.offset().top+t.outerHeight()<$(window).scrollTop()+$(window).height()||$("body, html").animate({scrollTop:t.offset().top+t.outerHeight()+i-$(window).height()},1e3*r)},e.$watch(function(){return n.shouldWrapLines},function(e){e&&t.scrollLeft(0)}),e.$watch(function(){return n.shouldFollowLogs},function(e){e&&n.goToBottom()})}}}).directive("logNavigationBox",["$timeout",function(e){return{restrict:"C",link:function(t,n){function i(){var e=$(window).scrollTop()+$(window).height()-(s.offset().top+s.outerHeight()),t=$(window).scrollTop()+$(window).height()-(s.offset().top+n.outerHeight()),i=0;i<e?i=e:i>t&&(i=t);var r=$(window).width()-(s.offset().left+s.outerWidth());parseInt(n.css("right"),10)!=r&&n.css({right:r+"px"}),parseInt(n.css("bottom"),10)!=i&&n.css({bottom:i+"px"})}function r(){o.shouldFollowLogs&&$(window).scrollTop()<a&&(o.shouldFollowLogs=!1),a=$(window).scrollTop(),t.$apply()}var o=t.logCtrl,s=$(".logs"),a=0;$(window).bind("scroll",i),$(window).bind("resize",i),$(window).bind("scroll",r),t.$watch(function(){return o.linesBySteps},function(){e(i,0)},!0),t.$watch(function(){return o.shouldWrapLines},function(){e(i,0)},!0),t.$on("$destroy",function(){$(window).unbind("scroll",i),$(window).unbind("resize",i),$(window).unbind("scroll",r)})}}}]).controller("LogController",["$scope","$q","$timeout","http","DateService","logService","Progress",function(e,t,n,i,r,o){function s(){var e=t.defer();return i.get("https://bitrise-steplib-collection.s3.amazonaws.com/spec.json").then(function(t){h={},_.each(t.steps,function(e,t){h[t]={},_.each(e.versions,function(e,n){var i;e.asset_urls&&(e.asset_urls["icon.svg"]&&(i=e.asset_urls["icon.svg"]),e.asset_urls["icon.png"]&&(i=e.asset_urls["icon.png"])),h[t][n]=i})}),p=_.mapObject(t.steps,"latest_version_number"),e.resolve()},function(){e.reject(new Error("Error loading from Bitrise steplib"))})}function a(){var e=_.compact(d).join("").split("\n"),t=_.map(l.linesBySteps,function(e){return e.stepInfo?e.stepInfo.isOpen:undefined});l.linesBySteps=[{stepInfo:null,lines:[]}];var n,i=0;_.each(e,function(r,o){if(n){if(new RegExp("^  \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557$").test(r)&&i++,0==i){if(new RegExp("^[|][ ]+.+[ ]+[|] .+[ ]+[|] [1234567890.]+ sec[ ]+[|]$").test(r))return _.last(l.linesBySteps).lines.push(r),l.linesBySteps.push({stepInfo:null,lines:[]}),void(n=null)}else{new RegExp("^[|][ ]Total runtime: [1234567890.]+ (?:sec|min)[ ]+[|]$").test(r)&&i--}}else{var s=new RegExp("^[|] [(][1234567890]+[)] .+ [|]$"),a=new RegExp("^[+]-{78}[+]$"),c=new RegExp("^[|] id: ([^ ]+)[ ]*[|]$"),u=new RegExp("^[|] version: ([^ ]+)[ ]+[|]$"),d=new RegExp("^[|] collection: ([^ ]+)[ ]+[|]$"),f=[s,a,c,u,d],g=e.slice(o,o+f.length);if(_.every(f,function(e,t){return g[t]!==undefined&&e.test(g[t])})){var m=c.exec(g[f.indexOf(c)])[1],v=u.exec(g[f.indexOf(u)])[1],y=d.exec(g[f.indexOf(d)])[1];n={headerFirstLine:r,isOpen:t[l.linesBySteps.length],isUpdateAvailable:p[m]!=v,iconURL:"https://github.com/bitrise-io/bitrise-steplib.git"==y?h[m][v]:undefined},n.isOpen===undefined&&(n.isOpen=!0),l.linesBySteps.push({stepInfo:n,lines:[]})}}_.last(l.linesBySteps).lines.push(r)}),o.isUpdateAvailableForAStep=_.any(l.linesBySteps,function(e){return!!e.stepInfo&&e.stepInfo.isUpdateAvailable})}var l=this;e.logService=o;var c,u;l.shouldWrapLines=!0,l.shouldFollowLogs=!1,l.goToTop,l.goToBottom;var d=[];l.linesBySteps;var h,p;o.isFirstLoadFinished=!1,o.loadLogs=function(){if(c)return c.resolve("Log load cancelled by another log load request.");c=t.defer(),l.loadProgress.start("Loading logs, wait a sec...");var e=l.build.isValidationBuildMode()?"/api/validation/"+l.build.repositoryValidationSlug+"/logs.json?is_include_log_chunks=true":"/api/build/"+l.build.slug+"/logs.json?is_include_log_chunks=true",p={timestamp:u};return t.all([i.get(e,{params:p,timeout:c.promise}),function(){return h?t.when():s()}()]).then(function(e){var t=e[0];c=null,u=r.dateFromString(t.timestamp),_.each(t.log_chunks,function(e){d[e.position]=e.chunk}),o.isLoadedFromBeginning=d[0]!==undefined,o.isFullAvailable=t.is_archived,a(),l.loadProgress.success(),o.isFirstLoadFinished=!0,o.isFullAvailable||n(o.loadLogs,2e3),l.shouldFollowLogs&&n(l.goToBottom,0)},function(e){l.loadProgress.error(e)})},o.loadFullLogs=function(){o.isFirstLoadFinished=!1,l.linesBySteps=undefined,l.loadProgress.start("Loading full logs, wait a sec...");var e="/api/build/"+l.build.slug+"/logs.json?download=log-url";return t(function(t,n){i.get(e).then(function(r){e=r.url,i.get(e).then(function(e){d=[e],o.isLoadedFromBeginning=!0,a(),t()},function(e){n(e)})},function(e){n(e)})}).then(function(){l.loadProgress.success()},function(e){l.loadProgress.error(e)})}}]).service("logService",function(){return{isFirstLoadFinished:undefined,isLoadedFromBeginning:undefined,isUpdateAvailableForAStep:undefined,isFullAvailable:undefined,loadLogs:undefined,loadFullLogs:undefined}})}(),function(){"use strict";angular.module("Bitrise").directive("workflowEditor",["$animate","routeService","workflowEditorService",function(e,t,n){return{restrict:"E",templateUrl:t.workflowEditorPath(),controller:"WorkflowEditorController",controllerAs:"workflowEditorCtrl",link:function(t,i){e.on("enter",i.get(0),function(e,i){$(e).is(".workflow-editor")&&("start"==i?n.beforeShowCallback&&n.beforeShowCallback():"close"==i&&n.afterShowCallback&&n.afterShowCallback(),t.$$phase||t.$apply())}),e.on("leave",i.get(0),function(e,i){$(e).is(".workflow-editor")&&("start"==i?n.beforeCloseCallback&&n.beforeCloseCallback():"close"==i&&n.afterCloseCallback&&n.afterCloseCallback(),t.$$phase||t.$apply())})}}}]).service("workflowEditorService",["$q","routeService","App",function(e,t,n){var i={app:undefined,jobID:undefined,workflowID:undefined,isVisible:!1,beforeShowCallback:undefined,afterShowCallback:undefined,beforeClosePromise:undefined,beforeCloseCallback:undefined,afterCloseCallback:undefined};return i.show=function(e,t,r){i.app=new n(e),i.jobID=t,i.workflowID=r,i.isVisible=!0},i.close=function(){e(function(e,t){if(!i.beforeClosePromise)return void e();i.beforeClosePromise().then(e,t)}).then(function(){i.isVisible=!1},function(){})},i}]).controller("WorkflowEditorController",["$scope","$q","$sce","http","routeService","workflowEditorService","PopupV4","Progress","Stack",function(e,t,n,i,r,o,s,a,l){var c=this;c.canceler=t.defer(),e.routeService=r,e.workflowEditorService=o,c.loadAppProgress=new a,c.appPath="#",c.iframeElement,c.shouldMinimzeHeader=!1,c.shouldShowCloseButton=!0,window.addEventListener("message",function(t){"requestingConfiguration"==t.data&&c.iframeElement.contentWindow.postMessage("configure-app_slug-"+o.app.slug+"-job_id-"+o.jobID,"*");var n=new RegExp("^shouldMinimizeHeader:(yes|no)$");n.test(t.data)&&(c.shouldMinimzeHeader="yes"==n.exec(t.data)[1]);var i=new RegExp("^shouldShowWorkflowEditorCloseButton:(yes|no)$");i.test(t.data)&&(c.shouldShowCloseButton="yes"==i.exec(t.data)[1]),e.$$phase||e.$apply()}),c.iframeSrc=function(){return n.trustAsResourceUrl(o.isVisible?"/bitrise_workflow_editor-1.0.12"+(o.workflowID?"/#!/?workflow_id="+o.workflowID:""):"about:blank")},c.appPathSelected=function(){window.location.pathname==r.appPath(o.app)&&o.close()},o.beforeClosePromise=function(){var e=t.defer();return window.addEventListener("message",function(t){"doesWorkflowEditorHaveUnsavedChanges:yes"==t.data?(s.alertError("Unsaved changes","You have unsaved changes. Discard or save them first."),e.reject()):e.resolve()}),c.iframeElement.contentWindow.postMessage("doesWorkflowEditorHaveUnsavedChanges","*"),e.promise},e.$watch(function(){return o.isVisible},function(e){if(e&&(c.appPath=r.appPath(o.app),!o.app.title)){c.loadAppProgress.start("Loading app, wait a sec...");var t=r.appDetailsPath(o.app,{format:"json"});i.get(t).then(function(e){o.app.title=e.title,o.app.stack=new l(e.stack_identifier),o.app.projectType=e.project_type,c.loadAppProgress.success()},function(e){c.loadAppProgress.error(e)})}})}]).directive("workflowEditorIframe",["$parse",function(e){return{restrict:"C",link:function(t,n,i){e(i.model).assign(t,n.get(0))}}}])}(),function(){"use strict";Bitrise.directive("closeableWithCallback",function(){return{restrict:"A",scope:!1,replace:!0,template:function(e,t){if(e.hasClass("notification")){var n=angular.element("<button></button>");n.addClass("notification-close"),n.attr("tabindex","-1"),n.attr("ng-click",t.closeableWithCallback),e.append(n)}return e.removeAttr("closeable-with-callback"),e.prop("outerHTML")}}})}(),Bitrise.directive("angularAnimated",function(){return{restrict:"A",link:function(e,t){t.addClass("angular-animated")}}}),Bitrise.directive("ngBgimg",function(){return function(e,t,n){n.$observe("ngBgimg",function(e){null!=e&&e!=undefined&&"string"==typeof e&&0!=e.length&&t.css({"background-image":"url("+e+")","background-size":"cover"})})}}),Bitrise.directive("scrollOnClick",function(){return{restrict:"A",link:function(e,t,n){var i=n.href;t.on("click",function(){var e;e=i?$(i):t,$("body").animate({scrollTop:e.offset().top},"slow")})}}}),Bitrise.directive("animateOnChange",["$animate","$timeout",function(e,t){return function(n,i,r){n.$watch(r.animateOnChange,function(n,r){n!==r?(e.removeClass(i,"fst-elem"),e.removeClass(i,"changed").then(function(){t(function(){e.addClass(i,"changed")})})):e.addClass(i,"fst-elem")})}}]),Bitrise.directive("rangeValue",function(){return{restrict:"A",link:function(e,t,n){e.$watch(n.rangeValue,function(e){try{var n=t[0].min,i=t[0].max;t[0].value=""+e,t[0].style.backgroundSize=100*(e-n)/(i-n)+"% 100%"}catch(e){}})}}}),Bitrise.directive("clickOnCallback",["$parse",function(e){return{restrict:"A",link:function(t,n,i){var r=e(i.clickOnCallback),o=r(t);r.assign(t,function(){o&&o(),n[0].click()})}}}]),Bitrise.directive("callbackOnEscape",["$document","$parse",function(e,t){return{restrict:"A",link:function(n,i,r){function o(e){27==e.keyCode&&(t(r.callbackOnEscape)(n),n.$$phase||n.$apply())}e.bind("keyup",o),n.$on("$destroy",function(){e.unbind("keyup",o)})}}}]),Bitrise.directive("callbackOnEnter",["$document","$parse",function(e,t){return{restrict:"A",link:function(n,i,r){function o(e){13==e.keyCode&&(t(r.callbackOnEnter)(n),n.$$phase||n.$apply())}e.bind("keyup",o),n.$on("$destroy",function(){e.unbind("keyup",o)})}}}]),Bitrise.directive("callbackOnClickElsewhere",["$document","$parse",function(e,t){return{restrict:"A",link:function(n,i,r){function o(e){if(e.target!=i[0]&&!$.contains(i[0],e.target)){var o=t(r.elsewhereExceptionsSelector)(n);if(o){if($(e.target).is(o))return;if(_.any($(o),function(t){return $.contains(t,e.target)}))return}t(r.callbackOnClickElsewhere)(n),n.$$phase||n.$apply()}}e.bind("click",o),n.$on("$destroy",function(){e.unbind("click",o)})}}}]),Bitrise.directive("onInvalid",["$parse",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,i,r){r.$options||(r.$options={}),r.$options.updateOnDefault=!0,r.$options.allowInvalid=!0,t.$watch(i.ngModel,function(){n[0].setCustomValidity("");var t=e(i.onInvalid)();_.any(r.$error,function(e,i){var r=t[i];if(r)return e?(n[0].setCustomValidity(r),!0):void 0})})}}}]),Bitrise.directive("numbersOnly",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$parsers.push(function(e){if(e){var t=new RegExp(/[^0-9]+/),r=e.replace(t,"");return r!==e?e=r:(n.min&&Number(e)<Number(n.min)||n.max&&Number(e)>Number(n.max))&&(e=i.$modelValue),i.$setViewValue(e),i.$render(),e}})}}}),Bitrise.directive("select",["$interpolate",function(e){return{restrict:"E",require:"ngModel",link:function(t,n,i){if(""!=i.noPlaceholder){t.placeholderText=i.placeholder||"Please select...";n.prepend(e("<option value='' disabled>{{ placeholderText }}</option>")(t))}}}}]),Bitrise.directive("copyClip",function(){return{restrict:"A",link:function(){$("#copy-to-clipboard").ready(function(){new ZeroClipboard($("#copy-to-clipboard"))})}}}),Bitrise.directive("copyToClipboard",function(){return{restrict:"A",link:function(e,t,n){function i(){var e,t,n=this;n.textarea||(t=document.createElement("div"),t.id="simulate-clipboard-container",t.setAttribute("style",["position: fixed;","left: 0px;","top: 0px;","width: 0px;","height: 0px;","z-index: 100;","opacity: 0;","display: block;"].join("")),document.body.appendChild(t),e=document.createElement("textarea"),e.setAttribute("style",["width: 1px;","height: 1px;","padding: 0px;"].join("")),e.id="simulate-clipboard",n.textarea=e,t.appendChild(e))}var r;i.prototype.copy=function(){this.textarea.innerHTML="",this.textarea.appendChild(document.createTextNode(n.textToCopy)),this.textarea.focus(),this.textarea.select(),setTimeout(function(){document.execCommand("copy")},20)},r=new i,t[0].addEventListener("click",function(){r.copy()})}}}),Bitrise.directive("initialFocus",["$timeout","$parse",function(e,t){return{restrict:"A",link:function(n,i,r){r.ngShow&&n.$watch(function(){return t(r.ngShow)(n)},function(t){t&&e(function(){i[0].focus()},0)}),r.ngHide&&n.$watch(function(){return t(r.ngHide)(n)},function(t){t||e(function(){i[0].focus()},0)}),r.ngIf&&n.$watch(function(){return t(r.ngIf)(n)},function(t){t||e(function(){i[0].focus()},0)})}}}]),Bitrise.directive("focusOn",["$parse",function(e){return{restrict:"A",link:function(t,n,i){t.$watch(function(){return e(i.focusOn)(t)},function(e){e&&n.find("input").focus()})}}}]),function(){"use strict";Bitrise.directive("menuIdentifier",function(){return{restrict:"A",link:function(e,t,n){function i(e){var i=38;if(e.keyCode==i||40==e.keyCode){var r=$("[menu-identifier='"+n.menuIdentifier+"']"),o=r.index(t),s=e.keyCode==i?o-1:o+1;s>r.length-1?s-=r.length:s<0&&(s=r.length+s),r[s].focus()}}function r(){$("[menu-identifier='"+n.menuIdentifier+"'][active-menu-element]").each(function(){$(this).removeAttr("active-menu-element")}),t.attr("active-menu-element",""),t.bind("keydown",i)}function o(){t.unbind("keydown",i)}t.bind("focus",r),t.bind("blur",o),e.$on("$destroy",function(){t.unbind("focus",r),t.unbind("blur",o)})}}})}(),Bitrise.directive("pager",["$parse",function(){return{restrict:"E",replace:!0,template:function(e,t){var n=angular.element("<ul></ul>");n.addClass("pager");var i=angular.element("<li></li>");return i.addClass("page"),i.attr("ng-repeat","page in "+t.pages),i.attr("ng-class","{'active': page == "+t.currentPage+"}"),n.append(i),n.prop("outerHTML")}}}]),function(){"use strict";Bitrise.directive("spaceFlower",["$window","mathService",function(e,t){return{restrict:"A",link:function(n,i){function r(e){if(o!==undefined){Math.abs(e.clientX-o)<a?c+=l*(e.clientX-o):c+=t.sign(e.clientX-o),Math.abs(e.clientY-s)<a?u+=l*(e.clientY-s):u+=t.sign(e.clientY-s);var n=c/8+"px",r=c/2+"px",d=c+"px",h=u+"px",p=u/2+"px"
;$(i).css("background-position",n+" "+"bottom"+", "+r+" "+h+", "+d+" "+p)}o=e.clientX,s=e.clientY}var o,s,a=20,l=1/8,c=0,u=0;$(i).css("background-position",c+"px ",u+"px"),angular.element(e).bind("mousemove",r),n.$on("$destroy",function(){angular.element(e).unbind("mousemove",r)})}}}])}(),function(){"use strict";Bitrise.directive("topNotification",function(){return{restrict:"E",replace:!0,template:function(e,t){var n=angular.element("<div></div>");if(n.addClass("notification"),n.append(e.html()),n.attr("ng-show","isVisible"),t.permanent===undefined){var i=angular.element("<button></button>");i.addClass("notification-close"),i.attr("tabindex","-1"),i.attr("ng-click","isVisible = false"),n.append(i)}return n.prop("outerHTML")},scope:!0,link:function(e){e.isVisible=!0}}})}(),function(){"use strict";angular.module("Bitrise").directive("fileUploader",["$parse",function(e){return{restrict:"E",replace:!0,transclude:!0,template:function(e,t){var n=angular.element("<form enctype='multipart/form-data' class='file-uploader'></form>");n.attr("ng-submit",t.onupload),n.attr("name",t.model);var i=angular.element("<input type='file'>");i.attr("ng-disabled",t.disabled),i.attr("multiple",t.multiple),i.appendTo(n);var r=angular.element("<input type='submit' tabindex='-1'>");return r.attr("ng-disabled",t.disabled),r.appendTo(n),angular.element("<div ng-transclude class='content'></div>").appendTo(n),n.prop("outerHTML")},link:function(t,n,i){var r=n.find("input[type='file']");r.change(function(o){e(i.name)(t).$setPristine(),e(i.onFileChange)(t,{$files:o.target.files}),n.find("input[type='submit']").click(),r.prop("value","")})}}}])}(),angular.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(e,t,n){return{require:"?ngModel",link:function(i,r,o,s){function a(e,t){return t&&"function"==typeof t?function(n,i){e(n,i),t(n,i)}:e}var l,c={},u={receive:null,remove:null,start:null,stop:null,update:null};angular.extend(c,e),s?(i.$watch(o.ngModel+".length",function(){t(function(){r.data("ui-sortable")&&r.sortable("refresh")})}),u.start=function(e,t){t.item.sortable={index:t.item.index(),cancel:function(){t.item.sortable._isCanceled=!0},isCanceled:function(){return t.item.sortable._isCanceled},_isCanceled:!1}},u.activate=function(){l=r.contents();var e=r.sortable("option","placeholder");if(e&&e.element&&"function"==typeof e.element){var t=e.element();t.jquery||(t=angular.element(t));var n=r.find('[class="'+t.attr("class")+'"]');l=l.not(n)}},u.update=function(e,t){t.item.sortable.received||(t.item.sortable.dropindex=t.item.index(),t.item.sortable.droptarget=t.item.parent(),r.sortable("cancel")),"clone"===r.sortable("option","helper")&&(l=l.not(l.last())),l.appendTo(r),t.item.sortable.received&&!t.item.sortable.isCanceled()&&i.$apply(function(){s.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})},u.stop=function(e,t){!t.item.sortable.received&&"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()?i.$apply(function(){s.$modelValue.splice(t.item.sortable.dropindex,0,s.$modelValue.splice(t.item.sortable.index,1)[0])}):"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()||"clone"===r.sortable("option","helper")||l.appendTo(r)},u.receive=function(e,t){t.item.sortable.received=!0},u.remove=function(e,t){t.item.sortable.isCanceled()||i.$apply(function(){t.item.sortable.moved=s.$modelValue.splice(t.item.sortable.index,1)[0]})},i.$watch(o.uiSortable,function(e){r.data("ui-sortable")&&angular.forEach(e,function(e,t){u[t]&&("stop"===t&&(e=a(e,function(){i.$apply()})),e=a(u[t],e)),r.sortable("option",t,e)})},!0),angular.forEach(u,function(e,t){c[t]=a(e,c[t])})):n.info("ui.sortable: ngModel not provided!",r),r.sortable(c)}}}]),Bitrise.filter("sanitize",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),Bitrise.filter("mappedArrayWithFilter",["$filter",function(e){return function(t,n){return _.isArray(t)?_.map(t,function(t){return e(n)(t)}):null}}]),Bitrise.filter("errorMessage",function(){return function(e){return e.message}}),Bitrise.filter("commaSeparated",["StyleGenerator",function(e){return function(t){return e.separatedStringFromStrings(t,",")}}]),Bitrise.filter("ellipsed",["StyleGenerator",function(e){return function(t,n){return e.cropStringEllipsedToLength(t,n)}}]),Bitrise.filter("whitespaceSeparated",["StyleGenerator",function(e){return function(t){return e.separatedStringFromStrings(t," ")}}]),Bitrise.filter("appShorthand",["StyleGenerator",function(e){return function(t){return e.shorthandFromString(t)}}]),Bitrise.filter("appColor",["StyleGenerator",function(e){return function(t){return e.colorFromString(t)}}]),Bitrise.filter("timeAgoInWords",["StyleGenerator",function(e){return function(t){return e.timeAgoInWordsFromDate(t)}}]),Bitrise.filter("timeInWords",["StyleGenerator",function(e){return function(t){return e.timeInWordsFromDate(t)}}]),Bitrise.filter("durationInWords",["StyleGenerator",function(e){return function(t){return e.durationInWordsFromDuration(t)}}]),Bitrise.filter("shorten",["StyleGenerator",function(e){return function(t){return e.shortenText(t)}}]),Bitrise.filter("stackCssClass",["StyleGenerator",function(e){return function(t){return e.stackCssClassFromId(t)}}]),Bitrise.filter("projectTypeInfo",["App",function(e){return function(t){return e.infoForProjectType(t)}}]),Bitrise.filter("datetimeValue",["$filter",function(e){return function(t){if("string"==typeof t&&(t=new Date(t)),t&&t instanceof Date&&!isNaN(t.getTime()))return e("date")(t,"yyyy-MM-dd HH:mm:ss")}}]),Bitrise.filter("weekdayIndexToWeekday",["StyleGenerator",function(e){return function(t){if(null!==t&&t!==undefined&&!(t<0||t>=7))return e.weekdays[t]}}]),Bitrise.filter("weekdayIndexesToScheduleTimeText",["StyleGenerator",function(e){return function(t,n){if(null!==t&&t!==undefined){var i=_.sortBy(t,function(e){return e}),r="Today"==n,t=[0,1,2,3,4];if(_.isEqual(i,t))return r?"<strong>Today</strong><span> & every weekday ":"<span>Every weekday ";var o=[0,1,2,3,4,5,6];if(_.isEqual(i,o))return r?"<strong>Today</strong><span> & every day ":"<span>Every day ";var s=r?"<strong>Today</strong><span> & every ":"<span>Every ";return _.every(i,function(t,n){if(t<0||t>=7)return!1;var r=e.weekdays[t];return s=s.concat(r.substring(0,3)),s=n+1<i.length?s.concat(", "):s.concat("</span>"),!0}),s}}}]),Bitrise.filter("datetimeDurationValue",function(){return function(e){if(null!==e&&e!==undefined)return"PT"+(e=parseInt(e))+"S"}}),Bitrise.filter("branchColor",["StyleGenerator",function(e){return function(t){return e.colorFromString(t)}}]),Bitrise.filter("binarySize",["StyleGenerator",function(e){return function(t){return e.binarySizeFromNumberOfBytes(t)}}]),Bitrise.filter("keyCount",function(){return function(e){if(e)return _.keys(e).length}}),Bitrise.filter("colorizedLog",["StyleGenerator",function(e){return function(t){return e.colorizedLog(t)}}]),Bitrise.filter("imageURL",["StyleGenerator",function(e){return function(t){return e.backgroundImagePropertyValueFromURL(t)}}]),Bitrise.filter("price",["StyleGenerator",function(e){return function(t,n){return e.formattedPrice(t,undefined,n)}}]),Bitrise.filter("discount",["StyleGenerator",function(e){return function(t){return e.formattedDiscountForCoupon(t)}}]),Bitrise.filter("pluralizeWithCount",["StyleGenerator",function(e){return function(t,n){return e.pluralizeWordWithCount(t,n)}}]),Bitrise.filter("providerName",["StyleGenerator",function(e){return function(t,n){return e.nameForProvider(t,n)}}]),Bitrise.filter("providerCSSClass",["StyleGenerator",function(e){return function(t){return e.cssClassForProvider(t)}}]),Bitrise.filter("onlyUsers",function(){return function(e){return _.filter(e,function(e){return e instanceof User})}}),Bitrise.filter("groupColor",["StyleGenerator",function(e){return function(t){var n;return t&&(n=t.name),e.colorFromString(n)}}]),Bitrise.filter("stepIconURL",["$filter",function(e){return function(t){return t||(t="//d3chom3u32d3mw.cloudfront.net/assets/workflow/step-default-b13aafb8875626a810ca63b8d7007bbd94d97d36acc9fd4b0dd0f6e7717b3687.png"),e("imageURL")(t)}}]),Bitrise.filter("avatarURL",["StyleGenerator",function(e){return function(t){var n;if(t&&!(n=t.avatarURL))switch(t.accountType){case"Organization":n="https://bitrise-public-content-production.s3.amazonaws.com/org-icons/avatar-default.png";break;case"User":default:n="https://bitrise-public-content-production.s3.amazonaws.com/user-icons/avatar-default.png"}return e.backgroundImagePropertyValueFromURL(n)}}]),Bitrise.filter("isMatching",function(){return function(e,t){return!t||0==t.length||!(!e||0==e.length)&&-1!=e.toLowerCase().indexOf(t.toLowerCase())}}),Bitrise.filter("arrayWithSize",["StyleGenerator",function(){return function(e){return _.range(e)}}]),Bitrise.filter("escapeHyphens",function(){return function(e){if(e&&0!=e.length)return e.replace(/-/g,"&#8209;")}}),function(){"use strict";Bitrise.controller("AccountBillingController",["$scope","$q","$timeout","http","routeService","DateService","UIHelper","Progress","Coupon","Plan",function(e,t,n,i,r,o,s,a,l){function c(){e.couponProgress.start("Loading coupon data, wait a sec..."),l.getRedeemed(e.account,{timeout:d}).then(function(t){e.coupon=t,e.couponProgress.success()},function(t){t.message="Error loading coupon, click here to try again",e.couponProgress.error(t,c)})}function u(){e.loadInvoicesProgress.start("Loading invoices, wait a sec...");var t=r.invoicesPath(e.account);i.get(t,{timeout:d.promise}).then(function(t){e.invoices=_.map(t,function(e){return{date:e.created_at,invoiceNumber:e.invoice_number}}),e.loadInvoicesProgress.success()},function(t){t.message="Error loading invoices, click here to try again.",e.loadInvoicesProgress.error(t,u)})}var d=t.defer(),h={email:{required:"billing manager email not specified"}};e.account=r.getAccountFromCurrentPath(),e.creditCardPartialPath=r.creditCardPartialPath(e.account),e.removeCouponRedemptionProgress=new a,e.selectedPlan,e.hasTrial,e.creditCardPartial={loadProgress:new a,creditCard:undefined,isEditMode:undefined,isHighlighted:!1},e.billingManagerProgress=new a,e.billingManagerFormData={email:""},e.isBillingManagerEditMode=!1,e.coupon,e.couponCodeToRedeem="",e.couponProgress=new a,e.loadInvoicesProgress=new a,e.invoices,e.init=function(){e.creditCardPartial.loadProgress.start("Loading credit card, wait a sec..."),"Organization"==e.account.accountType&&e.billingManagerProgress.start("Loading billing manager, wait a sec..."),c(),u(),e.$on("ctrl::AccountBillingController::highlightAndEditCreditCard",function(){e.creditCardPartial.isHighlighted=!0,e.creditCardPartial.isEditMode=!0,s.scrollToTopOfElement(document.getElementById("account-billing-credit-card-section")),n(function(){e.creditCardPartial.isHighlighted=!1},3e3),e.editCreditCard()})},e.$on("$destroy",function(){d.resolve()}),e.downloadInvoicePathOfInvoice=function(t){return r.downloadInvoicePath(e.account,t)},e.creditCardPartialLoaded=function(){e.$on("ctrl::CreditCardCtrl::loadCreditCardFinishedWithSuccess",function(t,n,i){e.creditCardPartial.creditCard=n,"Organization"==e.account.accountType&&(e.account.billingEmail=i,e.billingManagerFormData.email=e.account.billingEmail,e.billingManagerProgress.success())}),e.$on("ctrl::CreditCardCtrl::loadCreditCardFinishedWithError",function(){"Organization"==e.account.accountType&&e.billingManagerProgress.error(new Error("Error loading billing manager."))}),e.$on("ctrl::CreditCardCtrl::creditCardEditModeToggled",function(t,n){e.creditCardPartial.isEditMode=n}),e.$on("ctrl::CreditCardCtrl::saveCreditCardFinishedWithSuccess",function(){e.$broadcast("ctrl::CreditCardCtrl::toggleCreditCardEditMode",!1),e.$broadcast("ctrl::CreditCardCtrl::loadCreditCard"),e.$broadcast("ctrl::PlanChangeController::creditCardSet")}),e.$broadcast("ctrl::CreditCardCtrl::configureWithParameters",{loadCreditCardInProgressMessage:e.creditCardPartial.loadProgress.statusMessage,account:e.account}),e.$broadcast("ctrl::CreditCardCtrl::loadCreditCard"),e.creditCardPartial.loadProgress.success()},e.editCreditCard=function(){e.$broadcast("ctrl::CreditCardCtrl::toggleCreditCardEditMode",!0)},e.toggleBillingManagerEditMode=function(t){e.isBillingManagerEditMode=t,e.billingManagerProgress.reset(),t||(e.billingManagerFormData.email=e.account.billingEmail)},e.saveBillingManager=function(){if(!e.billingManagerForm.$valid){var t=StyleGenerator.errorMessageForFormModel(e.billingManagerForm,h,"Billing manager data invalid or not fully specified.");return void e.billingManagerProgress.error(new Error(t))}e.billingManagerProgress.start("Saving billing manager, wait a sec..."),i.put(r.settingsPath(e.account),{email:e.billingManagerFormData.email},{timeout:d},"Error saving billing manager").then(function(){e.account.billingEmail=e.billingManagerFormData.email,e.billingManagerProgress.success(),e.isBillingManagerEditMode=!1},function(t){e.billingManagerProgress.error(t)})},e.redeemCoupon=function(){e.couponProgress.start("Redeeming coupon, wait a sec..."),l.submit(e.couponCodeToRedeem,e.account,{timeout:d.promise}).then(function(){e.couponProgress.success(),c(),e.$broadcast("AccountBillingController::couponRedeemed")},function(t){e.couponProgress.error(t)})},e.removeCouponRedemption=function(){e.removeCouponRedemptionProgress.start("Removing coupon, wait a sec..."),l["delete"](e.coupon.code,e.account,{timeout:d.promise}).then(function(){e.removeCouponRedemptionProgress.success(),e.$broadcast("AccountBillingController::couponRemoved"),c()},function(t){e.removeCouponRedemptionProgress.error(t)})}}])}(),function(){"use strict";Bitrise.controller("AccountOverviewController",["$scope","$rootScope","$q","http","routeService","Progress",function(e,t,n,i,r,o){function s(){e.loadStatusAndLimitsProgress.start("Loading user status and plan limits, wait a sec...");var t=r.statusLimitsPath(e.account);i.get(t,{timeout:a.promise}).then(function(t){e.status.runningBuildCount=t.status.running_build_count,e.status.onHoldBuildCount=t.status.on_hold_build_count,e.status.monthlyBuildCount=t.status.monthly_build_count,e.status.teamMemberCount=t.status.team_member_count,e.status.isProPlanSelected=t.status.is_pro_plan_selected,e.limits.buildDurationInSeconds=t.limits.build_duration_seconds,e.limits.concurrentBuildCount=t.limits.concurrent_build_count,e.limits.monthlyBuildCount=t.limits.monthly_build_count,e.limits.teamMemberCount=t.limits.team_member_count,e.loadStatusAndLimitsProgress.success()},function(t){t.message="Error loading status and plan limits, click here to try again",e.loadStatusAndLimitsProgress.error(t,s)})}var a=n.defer();e.account=r.getAccountFromCurrentPath(),e.loadStatusAndLimitsProgress=new o,e.status={runningBuildCount:undefined,onHoldBuildCount:undefined,monthlyBuildCount:undefined,teamMemberCount:undefined,isProPlanSelected:undefined},e.limits={buildDurationInSeconds:undefined,concurrentBuildCount:undefined,monthlyBuildCount:undefined,teamMemberCount:undefined},e.loadActivitesProgress=new o,e.init=function(){s()},e.$on("$destroy",function(){a.resolve()}),e.activityPartialLoaded=function(){e.$broadcast("ActivityListController::configure",{delegate:self,activitiesPerPage:4,loadActivitiesProgress:e.loadActivitesProgress})},e.moreTimeNeededSelected=function(){switch(e.account.accountType){case"User":t.$emit("UserSettingsController::menuSelected","billing");break;case"Organization":t.$emit("OrganizationSettingsController::menuSelected","billing")}}}])}(),function(){"use strict";angular.module("Bitrise").controller("AccountSelectorController",["$rootScope","$scope","http","routeService","stringService","PopupV4","Progress","User","Organization",function(e,t,n,i,r,o,s,a,l){function c(e){u.loadAccountsProgress.start("Loading accounts, wait a sec...");var t=i.userAccountsPath(new a,e);n.get(t).then(function(e){u.accounts=_.map(e.accounts,function(e){switch(e.account_type){case"User":var t=new a(e.username);return t.email=e.email,t.avatarURL=e.avatar_url,t;case"Organization":var n=new l(e.slug);return n.name=e.name,n.email=e.email,n.avatarURL=e.avatar_url,n}}),u.loadAccountsProgress.success()},function(e){u.loadAccountsProgress.error(e.message)})}var u=this;t.routeService=i,u.accountSelectorPopup=new o,u.headerText,u.loadAccountsProgress=new s,u.accounts,u.currentAccount,u.filter="";var d,h;u.shouldShowCreateOrganization,e.$on("AccountSelectorController::showWithParameters",function(e,t){u.headerText=t.headerText!==undefined?t.headerText:"Account selector",t.accounts?(u.accounts=t.accounts,u.currentAccount=t.currentAccount):c(t.currentAccountSlug),d=t.selectCallback,h=t.shouldDismissAfterSelectCallback!==undefined&&t.shouldDismissAfterSelectCallback,u.shouldShowCreateOrganization=t.shouldShowCreateOrganization===undefined||t.shouldShowCreateOrganization,u.accountSelectorPopup.isVisible=!0}),u.createOrganizationText=function(){var e=i.settingsPath(new a,{anchor:i.createOrganizationAnchor()});return r.stringReplacedWithParameters("...Or if you would like to create an organization, ",{url:e})},u.createOrganizationSelected=function(){window.location=i.settingsPath(new a,{anchor:i.createOrganizationAnchor()}),"function"==typeof h&&(h=h(new a)),h&&(u.accountSelectorPopup.isVisible=!1)},u.accountSelected=function(e){d(e),"function"==typeof h&&(h=h(e)),h&&(u.accountSelectorPopup.isVisible=!1)}}]).service("accountSelectorService",["$rootScope",function(e){var t={};return t.showWithParameters=function(t){e.$emit("AccountSelectorController::showWithParameters",t)},t}])}(),function(){"use strict";Bitrise.controller("ActivityCtrl",["$scope","$http","$timeout","Pagination","Progress",function(e,t,n,i,r){function o(){e.loadActivityEventsProgress.start("Loading activities, hang tight for a sec..."),a&&(n.cancel(a),a=null);var i={is_for_dropdown_menu:l,page:e.selectedPage};return l&&(i.per_page=6),t.get("/activity.json",{params:i}).then(function(t){l||e.activityPagination.configureWithPageDatas(t.data.pages,e.selectedPage),e.activityEvents=t.data.activity_events,1==e.selectedPage&&(a=n(o,1e3*s)),e.loadActivityEventsProgress.success()},function(t){var n=l?"Failed to load activities. Try again later.":"Failed to load activities list. Click here to try again.";throw e.loadActivityEventsProgress.error(new Error(n),l?undefined:e.reloadActivityEvents),t})}var s=5,a=null,l=!1;e.activityEvents=null,e.loadActivityEventsProgress=new r,e.init=function(t){l=t,l?e.$on("ActivityCtrl::loadActivityEvents",function(){o()}):(e.selectedPage=1,e.activityPagination=new i,o())},e.reloadActivityEvents=function(){e.activityEvents=null,o()},e.pageSelected=function(t){e.selectedPage=t,o(),window.scrollTo(0,0)},e.isTeamActivityEvent=function(e){return e.title.indexOf("ember")>-1},e.isAbortActivityEvent=function(e){return e.title.indexOf("aborted")>-1},e.classForActivityEvent=function(t){return t.title.indexOf("triggered")>-1?"buildtriggered":t.title.indexOf("started")>-1?"buildstarted":e.isAbortActivityEvent(t)?"aborted":t.title.indexOf("finished")>-1?"buildfinished":t.title.indexOf("failed")>-1?"buildfailed":t.title.indexOf("limit reached")>-1?"limitreached":t.title.indexOf("removed")>-1||t.title.indexOf("eleted")>-1?"removed":t.title.indexOf("added")>-1?"teammemberadded":t.title.indexOf("change")>-1?"teammemberchanged":null}}])}(),function(){"use strict";Bitrise.controller("ActivityListController",["$scope","$q","$http","DateService","Progress","Activity","App",function(e,t,n,i,r,o,s){function a(){e.loadActivitiesProgress.start("Loading activities, wait a sec...");var t={};c&&(t.per_page=c),n.get("/activity.json",{timeout:u.promise,params:t}).then(function(t){e.activities=_.map(t.data.activity_events,function(e){var t=new o;return t.title=e.title,t.description=e.description,t.targetURL=e.target_path_string,t.date=i.dateFromString(e.created_at),e.repository_title&&(t.app=new s,t.app.title=e.repository_title),t}),e.loadActivitiesProgress.success()},function(t){t&&e.loadActivitiesProgress.error(new Error(t.data.error_msg))})}var l,c,u=t.defer();e.loadActivitiesProgress,e.activities,e.init=function(){e.$on("ActivityListController::configure",function(t,n){l=n.delegate,c=n.activitiesPerPage,e.loadActivitiesProgress=n.loadActivitiesProgress?n.loadActivitiesProgress:new r,a()})}}])}(),function(){"use strict";Bitrise.controller("AppBaseSettingsController",["$scope","$q","http","routeService","Repository","StyleGenerator","Progress","PopupV4",function(e,t,n,i,r,o,s,a){function l(){e.fetchAppSettingsProgress.start("Fetching app settings, wait a sec..."),e.theRepository.fetch({timeout:v.promise},"Error while fetching app settings.").then(function(){e.appSettingsFormData.appTitle=e.theRepository.title,e.appSettingsFormData.repoUrl=e.theRepository.repository_url,e.appSettingsFormData.branchName=e.theRepository.default_branch,e.isGitCloneURLHTTP="http"==e.theRepository.repository_url.slice(0,4),e.loadCachedItems(),e.fetchAppSettingsProgress.success()},function(t){e.fetchAppSettingsProgress.error(t)})}function c(n,i){return t(function(t,r){e.theRepository.changeAndSaveProperty(n,i).then(function(){e.appSettingsForm.$setUntouched(),e.appSettingsForm.$setPristine(),t()},function(e){r(e)})})}function u(){e.getDisabledStatusProgress.start("Loading status of this project, wait a sec...");var t=i.appIsDisabledPath(e.theRepository);n.get(t,undefined,{timeout:v.promise},"Error loading status of this project.").then(function(t){m=!t.is_disabled,e.getDisabledStatusProgress.success()},function(t){e.getDisabledStatusProgress.error(t)})}function d(t){e.setDisabledStatusProgress.start("Saving project status, wait a sec...");var r=i.appIsDisabledPath(e.theRepository),o={is_disabled:t};n.post(r,o,{timeout:v.promise},"Error while saving project status.").then(function(){m=!t,location.reload()},function(t){e.setDisabledStatusProgress.error(t)})}function h(){e.loadBitriseSupportUserAccessToAppProgress.start("Loading Bitrise Support user status for this app, wait a sec...");var t=i.bitriseSupportUserPath(e.theRepository);n.get(t,undefined,{timeout:v.promise},"Error loading Bitrise Support user status for this app.").then(function(t){g=t.enabled_bitrise_support_user,e.loadBitriseSupportUserAccessToAppProgress.success()},function(t){e.loadBitriseSupportUserAccessToAppProgress.error(t)})}function p(){e.changeBitriseSupportUserAccessToAppProgress.start("Enabling Bitrise Support user for this app, wait a sec...");var t=i.bitriseSupportUserPath(e.theRepository);n.post(t,undefined,{timeout:v.promise},"Error enabling Bitrise Support user for this app.").then(function(){g=!0,e.changeBitriseSupportUserAccessToAppProgress.success()},function(t){e.changeBitriseSupportUserAccessToAppProgress.error(t)})}function f(){e.changeBitriseSupportUserAccessToAppProgress.start("Disabling access of Bitrise Support user for this app, wait a sec...");var t=i.bitriseSupportUserPath(e.theRepository);n["delete"](t,undefined,{timeout:v.promise},"Error disabling Bitrise Support user for this app.").then(function(){g=!1,e.changeBitriseSupportUserAccessToAppProgress.success()},function(t){e.changeBitriseSupportUserAccessToAppProgress.error(t)})}var g,m,v=t.defer(),y={appTitle:{required:"invalid application title"},repoUrl:{required:"invalid repository url"},branchName:{required:"invalid default branch name"}};e.isGitCloneURLHTTP,e.cachedItems,e.appSettingsForm,e.appSettingsFormData={appTitle:"",repoUrl:"",branchName:""},e.setDisabledStatusProgress=new s,e.getDisabledStatusProgress=new s,e.loadBitriseSupportUserAccessToAppProgress=new s,e.changeBitriseSupportUserAccessToAppProgress=new s,e.updateProgress=new s,e.fetchAppSettingsProgress=new s,e.deleteAppProgress=new s,e.loadCachedItemsProgress=new s,e.deleteCachedItemProgress=new s,e.confirmAppDeletePopup=new a,e.deleteCachePopup=new a,e.$on("$destroy",function(){v.resolve()}),e.init=function(t){e.repository_slug=t,e.theRepository=new r({slug:t}),u(),h(),l()},e.update=function(){if(e.updateProgress.start("Updating app settings, wait a sec..."),!e.appSettingsForm.$valid){var t=o.errorMessageForFormModel(e.appSettingsForm,y,"The data is invalid or not fully specified.");return void e.updateProgress.error(new Error(t))}var n=[e.appSettingsForm.appTitle,e.appSettingsForm.repoUrl,e.appSettingsForm.branchName],i=[e.appSettingsFormData.appTitle,e.appSettingsFormData.repoUrl,e.appSettingsFormData.branchName],r=["title","repository_url","default_branch"],s=0,a=0,l=!1;_.each(n,function(t,n){t.$pristine||(s++,"appTitle"==t.$name&&(l=!0),c(r[n],i[n]).then(function(){a++,"repository_url"==r[n]&&(e.isGitCloneURLHTTP="http"==e.appSettingsFormData.repoUrl.slice(0,4)),a==s&&e.updateProgress.success()},function(t){e.updateProgress.error(t)}))}),l&&location.reload()},e.deleteApp=function(t){e.deleteAppProgress.start("The App is being deleted...");var i="/app/"+t.slug+"/destroy.json";n["delete"](i,{timeout:v.promise},"Woops... Error deleting app.").then(function(){window.location="/dashboard"},function(t){e.deleteAppProgress.error(t)})},e.loadCachedItems=function(){e.loadCachedItemsProgress.start("Loading cached items, wait a sec..."),e.deleteCachedItemProgress.reset();var t="/app/"+e.theRepository.slug+"/build-caches.json";n.get(t,{timeout:v.promise},"Error loading cached items.").then(function(t){e.cachedItems=[],_.each(t,function(t){var n={branchName:t.the_cache_item_key,fileSizeBytes:t.file_size_bytes,createdAt:t.created_at,lastUse:t.updated_at,downloadURL:i.cacheItemDownloadPath(e.theRepository,t)};e.cachedItems.push(n)}),e.loadCachedItemsProgress.success()},function(t){e.loadCachedItemsProgress.error(t)})},e.deleteCachedItem=function(t){e.deleteCachedItemProgress.start("Deleting cached item, wait a sec...");var i="/app/"+e.theRepository.slug+"/build-cache.json?cache_item_key="+t;n["delete"](i,{timeout:v.promise},"Error deleting cached item.").then(function(){e.loadCachedItems(),e.deleteCachedItemProgress.success()},function(t){e.deleteCachedItemProgress.error(t)})},e.deleteAllCachedItems=function(){e.deleteCachedItemProgress.start("Deleting cached items, wait a sec...");var t="/app/"+e.theRepository.slug+"/build-caches.json";n["delete"](t,{timeout:v.promise},"Error deleting cached items.").then(function(){e.loadCachedItems(),e.deleteCachedItemProgress.success()},function(t){e.deleteCachedItemProgress.error(t)})},e.projectStatusGetterSetter=function(e){if(e===undefined)return m;e?d(!1):a.confirm("Are you sure you want to disable this project?",undefined,undefined,undefined,!0,"error").then(function(){d(!0)})},e.bitriseSupportUserAccessStatusGetterSetter=function(e){if(e===undefined)return g;e?p():f()}}])}(),function(){"use strict";Bitrise.controller("AppCodeSettingsController",["$scope","$q","http","Progress","PopupV4",function(e,t,n,i,r){function o(){e.loadWebhookServicesProgress.start("Loading webhook services, wait a sec..."),n.get("/hooks/available_services.json",{timeout:a.promise},"Error loading Webhook services.").then(function(t){e.webhookServices=_.map(t.services,function(n){return{id:n.service_id,providerId:n.provider_id,name:n.title,webhookURL:function(){return t.hook_server_root_url+"/h/"+n.service_id+"/"+e.appSlug+"/"+e.apiToken},setupGuideURL:n.setup_guide_url}}),e.selectedWebhookService=_.find(e.webhookServices,function(e){return e.providerId==s}),e.loadWebhookServicesProgress.success()},function(t){e.loadWebhookServicesProgress.error(t)})}var s,a=t.defer();e.appSlug=null,e.apiToken=null,e.selectedWebhookService=null,e.loadWebhookServicesProgress=new i,e.regenerateAPITokenProgress=new i,e.confirmAPIRegeneratePopup=new r,e.$on("$destroy",function(){a.resolve()}),e.init=function(t,n,i){e.appSlug=t,s=i,e.apiToken=n,o()},e.regenerateAPIToken=function(){e.regenerateAPITokenProgress.start("Regenerating API token, wait a sec...");var t="/app/"+e.appSlug+"/regenerate_api_token.json";n.post(t,undefined,{timeout:a.promise},"Error regenerating API token, click here to try again").then(function(){location.reload()},function(t){e.regenerateAPITokenProgress.error(t)})}}])}(),function(){"use strict";Bitrise.controller("AppFilesController",["$scope","$q",function(e,t){var n=this,i=t.defer(),r={on:{configureWithParameters:"ctrl::AppFilesController::configureWithParameters"}};n.platformType,n.supportedPlatformsByStack,e.init=function(){e.$on(r.on.configureWithParameters,function(t,i){i.supportedPlatform&&i.supportedPlatformsByStack&&(n.platformType=i.supportedPlatform,n.supportedPlatformsByStack=i.supportedPlatformsByStack,e.$broadcast("ctrl::ProjectFileStorageDocumentUploadCtrl::updatePlatformType",i.supportedPlatform,i.supportedPlatformsByStack))})},e.$on("$destroy",function(){i.resolve()})}])}(),function(){"use strict";Bitrise.controller("AppStackSettingsController",["$scope","$q","http","routeService","Stack","Progress","StyleGenerator",function(e,t,n,i,r,o){function s(){return e.loadProjectTypeProgress.start("Loading app's project type, wait a sec..."),c.getProjectType({timeout:d.promise}).then(function(t){e.savedProjectType=t,e.loadProjectTypeProgress.success()},function(t){e.loadProjectTypeProgress.error(t)})}function a(){e.loadStacksProgress.start("Loading stacks, wait a sec...");var t="/app/"+c.slug+"/all_stack_info.json";return n.get(t,{timeout:d.promise},"Error loading stacks.").then(function(t){e.availableProjectTypes=_.filter(_.keys(t.project_types_with_default_stacks),function(e){return!e.startsWith("_")}),u=_.map(t.available_stacks,function(e,t){var n=new r(t);return n.title=e.title,n.description=e.description,n.projectTypes=e["project-types"],n.descriptionURL=e["description-link"],n.queueInfos.preBooted=e["queue-info"]["pre-booted"]!=undefined,n.queueInfos.onDemand=e["queue-info"]["on-demand"]!=undefined,n.dockerImageName=undefined,n}),e.loadStacksProgress.success()},function(t){e.loadStacksProgress.error(t)})}function l(){e.loadSavedStackProgress.start("Loading current stack, wait a sec...");var t="/app/"+c.slug+"/stack.json";n.get(t,{timeout:d.promise},"Error loading current stack").then(function(t){e.selectedStack=_.find(e.filteredStacks,function(e){return e.id==t.stack_identifier}),e.selectedStack&&("linux-docker-android"==e.selectedStack.id&&(e.selectedStack.dockerImageName=t.docker_image_name),e.savedStack=angular.copy(e.selectedStack)),e.loadSavedStackProgress.success()},function(t){e.loadSavedStackProgress.error(t)})}var c,u,d=t.defer();e.saveStackProgress=new o,e.loadStacksProgress=new o,e.loadSavedStackProgress=new o,e.loadProjectTypeProgress=new o,e.saveProjectTypeProgress=new o,e.selectedStack,e.savedStack,e.selectedProjectType,e.savedProjectType,e.availableProjectTypes,e.$on("$destroy",function(){d.resolve()}),e.init=function(){c=i.getAppFromCurrentPath(),t.all([s(),a()]).then(function(){e.selectedProjectType=e.savedProjectType,e.filterStacks()})},e.filterStacks=function(){"other"==e.selectedProjectType?e.filteredStacks=u:e.filteredStacks=_.filter(u,function(t){return _.contains(t.projectTypes,e.selectedProjectType)||e.savedStack&&t.id==e.savedStack.id&&!_.contains(t.projectTypes,e.selectedProjectType)}),l()},e.selectedStackChanged=function(){_.isNull(e.selectedStack)||_.isUndefined(e.selectedStack)||"linux-docker-android"!=e.selectedStack.id||(e.selectedStack.id!=e.savedStack.id?e.selectedStack.dockerImageName="":e.selectedStack.dockerImageName=e.saveStack.dockerImageName)},e.saveProjectType=function(){e.saveProjectTypeProgress.start("Saving project type, wait a sec..."),c.saveProjectType(e.selectedProjectType,{timeout:d.promise}).then(function(){e.savedProjectType=e.selectedProjectType,e.saveProjectTypeProgress.success()},function(t){e.saveProjectTypeProgress.error(t)})},e.saveStack=function(){e.saveStackProgress.start("Saving stack, wait a sec...");var t="/app/"+c.slug+"/stack.json",i={stack_identifier:e.selectedStack.id};e.selectedStack.dockerImageName!==undefined&&(i.docker_image_name=e.selectedStack.dockerImageName),n.post(t,i,{timeout:d.promise},"Failed to save stack").then(function(){e.saveStackProgress.success(),a(),l(),e.$emit("AppStackSettingsController::saveStack",e.selectedStack.id)},function(t){e.saveStackProgress.error(t)})}}])}(),function(){"use strict";Bitrise.controller("AppsCtrl",["$scope","$http","$q","$timeout","$location","DateService","StyleGenerator","Progress","PopupV4","App","Build","User","Organization","Stack","Popover",function(e,t,n,i,r,o,s,a,l,c,u,d,h,p,f){var g=null;e.appPopoverDatas={},e.apps=null,e.nextLoadAppCount=null,e.titleFilter="",e.appToDelete=null,e.confirmAppToDelete=null,e.StyleGenerator=s,e.loadMoreAppsProgress=new a,e.deleteAppProgress=new a,e.confirmAppDeletePopup=new l,e.addPopover=new f("bottom"),e.init=function(){e.loadApps()},e.loadApps=function(){e.apps=[],e.loadMoreApps()},e.loadMoreApps=function(){g&&g.resolve("Load more apps cancelled by another app load request"),g=n.defer(),
e.loadMoreAppsProgress.start("Loading apps, hang tight for a sec...");var i={current_app_count:e.apps?e.apps.length:0,title_filter:e.titleFilter},r="Woops... Error loading apps, click here to try again.";return t.get("/apps.json",{params:i,timeout:g.promise}).then(function(t){g=null;var n=[];if(!_.every(t.data.repositories,function(t){var i=new c(t.slug);if(t.last_running_build_or_last_build_build_status!==undefined){var r=new u;r.triggeredAt=o.dateFromString(t.last_running_build_or_last_build_triggered_at),r.startedAt=o.dateFromString(t.last_running_build_or_last_build_started_at),r.environmentPrepareStartedAt=o.dateFromString(t.last_running_build_or_last_build_environment_prepare_started_at),r.environmentPreparedAt=o.dateFromString(t.last_running_build_or_last_build_environment_prepared_at),r.finishedAt=o.dateFromString(t.last_running_build_or_last_build_finished_at),r.status=t.last_running_build_or_last_build_build_status,r.isOnHold=t.last_running_build_or_last_build_is_on_hold,r.buildNumber=t.last_running_build_or_last_build_build_number,i.representativeBuild=r}else i.representativeBuild=null;return"User"==t.owner_type?i.owner=new d:(i.owner=new h,i.owner.name=t.owner_display_name),i.title=t.title,i.canCurrentUserDestroy=t.is_current_user_can_destroy,i.teamMemberCount=t.team_member_count,i.stack=new p(t.stack_identifier),i.stack.title=t.stack_data.title,i.stack.descriptionURL=t.stack_data.description_url,i.projectType=t.project_type,i.isValidated=1==t.status,e.appPopoverDatas[i.slug]||(e.appPopoverDatas[i.slug]={popover:new f("right")}),e.appPopoverDatas[i.slug].hint="<b>Selected project type:</b> <i>"+i.projectType+"</i><p><b>Selected stack:</b> <i>"+i.stack.title+"</i><p> You can select the Stack and Project type on the <b>Settings</b> tab of the app.</p><p>For more information about this stack <a href='"+i.stack.descriptionURL+"' target='_blank' tabindex='-1'>click here</a></p></p>",n.push(i),!0}))return e.loadMoreAppsProgress.error(new Error(r),e.loadApps),void(e.apps=[]);e.apps=e.apps.concat(n),e.nextLoadAppCount=t.data.next_load_app_count,e.loadMoreAppsProgress.success()},function(t){t&&t.data&&e.loadMoreAppsProgress.error(new Error(r),e.loadApps)})},e.appSelectedToDelete=function(t,n){n.preventDefault(),e.appToDelete=t,e.confirmAppDeletePopup.afterDismissCallback=function(){e.appToDelete=null},e.confirmAppDeletePopup.isVisible=!0},e.deleteApp=function(n){g&&g.resolve("Load more apps cancelled by app delete"),e.deleteAppProgress.start("The App is being deleted...");var i="/app/"+n.slug+"/destroy.json";return t["delete"](i).then(function(){e.deleteAppProgress.success(),e.confirmAppDeletePopup.isVisible=!1,e.confirmAppToDelete="",e.titleFilter="",e.loadApps()},function(){e.deleteAppProgress.error(new Error("Woops... Error deleting app."))})}}])}(),function(){"use strict";Bitrise.controller("BadgeConfigCtrl",["$scope","$rootScope","$http","PopupV3",function(e,t,n,i){function r(){e.badgeConfig={branch:l,badgeType:e.badgeTypes[0]}}var o=null,s=null,a=null,l=null;e.badgeTypes=["Image URL","Markdown"],e.badgeConfig=null,e.badgeConfigPopup=new i("popup-badge-config",e),e.init=function(n,i,c,u){o=n,s=i,a=c,l=u,e.badgeConfigPopup.setAppearFunction(r),t.$on("BadgeConfigCtrl::badgeConfigPopup#setIsVisible",function(){e.badgeConfigPopup.setIsVisible(!0)})},t.badgeImageURL=function(){var t=o+"/app/"+s,n=t+"/status.svg?token="+a;return e.badgeConfig&&e.badgeConfig.branch.length>0&&(n+="&branch="+e.badgeConfig.branch),n},e.badgeURL=function(){var t=o+"/app/"+s,n=e.badgeImageURL();return e.badgeConfig&&e.badgeConfig.badgeType==e.badgeTypes[1]?"[![Build Status]("+n+")]("+t+")":n}}])}(),function(){"use strict";Bitrise.controller("BuildArtifactsCtrl",["$scope","workflowEditorService","$http","$timeout","$sce","Build","PopupV3","TestDevice","Progress","File","BuildArtifact","App",function(e,t,n,i,r,o,s,a,l,c,u,d){function h(){v.fetchDetails().then(function(){if(e.isBuildStatusChecked=!0,v.status<1)return void i(h,1e4);e.isBuildFinished=!0,p().then(function(){_.each(e.buildArtifacts,function(t){t.calculateTestUsersByDeviceIds(y),t.file=new c,t.file.configureWithFullFilename(t.title),t.fileContentIsVisible=!1,e.loadBuildArtifactContentProgresses[t.id]=new l}),e.isBuildArtifactsChecked=!0})},function(e){console.log(" -> error: ",e)})}function p(){return u.fetchAllBuildArtifactsOfBuild(v.slug).then(function(t){return e.buildArtifacts=t,t})}function f(t){var i=t.download_url;e.loadBuildArtifactContentProgresses[t.id].start("Loading build artifact file content, wait a sec..."),n.get(i).then(function(n){if(t.fileContent=n.data,"html"===t.file.extension){var i=new Blob([t.fileContent],{type:"text/html"}),r=URL.createObjectURL(i);t.htmlFileURL=r}e.loadBuildArtifactContentProgresses[t.id].success()},function(){e.loadBuildArtifactContentProgresses[t.id].error(new Error("Failed to load build artifact file content!"))})}var g,m,v=null,y=null;e.distributionTypes={none:{title:"App Store",cssClass:"appstore",descriptionHTML:"The app was built for the iOS App Store, <b>you can't install it on any device</b>, but you can download the App's .ipa and upload it into the App Store."},limited:{title:"Development",cssClass:"development",descriptionHTML:"The app was signed with a Development Provisioning Profile which means that it <b>can only be installed on devices which are included in the Provisioning Profile</b> - listed in the <b>Who can install this app?</b> section."},unlimited:{title:"Enterprise",cssClass:"enterprise",descriptionHTML:"The app was signed with an Enterprise Provisioning Profile and so it <b>can be installed by anyone</b>."},adhoc:{title:"Ad Hoc",cssClass:"ad-hoc",descriptionHTML:"The app was signed with an Ad Hoc Provisioning Profile which means that it <b>can only be installed on devices which are included in the Provisioning Profile</b> - listed in the <b>Who can install this app?</b> section."}},e.isBuildStatusChecked=!1,e.isBuildFinished=!1,e.isBuildArtifactsChecked=!1,e.buildArtifacts=null,e.showUdidPopup=new s("popup-udid",e),e.alertPopup=new s("popup-alert",e),e.loadBuildArtifactContentProgresses=[],e.selectedInstallUrl=null,e.init=function(e,t,n){g=new d(e),m=n,v=new o(t),a.fetchAllTestDevicesOfRepository(g.slug).then(function(e){y=e,h()})},e.aceLoaded=function(e){var t=e.getSession(),n=e.renderer;e.setTheme("ace/theme/monokai"),t.setMode("ace/mode/xml"),e.setReadOnly(!0),e.setShowPrintMargin(!1),e.setShowInvisibles(!1),e.$blockScrolling=Infinity,e.setOptions({vScrollBarAlwaysVisible:!0,tabSize:2}),e.focus(),e.gotoLine(1),t.setUndoManager(new ace.UndoManager),t.setUseWrapMode(!0),t.setUseSoftTabs(!0),n.setShowGutter(!0)},e.showUDIDs=function(t){var n=_.map(t,function(e){return e.title+": "+e.device_identifier});e.showUdidPopup.setupAlertPopup("UDID",n,"OK",function(){}).setIsVisible(!0)},e.startInstallOfArtifact=function(t){e.selectedInstallUrl=t.install_url,e.alertPopup.setIsVisible(!0)},e.sendLocalPendingNotificationsForArtifact=function(e,t,n){e.sendNotificationToLocalPendingLists(t,n).then(function(){},function(e){console.log("Outer: ",e),alert("Failed to send.")})},e.toggleIsPublicPageEnabled=function(e){e.toggleIsPublicPageEnabled().then(function(){},function(e){console.log("Outer: ",e),alert("Failed to send.")})},e.trustedResourcreURL=function(e){return r.trustAsResourceUrl(e)},e.toggleArtifactContentVisibility=function(e,t){e.fileContentIsVisible=!e.fileContentIsVisible,t&&f(e)},e.showWorkflowEditor=function(){t.show(g.slug,m,v.triggeredWorkflowId)}}])}(),function(){"use strict";Bitrise.controller("BuildCertificateUploadCtrl",["$scope","http","$q","$timeout","PopupV4","Progress","BuildCert",function(e,t,n,i,r,o,s){function a(r){u&&u.resolve("Load Build Certificates cancelled by another Build Certificate load request"),u=n.defer(),r&&(e.buildCertConfigs=undefined),e.loadBuildCertsProgress.start("Loading Build Certificates, wait a sec...");var d="/build_certificate/for_job/"+l+".json";t.get(d,{timeout:u.promise},"Failed to load Build Certificate!").then(function(t){u=null;var n=[];_.each(t.build_certificates,function(t){var i=_.find(e.buildCertConfigs,function(e){return e.buildCert.id==t.id});if(!i){var r=new s(t.id);r.password=t.certificate_password?t.certificate_password:"",r.expiringURL=t.expiring_url,i={buildCert:r,progress:new o,shouldShowPassword:!1,savedPassword:r.password}}i.buildCert.isProcessed=t.processed,n.push(i)}),e.buildCertConfigs=n,_.any(e.buildCertConfigs,function(e){return!e.buildCert.isProcessed})&&i(a,1e3*c),e.$emit("BuildCertificateUploadCtrl::buildCertsLoaded",_.map(e.buildCertConfigs,function(e){return e.buildCert})),e.loadBuildCertsProgress.success()},function(t){e.loadBuildCertsProgress.error(t),i(function(){a(!0)},1e3*c)})}var l,c=1,u=null;e.buildCertConfigs,e.isUploadMode=!1,e.loadBuildCertsProgress=new o;var d=this;d.buildCertUploader,d.buildCertsToUpload,d.uploadBuildCertsProgress=new o,e.init=function(t){l=t,e.$on("CodeSigningWizardController::codeSigningFilesUploaded",function(){a()}),a()},e.downloadBuildCert=function(t){var n=_.find(e.buildCertConfigs,function(e){return e.buildCert==t});n.progress.start("Wait a sec..."),t.download().then(function(){window.location=t.expiringURL,n.progress.success()},function(){window.location=t.expiringURL})},e.deleteBuildCert=function(t){r.confirm(undefined,"Are you sure you want to delete the <strong>"+t.displayName()+"</strong> Build Certificate?").then(function(){var n=_.find(e.buildCertConfigs,function(e){return e.buildCert==t});n.progress.start("Deleting Build Certificate, wait a sec..."),t["delete"]().then(function(){e.isUploadMode=!1,n.progress.success(),a(!0)},function(e){n.progress.error(e)})},function(){})},e.savePasswordOfBuildCert=function(t){var n=_.find(e.buildCertConfigs,function(e){return e.buildCert==t});n.progress.start("Saving password, wait a sec..."),t.savePassword().then(function(){n.savedPassword=t.password,n.progress.success()},function(e){n.progress.error(e)})},e.deleteAllBuildCerts=function(){r.confirm(undefined,"Are you sure you want to delete all build certificates attached to this app? This cannot be undone.").then(function(){e.loadBuildCertsProgress.start("Deleting, wait a sec...");var n="/build_certificate/for_job/"+l;t["delete"](n).then(function(){e.loadBuildCertsProgress.success(),a(!0)},function(t){e.loadBuildCertsProgress.error(t)})})},d.filesSelectedForUpload=function(e){0!=e.length&&(d.buildCertsToUpload=_.map(e,function(e){var t=new s;return t.name="",t.updateFile(e),t}))},d.uploadBuildCerts=function(){d.uploadBuildCertsProgress.start("Uploading, wait a sec...");var i=_.map(d.buildCertsToUpload,function(e){return n(function(n,i){if(!stringEndsWith(e.file.name,".p12",!1))return void i(new TypeError("Invalid file: extension should be .p12"));t.post("/build_certificate/"+l,{upload_file_name:e.file.name,upload_file_size:e.size()}).then(function(r){e.upload(r.upload_url).then(function(){t.post("/build_certificate/"+r.id+"/upload_ended",{success:!0}).then(n,function(e){i(e)})},function(){t.post("/build_certificate/"+r.id+"/upload_ended",{success:!1}).then(function(){i(new Error("Error during upload to storage!"))},function(){i(new Error("Error during upload to storage!"))})})},function(e){i(e)})})});n.all(i).then(function(){e.isUploadMode=!1,d.uploadBuildCertsProgress.success(),a(!0)},function(e){d.uploadBuildCertsProgress.error(e)})}}])}(),function(){"use strict";Bitrise.controller("BuildConfigCtrl",["$scope","$rootScope","$q","$http","http","DateService","PopupV3","Progress","Build","BuildSchedule","User",function(e,t,n,i,r,o,s,a,l,c,u){function d(){e.buildConfig={tag:"",branch:y,commit_hash:"",commit_message:"",workflow_id:null,environments:[]},e.isScheduleMode=!1,e.scheduleHour=null,e.scheduleMinute=null,_.each(e.scheduleWeekdayHashes,function(e,t){e.isScheduled=t<5}),p()}function h(){var t="/api/app/"+m+"/workflows.json";r.get(t,{timeout:g.promise},"Error loading workflow IDs").then(function(t){e.workflowOptions=_.map(t,function(e){return{id:e,title:e,group:e.startsWith("_")?"Utility workflows":"Workflows",disabled:e.startsWith("_")}}),e.isScheduleMode||(e.buildConfig.workflow_id=e.basedOnTriggerMapOption.id),e.buildConfigProgress.success()},function(t){e.buildConfigProgress.error(t)})}function p(){e.selectedEnvVar=null,e.editedEnvVar={mapped_to:"",value:"",is_expand:!0}}var f,g=n.defer(),m=null,v=null,y=null,b=null;e.buildConfig=null,e.editedEnvVar=null,e.isAdvancedMode=!1,e.canRunBuilds=!1,e.workflowOptions=null,e.basedOnTriggerMapOption={id:null,title:"Based on trigger map",group:"Workflows",disabled:!1},e.isScheduleMode=!1,e.editedSchedule,e.isScheduleEnabled,e.scheduleHour=null,e.scheduleMinute=null,e.scheduleWeekdayHashes=_.map(_.range(7),function(e){return{weekdayIndex:e,isScheduled:!1}}),e.buildConfigProgress=new a,e.buildConfigPopup=new s("popup-build-config",e),e.$on("$destroy",function(){g.resolve()}),e.init=function(n,i,r,o,s){m=n,v=i,y=r,e.canRunBuilds=o,f=new u(s),b={hook_info:{type:"bitrise",api_token:v}},e.buildConfigPopup.setAppearFunction(function(){d(),e.canRunBuilds&&h()}),e.buildConfigPopup.setDismissFunction(function(){e.buildConfigProgress.reset(),e.editedSchedule=undefined}),t.$on("BuildConfigCtrl::buildConfigPopup#setIsVisible",function(){e.buildConfigPopup.setIsVisible(!0)}),t.$on("BuildConfigCtrl::buildConfigPopup#showWithSchedule",function(t,n){e.buildConfigPopup.setIsVisible(!0),e.isScheduleMode=!0,n&&(e.editedSchedule=new c(n.id),_.each(e.scheduleWeekdayHashes,function(e){var t=_.contains(n.weekdayIndexes,e.weekdayIndex);e.isScheduled=!!t}),n.hour>=10?e.scheduleHour=n.hour:e.scheduleHour="0"+n.hour,n.minute>=10?e.scheduleMinute=n.minute:e.scheduleMinute="0"+n.minute,n.buildParams.build_params.branch&&(e.buildConfig.branch=n.buildParams.build_params.branch),n.buildParams.build_params.commit_message&&(e.buildConfig.commit_message=n.buildParams.build_params.commit_message),n.buildParams.build_params.commit_hash&&(e.buildConfig.commit_hash=n.buildParams.build_params.commit_hash),n.buildParams.build_params.tag&&(e.buildConfig.tag=n.buildParams.build_params.tag),n.buildParams.build_params.workflow_id&&(e.buildConfig.workflow_id=n.buildParams.build_params.workflow_id),n.buildParams.build_params.environments&&(e.buildConfig.environments=n.buildParams.build_params.environments),_.isUndefined(n.isEnabled)||(e.isScheduleEnabled=n.isEnabled),e.isAdvancedMode=e.buildConfigPopupIsInAdvancedMode(n.buildParams.build_params))}),e.$watch("scheduleHour",function(e){null!==e&&e!==undefined&&e.toString().length>=2&&$("[ng-model='scheduleMinute']")[0].focus()}),e.$watch("scheduleMinute",function(e,t){null!==t&&t!==undefined&&(null!==e&&e!==undefined||$("[ng-model='scheduleHour']")[0].focus())})},e.buildConfigPopupIsInAdvancedMode=function(e){return _.any(_.keys(e),function(e){return"branch"!=e&&"commit_message"!=e})},e.startBuild=function(){if(e.buildConfigProgress.start("Preparing Build, please wait..."),!(b=e.normalizedBuildPayload()))return void e.buildConfigProgress.error(new Error("Failed to prepare parameters!"));l.startNewBuild(m,v,b.build_params,"manual-"+f.username).then(function(e){window.location="/build/"+e},function(t){e.buildConfigProgress.error(new Error("Failed to start Build: "+t.message))},function(t){e.buildConfigProgress.error(new Error("Failed to start Build: "+t))})},e.scheduleBuild=function(){if(e.buildConfigProgress.start("Scheduling, please wait..."),!e.scheduleForm.$valid)return void e.buildConfigProgress.error(new Error("Invalid schedule time!"));if(0==_.filter(e.scheduleWeekdayHashes,function(e){return e.isScheduled}).length)return void e.buildConfigProgress.error(new Error("No schedule day selected!"));var n="Failed to schedule build!",i=e.editedSchedule?e.editedSchedule:new c;i.appSlug=m,i.apiToken=v,i.isEnabled=e.isScheduleEnabled,i.weekdayIndexes=_.map(_.filter(e.scheduleWeekdayHashes,function(e){return e.isScheduled}),function(e){return e.weekdayIndex}),i.hour=Number(e.scheduleHour),i.minute=Number(e.scheduleMinute);try{if(""==e.buildConfig.branch)throw"Invalid repository format";i.buildParams=e.normalizedBuildPayload()}catch(t){return void e.buildConfigProgress.error(new Error(n))}i.post().then(function(){e.buildConfigPopup.setIsVisible(!1),e.buildConfigProgress.success(),t.$emit("BuildsCtrl::loadBuildSchedules")},function(t){e.buildConfigProgress.error(t)},function(){e.buildConfigProgress.error(new Error("Error posting schedule - request aborted."))})},e.normalizedBuildPayload=function(){var t=angular.copy(b),n={};return e.buildConfig&&(e.buildConfig.branch&&(n.branch=e.buildConfig.branch),e.buildConfig.commit_message&&(n.commit_message=e.buildConfig.commit_message),e.buildConfig.workflow_id&&(n.workflow_id=e.buildConfig.workflow_id),e.isAdvancedMode&&(e.buildConfig.tag&&(n.tag=e.buildConfig.tag),e.buildConfig.commit_hash&&(n.commit_hash=e.buildConfig.commit_hash),e.buildConfig.environments.length>0&&(n.environments=e.buildConfig.environments))),_.isEmpty(n)?delete t.build_params:t.build_params=n,t.triggered_by="curl",t},e.envVarSelected=function(t){e.editedEnvVar=angular.copy(t)},e.saveEnvVar=function(){var t=e.envVarWithKey(e.editedEnvVar.mapped_to);t?(t.value=e.editedEnvVar.value,t.is_expand=e.editedEnvVar.is_expand):e.buildConfig.environments.push(e.editedEnvVar),p()},e.envVarWithKey=function(t){if(!e.buildConfig)return null;var n=null;return _.every(e.buildConfig.environments,function(e){return t!=e.mapped_to||(n=e,!1)}),n},e.deleteEnvVar=function(t){e.buildConfig.environments=e.buildConfig.environments.filter(function(e){return e!=t}),p()}}])}(),function(){"use strict";Bitrise.controller("BuildCtrl",["$scope","$rootScope","$timeout","$q","http","routeService","titleService","workflowEditorService","logService","Progress","Popup","PopupV4","Build","Popover","Stack","App","User","UserJourneyTracker",function(e,t,n,i,r,o,s,a,l,c,u,d,h,p,f,g,m,v){function y(){var t=o.appPath(e.app,{format:"json"});return r.get(t).then(function(t){e.app.title=t.title},function(){d.alertError("Error loading app information","Please reload the page.")})}function b(){e.getDisabledStatusProgress.start("Loading status of this project, wait a sec...");var t=o.appIsDisabledPath(e.app);r.get(t,undefined,{timeout:F.promise},"Error loading status of this project.").then(function(t){e.isAppDisabled=t.is_disabled,e.getDisabledStatusProgress.success()},function(t){e.getDisabledStatusProgress.error(t)})}function w(){return e.app.getStack().then(function(){e.platformIconPopoverData||(e.platformIconPopoverData={popover:new p("bottom")}),e.platformIconPopoverData.hint="<b>Selected project type:</b> <i>"+e.app.projectType+"</i><p><b>Selected stack:</b> <i>"+e.app.stack.title+"</i><p> You can select the Stack and Project type on the <b>Settings</b> tab of the app.</p><p>For more information about this stack <a href='"+e.app.stack.descriptionURL+"' target='_blank' tabindex='-1'>click here</a></p></p>"},function(e){console.log(e.message)})}function C(){e.getBitriseYMLOfBuildProgress.start("Loading yml config file which was used for this build, please wait...");var t="/build/"+e.build.slug+"/bitrise_yml.json";return r.get(t,{timeout:F.promise},"Failed to load yml config file which was used for this build").then(function(t){e.bitriseYMLOfBuild=t.bitrise_yml,e.getBitriseYMLOfBuildProgress.success()},function(t){e.getBitriseYMLOfBuildProgress.error(t.message),d.alertError(t.message)})}function A(){e.getCurrentBitriseYMLProgress.start("Loading actual yml config file, wait a sec...");var t="/api/app/"+e.app.slug+"/config.yml";return r.get(t,{timeout:F.promise},"Failed to load actual yml config file").then(function(t){P=t,e.getCurrentBitriseYMLProgress.success()},function(t){e.getCurrentBitriseYMLProgress.error(t.message)})}function S(){e.saveCurrentBitriseYMLProgress.start("Saving bitrise.yml, wait a sec...");var t="/api/app/"+e.app.slug+"/config.json",n={app_config_datastore_yaml:e.bitriseYMLOfBuild};r.post(t,n,{timeout:F.promise},"Error saving bitrise.yml").then(function(){P=undefined,x.destroy(),e.saveCurrentBitriseYMLProgress.success(),d.alertSuccess("Bitrise.yml restored successfully")},function(t){e.saveCurrentBitriseYMLProgress.error(t),d.alertError(undefined,t)})}function $(){return T&&(n.cancel(T),T=null),e.build.fetchDetails().then(function(t){if(e.build.isWaitingForWorker()||e.build.isOnHold||B||l.loadLogs&&(l.loadLogs(),B=!0),0==e.build.status||3==e.build.status){if(e.loadBuildDetailsProgress.isInProgress)return;T=n($,1e3*D)}if(3==e.build.status&&e.abortBuildProgress.success(),1==e.build.status)switch(t){case 1:v.trackFirstSuccessfulNonDemoBuildFinished();break;case 6:v.trackSixthSuccessfulNonDemoBuildFinished()}1==t&&k&&"ios"==e.app.platformType()&&e.shouldShowCodeSigningWizardPopupIfRelevant&&(e.advancedSetupInWizardPopup.isVisible=!0)},function(t){if(e.loadBuildDetailsProgress.isInProgress)throw t.message;T=n($,1e3*D)})}var x,k,E,P,F=i.defer(),D=5,T=null,B=!1,L=o.getBuildSlugFromCurrentPath();e.routeService=o,e.app=new g;var M;e.isAppDisabled=!1,e.platformIconPopoverData,e.reasonOfAbort="",e.build=null,e.shouldShowCodeSigningWizardPopupIfRelevant,e.bitriseYMLOfBuild,e.isEqualYMLOfBuildAndCurrentYML,e.shouldShowBitriseYML=!1,e.getDisabledStatusProgress=new c,e.loadBuildDetailsProgress=new c,e.rebuildProgress=new c,e.abortBuildProgress=new c,e.advancedSetupInWizardPopupProgress=new c,e.getBitriseYMLOfBuildProgress=new c,e.getCurrentBitriseYMLProgress=new c,e.saveCurrentBitriseYMLProgress=new c,e.displayBitriseYML=new d,e.confirmBuildAbortPopup=new d,e.failedRebuildPopup=new u("popup-confirm-rebuild-fail",e),e.advancedSetupInWizardPopup=new d,e.advancedSetupInWizardPopup.afterDismissCallback=function(){e.hideCodeSigningWizardPopup()},e.shouldShowMoreBuildDetails=!1,e.topBuildStatePopover=new p("bottom"),e.bottomBuildStatePopover=new p("top"),e.topMachineTypePopover=new p("bottom"),e.bottomMachineTypePopover=new p("top"),e.loadLogsProgress=new c,e.logService=l,e.$on("$destroy",function(){F.resolve()}),e.init=function(t,n,r,o,a){k=r,E=new m,e.app.slug=t,e.app.stack=new f(o),e.app.projectType=a,M=n,e.build=new h(L,undefined,!0,!0),E.getMetadataWithKey("code_signing_wizard_popup",{timeout:F.promise}).then(function(t){e.shouldShowCodeSigningWizardPopupIfRelevant=!!_.isNull(t)||!_.contains(t,e.app.slug)&&!_.isEqual(t,e.app.slug)},function(){}),b(),i.all([y(),e.loadBuildDetails()]).then(function(){s.title=e.app.title+" - build #"+e.build.buildNumber+" ("+e.build.slug+") - Bitrise"},function(){d.alertError("Error loading app information","Please reload the page.")}),w()},e.aceLoaded=function(e){var t=e.getSession(),n=e.renderer;e.setTheme("ace/theme/monokai"),t.setMode("ace/mode/yaml"),e.setReadOnly(!0),e.setShowPrintMargin(!1),e.setShowInvisibles(!1),e.$blockScrolling=Infinity,e.setOptions({vScrollBarAlwaysVisible:!0,tabSize:2}),e.focus(),e.gotoLine(1),t.setUndoManager(new ace.UndoManager),t.setUseWrapMode(!0),t.setUseSoftTabs(!0),n.setShowGutter(!0)},e.getMachineTypePopoverHint=function(){if(!e.build)return undefined;switch(e.build.machineType){case"Standard":return"<h2>Linux</h2><p><a href='https://cloud.google.com/compute/docs/faq' target='_blank'>2xCPU (n1)</a> / 7.5 GB RAM</p><br><h2>macOS</h2><p>2xCPU (Intel Xeon X5570) / 4 GB RAM</p>";case"Elite":return"<h2>Linux</h2><p><a href='https://cloud.google.com/compute/docs/faq' target='_blank'>4xCPU (n1)</a> / 15 GB RAM</p><br><h2>macOS</h2><p>2xCPU (Intel Xeon E5-2697) / 8 GB RAM</p>";default:return undefined}},e.buildStatePopoverHint=function(){if(!e.build)return null;switch(e.build.status){case 0:if(e.build.isOnHold)return"Build is on hold because all of your build lanes are busy. <a href='https://www.bitrise.io/pricing' target='_blank'>Upgrade your plan </a>for more concurrencies.";if(e.build.isWaitingForWorker())return"Looks like everyone is building like crazy so there aren't any workers left. Please hang tight for a bit.";if(e.build.isPreparingEnvironment())return"Build machine is booting up. <a href='http://devcenter.bitrise.io/infrastructure/available-stacks/#stack-prepare-types' target='_blank'>Learn more </a>about on-demand and pre-booted build machines.";default:return null}},e.hideCodeSigningWizardPopup=function(){E.setMetadataAtKeyWithValue("code_signing_wizard_popup",e.app.slug,{timeout:F.promise}).then(function(){e.shouldShowCodeSigningWizardPopupIfRelevant=!1,e.advancedSetupInWizardPopup.isVisible=!1},function(){})},e.loadBuildDetails=function(){e.loadBuildDetailsProgress.start("Loading build details, please wait...");var t="Error loading build details. Click here to try again.";return $().then(function(){return e.build.fetchValidationStatus().then(function(){e.loadBuildDetailsProgress.success(),T=n($,D)},function(){e.loadBuildDetailsProgress.error(new Error(t))})},function(){e.loadBuildDetailsProgress.error(new Error(t))})},e.displayPopupForBitriseYML=function(){e.displayBitriseYML.isVisible=!0,k&&(_.isUndefined(e.bitriseYMLOfBuild)||_.isUndefined(P))&&i.all([C(),A()]).then(function(){e.bitriseYMLOfBuild===P?e.isEqualYMLOfBuildAndCurrentYML=!0:(e.isEqualYMLOfBuildAndCurrentYML=!1,x=new AceDiff({mode:"ace/mode/yaml",showFoldWidgets:!1,left:{id:"editor-left",theme:"ace/theme/monokai",editable:!1,content:e.bitriseYMLOfBuild},right:{id:"editor-right",theme:"ace/theme/monokai",editable:!1,content:P}}))})},e.restoreBitriseYMLOfBuild=function(){d.confirm(undefined,"Are you sure you want to restore the build's Bitrise. yml? <p>All the changes will be lost.</p>","Ok","Cancel",undefined,"danger").then(function(){e.displayBitriseYML.isVisible=!1,S()})},e.badgeSelected=function(){t.$emit("BadgeConfigCtrl::badgeConfigPopup#setIsVisible")},e.rebuild=function(t,n){e.failedRebuildPopup.setIsVisible(!1),e.rebuildProgress.start("Preparing build, please wait..."),e.build||e.rebuildProgress.error(new Error("Failed to start the build.")),e.build.startNewBuildWithSameParameters(t,n).then(function(e){window.location="/build/"+e},function(t){e.rebuildProgress.error(new Error("Failed to start the Build: "+t.message)),e.failedRebuildPopup.setIsVisible(!0)},function(t){e.confirmBuildAbortPopup.isVisible=!1,e.rebuildProgress.error(new Error("Failed to start the Build: "+t)),e.failedRebuildPopup.setIsVisible(!0)})},e.abort=function(){e.confirmBuildAbortPopup.isVisible=!1,e.abortBuildProgress.start("Aborting build..."),e.build.abort(e.reasonOfAbort).then(function(){$().then(function(){},function(){})},function(t){t&&t.data&&t.data.error_msg?e.abortBuildProgress.error(new Error("Failed to abort the build: "+t.data.error_msg)):e.abortBuildProgress.error(new Error("Failed to abort build."))})},e.triggeredByText=function(){if("schedule"==e.build.triggeredBy)return"Schedule";if("webhook"==e.build.triggeredBy)return"Webhook";if("curl"==e.build.triggeredBy)return"cURL";if(/manual-.*/g.test(e.build.triggeredBy))return"Manual - @"+e.build.triggeredBy.replace("manual-","");return _.isNull(e.build.triggeredBy)||_.isUndefined(e.build.triggeredBy)||""==e.build.triggeredBy?void 0:e.build.triggeredBy},e.showWorkflowEditor=function(){a.show(e.app.slug,M)}}])}(),function(){"use strict";Bitrise.controller("BuildLogsCtrl",["$scope","$http","$q","$timeout","BitriseSteplibV3","StyleGenerator","workflowEditorService","Progress","Log",function(e,t,n,i,r,o,s,a,l){function c(e){function t(){if(null!=b&&null!=w){var e=$(window).scrollTop()+$(window).height()-($(b).offset().top+$(b).outerHeight()),t=$(window).scrollTop()+$(window).height()-($(b).offset().top+$(w).outerHeight()),n=0;n<e?n=e:n>t&&(n=t);var i=$(window).width()-($(b).offset().left+$(b).outerWidth());parseInt($(w).css("right"),10)!=i&&$(w).css({right:i+"px"}),parseInt($(w).css("bottom"),10)!=n&&$(w).css({bottom:n+"px"})}}e?i(t,50,!1):t()}function u(){g&&(i.cancel(g),g=null),e.loadLogsProgress.start("Loading logs, wait a sec..."),e.build.log.fetch().then(function(){A||p(),c(!0),f(!0),e.shouldFollowLogs&&e.goToLogsBottom(!0),d(),e.build.finishedAt&&(e.build.log.fullAvailable||e.build.isValidationBuildMode())?(2==e.build.status&&h(),e.loadLogsProgress.success()):g=i(u,1e3*m)},function(){e.loadLogsProgress.error(new Error("Failed to load logs. Reloading...")),e.build.log=new l(e.build),g=i(u,1e3*m)})}function d(){if(e.lastLineOfLog&&(e.lastLineOfLog=null),!_.isNull(e.build.log.lines)){if(e.lastLineOfLog=_.last(e.build.log.lines),e.lastLineOfLog===undefined)return void console.log("last line of log is undefined!");if(e.lastLineOfLog.step){var t;if(e.bitriseSteplib.steps&&(t=e.bitriseSteplib.steps[e.lastLineOfLog.step.id][e.lastLineOfLog.step.version]),_.isNull(t)||_.isUndefined(t))return;t!=e.currentStep&&(e.currentStep=t)}else e.currentStep=null}}function h(){if(!_.isNull(e.build.log.lines)){var t=0,n=new RegExp(/^(\s)*(\|)(\s)*(bitrise summary)(\s)*(\|)(\s)*$/);_.each(e.build.log.lines,function(e,i){n.test(e.content)&&(t=i)}),e.logSummary=_.rest(e.build.log.lines,t-1)}}function p(){null!=e.bitriseSteplib.steps&&(e.isUpdateAvailableForAStep=!1,_.any(e.build.log.lines,function(t){if(t===undefined)return void console.log("aLine is undefined");if(null!=t.step&&t.step.headerLine==t)try{if(e.bitriseSteplib.steps[t.step.id][t.step.version].isUpdateAvailable)return e.isUpdateAvailableForAStep=!0,!0}catch(e){return}}))}function f(t){function n(){null!=C&&null!=e.bitriseSteplib.steps&&($(C).html(""),_.each($(b).children(".line.step-folder"),function(t){var n=$(t).position().top-$(b).scrollTop(),i=$(t).attr("step-id"),r=$(t).attr("step-version");if(0!=i.length){var s,a=document.createElement("BUTTON");try{s=e.bitriseSteplib.steps[i][r],$(a).css("background-image",o.backgroundImagePropertyValueFromURL(s.iconURL()))}catch(e){s=null}$(a).click(function(){return $(t).click(),!1}),$(a).css("top",n+"px"),!A&&s.isUpdateAvailable&&$(a).addClass("update-available"),C.appendChild(a)}}))}t?i(n,50,!1):n()}var g,m=2,v=.5,y=200,b=null,w=null,C=null,A=!1;e.build=null,e.bitriseSteplib=null,e.shouldWrapLines=!0,e.shouldFollowLogs=!1,e.isUpdateAvailableForAStep=null,e.loadLogsProgress=new a,e.loadFullLogsProgress=new a,e.lastLineOfLog,e.logSummary,e.currentStep;var S,x;e.init=function(t,n,o,s){S=o,x=s,e.bitriseSteplib=r,A=t,e.shouldFollowLogs=n;var a,d,h;e.$on("BuildLogsCtrl::loadLogs",function(t,n){e.build=n,u();var r=0;a=$(window).scroll(function(){c(),e.shouldFollowLogs&&$(this).scrollTop()<r&&e.followLogs(!1),r=$(this).scrollTop()});var o;d=$(window).resize(function(){function e(){f(),c()}o&&i.cancel(o),o=i(e,50)})}),e.$on("BuildLogsCtrl::clearLogs",function(){e.build.log=new l(e.build)}),e.bitriseSteplib.fetchData(),h=$(window).load(function(){b=document.getElementById("logs"),w=document.getElementById("log-navigation-box"),C=document.getElementById("step-icons")}),e.$on("$destroy",function(){$(window).unbind("scroll",a),$(window).unbind("resize",d),$(window).unbind("load",h)}),e.$emit("BuildLogsCtrl::ready")},e.goToLogsTop=function(){null!=b&&$("body, html").animate({scrollTop:$(b).offset().top-y},1e3*v)},e.goToLogsBottom=function(e){function t(){null!=b&&($(b).offset().top+$(b).outerHeight()<$(window).scrollTop()+$(window).height()||$("body, html").animate({scrollTop:$(b).offset().top+$(b).outerHeight()+y-$(window).height()},1e3*v))}e?i(t,50,!1):t()},e.wrapLines=function(t){e.shouldWrapLines=t,t&&null!=b&&$(b).scrollLeft(0),c(!0),f(!0)},e.followLogs=function(t){e.shouldFollowLogs=t,t&&e.goToLogsBottom()},e.lineSelected=function(e){if(e===undefined)return void console.log("selected line is undefined!");null!=e.step&&e.step.headerLine==e&&(e.step.isLogFolded=!e.step.isLogFolded,c(!0),f(!0))},e.loadFullLogs=function(){e.loadLogsProgress.reset(),e.loadFullLogsProgress.start("Loading full logs, wait a sec..."),e.build.log.fetchFull().then(function(){A||p(),c(!0),f(!0),e.loadFullLogsProgress.success()},function(){e.loadFullLogsProgress.error(new Error("Error loading full logs!"))})},e.showWorkflowEditor=function(){s.show(S,x,e.build.triggeredWorkflowId)}}])}(),function(){"use strict";Bitrise.controller("BuildsCtrl",["$scope","$rootScope","$http","http","$timeout","$q","routeService","DateService","Progress","PopupV3","PopupV4","Popover","DropdownBox","Pagination","User","UserJourneyTracker","App","Build","BuildSchedule",function(e,t,n,i,r,o,s,a,l,c,u,d,h,p,f,g,m,v,y){function b(){e.getDisabledStatusProgress.start("Loading status of this project, wait a sec...");var t=s.appIsDisabledPath(e.app);i.get(t,undefined,{timeout:j.promise},"Error loading status of this project.").then(function(t){e.isAppDisabled=t.is_disabled,e.getDisabledStatusProgress.success()},function(t){e.getDisabledStatusProgress.error(t)})}function w(){return o(function(t,n){e.app.getStack().then(function(){e.app.getAvailableProjectTypesFromStack().then(function(e){B=e,t()},function(){n()})},function(){n()})})}function C(t){L.getMetadataWithKey(t,{timeout:j.promise}).then(function(n){switch(t){
case"code_signing_wizard_notification":e.shouldShowCodeSigningWizardNotificationIfRelevant=_.isNull(n)?undefined:!_.contains(n,e.app.slug)&&!_.isEqual(n,e.app.slug)&&undefined;break;case"first_deploy_popup":e.shouldShowFirstDeployPopupIfRelevant=_.isNull(n)?undefined:!_.contains(n,e.app.slug)&&!_.isEqual(n,e.app.slug)&&undefined;break;case"code_signing_wizard_popup":e.shouldShowCodeSigningWizardPopupIfRelevant=_.isNull(n)?undefined:!_.contains(n,e.app.slug)&&!_.isEqual(n,e.app.slug)&&undefined}},function(){})}function A(){var t="/prov_profile_document/for_job/"+H+".json";return n.get(t,{timeout:U.promise}).then(function(t){D=t.data.prov_profile_documents.length>0,T&&D&&e.putPopupOrNotificationInfoFromUserMetaData("code_signing_wizard_notification")})}function S(){var t="/build_certificate/for_job/"+H+".json";return i.get(t,{timeout:W.promise},"Failed to load Build Certificate!").then(function(t){(T=t.build_certificates.length>0)&&D&&e.putPopupOrNotificationInfoFromUserMetaData("code_signing_wizard_notification")})}function $(t){I.resolve(),I=o.defer(),P&&r.cancel(P);var n="/app/"+e.app.slug+"/builds.json",s={page:e.selectedPage};return e.selectedBranchFilter&&(s.branch_filter=e.selectedBranchFilter),e.selectedTypeFilter&&(s.type_filter=e.selectedTypeFilter),i.post(n,s,{timeout:I.promise},"Error loading builds.").then(function(n){switch(e.buildPagination.configureWithPageDatas(n.repository.pages,e.selectedPage),t===undefined&&(t=!1),t&&(e.buildsByDays=[]),_.each(n.repository.builds,function(t){var i=a.dateFromString(t.created_at),r=new Date(i.getFullYear(),i.getMonth(),i.getDate()),o=_.find(e.buildsByDays,function(e){return e.date.getTime()==r.getTime()});o||(o={date:r,builds:[]},e.buildsByDays.push(o));var s=_.find(o.builds,function(e){return e.slug==t.slug}),l=!s;l&&(s=new v(t.slug,undefined,!0,!0),o.builds.push(s));var c=s.isFinished();s.buildNumber=t.build_number,s.branch=t.branch,s.branchDest=t.branch_dest,s.triggeredWorkflowId=t.triggered_workflow,s.triggeredAt=i,s.startedAt=a.dateFromString(t.build_started_on_worker),s.environmentPrepareStartedAt=a.dateFromString(t.environment_prepare_started_at),s.environmentPreparedAt=a.dateFromString(t.environment_prepared_at),s.status=t.status,s.isOnHold=t.is_on_hold,s.finishedAt=a.dateFromString(t.build_finished),s.provider=n.repository.provider,s.commitHash=t.commit_hash,s.commitMessage=x(t.commit_message),s.tag=t.tag,s.repositoryURL=t.repository_url,s.pullRequestID=t.pull_request_id,s.pullRequestRepositoryURL=t.pull_request_repository_url,s.previousBuildWithSameWorkflowDuration=t.previous_build_on_workflow_duration;var u=c&&!s.isFinished();(l||u)&&(s.countDuration(),s.countProgressPercent())}),n.repository.number_of_successful_builds){case 1:g.trackFirstSuccessfulNonDemoBuildFinished();break;case 6:g.trackSixthSuccessfulNonDemoBuildFinished()}if(1==n.repository.number_of_successful_builds&&M&&(_.contains(B,"ios")||_.contains(B,"xamarin"))&&e.shouldShowCodeSigningWizardPopupIfRelevant&&(e.advancedSetupInWizardPopup.isVisible=!0),n.repository.number_of_successful_builds>=2&&M&&_.contains(B,"ios")&&!_.contains(B,"xamarin")&&e.shouldShowFirstDeployPopupIfRelevant){1==_.filter(n.repository.builds,function(e){return"master"==e.branch&&"deploy"==e.triggered_workflow&&1==e.status}).length&&(e.firstDeployPopup.isVisible=!0)}P=r($,1e3*R),e.loadBuildsAndFiltersProgress.isError&&e.loadBuildsAndFiltersProgress.reset()},function(t){t.message="Error loading Builds, click here to try again.",e.loadBuildsAndFiltersProgress.error(t,e.loadBuildsAndFilters)},function(){var t=new Error("Error loading Builds, click here to try again.");e.loadBuildsAndFiltersProgress.error(t,e.loadBuildsAndFilters)})}function x(e){var t;if(e){var n=e.split(/(\r\n|\n|\r)/gm);t=n[0],n.length>1&&(t+="...")}return t}function k(){O.resolve(),O=o.defer();var t="/api/app/"+e.app.slug+"/builds/branch-list.json";return i.get(t,{timeout:O.promise},"Error loading branch filters.").then(function(t){_.each(t.branches,function(n){_.every(e.branchFilters,function(e){return e!=n})&&(e.branchFilters=t.branches)}),(!e.branchFilters||e.branchFilters.length<=1)&&(e.branchFilters=[])},function(t){t.message="Error loading Build branches, click here to try again.",e.loadBuildsAndFiltersProgress.error(t,e.loadBuildsAndFilters)},function(){var t=new Error("Error loading Build branches, click here to try again.");e.loadBuildsAndFiltersProgress.error(t,e.loadBuildsAndFilters)})}function E(){N.resolve(),N=o.defer();var t="/api/app/"+e.app.slug+"/builds/trigger-types.json",n={branch:e.selectedBranchFilter};return i.get(t,{params:n,timeout:N.promise},"Error loading type filters.").then(function(t){e.typeFilters=t.trigger_types,e.typeFilters||(e.typeFilters=[])},function(t){t.message="Error loading Build types, click here to try again.",e.loadBuildsAndFiltersProgress.error(t,e.loadBuildsAndFilters)},function(){var t=new Error("Error loading Build types, click here to try again.");e.loadBuildsAndFiltersProgress.error(t,e.loadBuildsAndFilters)})}var P,F,D,T,B,L,M,R=10,I=o.defer(),O=o.defer(),N=o.defer(),z=o.defer(),U=o.defer(),W=o.defer(),j=o.defer(),H=null,V=null;e.app=null,e.firstBuildSchedule,e.buildSchedules=[],e.buildsByDays,e.selectedPage,e.isAppDisabled=!1,e.branchFilters=null,e.selectedBranchFilter=null,e.branchFilterFilter="",e.typeFilters=null,e.selectedTypeFilter=null,e.buildScheduleToDelete=null,e.shouldShowBuildSchedules=!1,e.scheduledBuildActionsPopover={},e.getDisabledStatusProgress=new l,e.buildSchedulesProgress=new l,e.loadBuildsAndFiltersProgress=new l,e.advancedSetupInWizardPopupProgress=new l,e.firstDeployPopupProgress=new l,e.triggerNowScheduledBuildProgress=new l,e.updateSelectedScheduledBuildProgress=new l,e.shouldShowCodeSigningWizardNotificationIfRelevant,e.shouldShowCodeSigningWizardPopupIfRelevant,e.shouldShowFirstDeployPopupIfRelevant,e.confirmBuildScheduleDeletePopup=new c("popup-confirm-build-schedule-delete",e),e.advancedSetupInWizardPopup=new u,e.advancedSetupInWizardPopup.afterDismissCallback=function(){e.putPopupOrNotificationInfoFromUserMetaData("code_signing_wizard_popup")},e.firstDeployPopup=new u,e.firstDeployPopup.afterDismissCallback=function(){e.putPopupOrNotificationInfoFromUserMetaData("first_deploy_popup")},e.branchDropdownBox=new h("branch-filter-list","branch-selector",e),e.branchDropdownBox.setDismissFunction(function(){e.branchFilterFilter=""}),e.buildPagination=new p,e.init=function(n,i,s,a,l){e.app=new m(n),H=s,V=i,L=new f(l),M=a,b(),t.$on("BuildsCtrl::loadBuildSchedules",function(){e.loadBuildSchedules()}),F={hook_info:{type:"bitrise",api_token:V}},o.all([w(),C("code_signing_wizard_notification"),C("code_signing_wizard_popup"),C("first_deploy_popup"),o(function(e,t){if(!M)return void e();o.all([S(),A()]).then(function(){e()},function(){t()})}),e.loadBuildSchedules()]).then(function(){e.loadBuildsAndFilters(),e.shouldShowCodeSigningWizardNotificationIfRelevant!==undefined||!_.contains(B,"ios")&&!_.contains(B,"xamarin")||D&&T||!M||(e.shouldShowCodeSigningWizardNotificationIfRelevant=!0),e.shouldShowCodeSigningWizardPopupIfRelevant===undefined&&(_.contains(B,"ios")||_.contains(B,"xamarin"))&&M&&(e.shouldShowCodeSigningWizardPopupIfRelevant=!0),e.shouldShowFirstDeployPopupIfRelevant===undefined&&_.contains(B,"ios")&&!_.contains(B,"xamarin")&&M&&(e.shouldShowFirstDeployPopupIfRelevant=!0)},function(){e.loadBuildsAndFiltersProgress.error("Woops... Error loading builds, click here to try again.",e.loadBuildsAndFilters)}),e.$on("$destroy",function(){I.resolve(),O.resolve(),N.resolve(),z.resolve(),U.resolve(),W.resolve(),j.resolve(),P&&r.cancel(P)})},e.putPopupOrNotificationInfoFromUserMetaData=function(t){L.setMetadataAtKeyWithValue(t,e.app.slug,{timeout:j.promise}).then(function(){switch(t){case"code_signing_wizard_notification":e.shouldShowCodeSigningWizardNotificationIfRelevant=!1;break;case"first_deploy_popup":e.firstDeployPopup.isVisible=!1,e.shouldShowFirstDeployPopupIfRelevant=!1;break;case"code_signing_wizard_popup":e.advancedSetupInWizardPopup.isVisible=!1,e.shouldShowCodeSigningWizardPopupIfRelevant=!1}},function(){})},e.loadBuildsAndFilters=function(t){e.loadBuildsAndFiltersProgress.start("Loading builds, hang tight for a sec..."),t===undefined&&(t=1),e.selectedPage=t,$(!0).then(k).then(E).then(function(){e.loadBuildsAndFiltersProgress.success()})},e.loadBuildSchedules=function(){z.resolve(),z=o.defer(),e.buildSchedulesProgress.start("Loading build schedules, hang tight for a sec...");var t=s.appScheduledBuildsPath(e.app),n={api_token:V};i.get(t,{params:n,timeout:z.promise},"Error loading build schedules.").then(function(t){var n=[];_.each(t.schedules,function(t){var i=new y(t.id);i.appSlug=e.app.slug,i.apiToken=V,i.isEnabled=t.is_enabled,e.scheduledBuildActionsPopover[i.id]||(e.scheduledBuildActionsPopover[i.id]=new d("left")),e.scheduledBuildActionsPopover[i.id].isVisible=!1;var r=a.dateFromString(t.next_run);i.configureWithNextRunDate(r),i.buildParams=angular.fromJson(t.build_params),i.weekdayIndexes=y.localWeekdayIndexes(t.weekdays,r.getUTCHours(),r.getUTCMinutes());var o;if(i.buildParams.build_params.commit_message){var s=i.buildParams.build_params.commit_message.split(/(\r\n|\n|\r)/gm);o=s[0],s.length>1&&(o+="..."),i.buildParams.build_params.commit_message=o}n.push(i)}),e.buildSchedules=_.sortBy(n,function(e){return e.nextRunDate}),e.firstBuildSchedule=_.first(_.filter(e.buildSchedules,function(e){return e.isEnabled})),e.buildSchedulesProgress.success()},function(t){e.buildSchedulesProgress.error(t)})},e.pageSelected=function(t){e.loadBuildsAndFilters(t)},e.branchFilterSelected=function(t){e.branchDropdownBox.setIsVisible(!1),e.selectedBranchFilter!=t&&(e.selectedBranchFilter=t,e.selectedTypeFilter=null,e.loadBuildsAndFilters())},e.typeFilterSelected=function(t){e.branchDropdownBox.setIsVisible(!1),e.selectedTypeFilter=e.selectedTypeFilter==t?null:t,e.loadBuildsAndFilters()},e.startBuildSelected=function(){t.$emit("BuildConfigCtrl::buildConfigPopup#setIsVisible")},e.scheduleBuildSelected=function(){t.$emit("BuildConfigCtrl::buildConfigPopup#showWithSchedule")},e.buildScheduleSelectedToEdit=function(e){t.$emit("BuildConfigCtrl::buildConfigPopup#showWithSchedule",e)},e.triggerNowScheduledBuild=function(t){e.triggerNowScheduledBuildProgress.start("Preparing Build, please wait..."),v.startNewBuild(e.app.slug,V,t.build_params).then(function(e){window.location=s.buildDetailsPath(new v(e))},function(t){e.triggerNowScheduledBuildProgress.error(new Error("Failed to start Build: "+t.message))},function(t){e.triggerNowScheduledBuildProgress.error(new Error("Failed to start Build: "+t))})},e.updateSelectedScheduledBuild=function(t){e.updateSelectedScheduledBuildProgress.start("Updating scheduled build config, please wait..."),t.post().then(function(){e.updateSelectedScheduledBuildProgress.success(),e.loadBuildSchedules()},function(t){e.updateSelectedScheduledBuildProgress.error(t)},function(){e.updateSelectedScheduledBuildProgress.error(new Error("Error updating schedule - request aborted."))})},e.buildScheduleSelectedToDelete=function(t){e.buildScheduleToDelete=t,e.confirmBuildScheduleDeletePopup.setDismissFunction(function(){e.buildScheduleToDelete=null}),e.confirmBuildScheduleDeletePopup.setIsVisible(!0)},e.deleteBuildSchedule=function(t){z&&z.resolve("Load build schedules cancelled by delete"),z=o.defer(),e.confirmBuildScheduleDeletePopup.setIsVisible(!1),e.buildSchedulesProgress.start("Deleting build schedule..."),t["delete"]().then(function(){e.buildSchedulesProgress.success(),e.loadBuildSchedules()},function(t){e.buildSchedulesProgress.error(t)},function(){e.buildSchedulesProgress.error(new Error("Error deleting schedule - request aborted."))})}}])}(),function(){"use strict";Bitrise.controller("ChangePasswordController",["$scope","$q","routeService","deviseService","StyleGenerator","PopupV4","Progress",function(e,t,n,i,r,o,s){var a,l=t.defer(),c={password:{required:"password not specified"},confirmPassword:{required:"password not confirmed"}};e.changePasswordForm,e.changePasswordFormData={password:"",confirmPassword:""},e.changePasswordProgress=new s,e.init=function(e){a=e},e.changePassword=function(){if(!a)return void e.changePasswordProgress.error(new Error("Reset password token missing"));if(!e.changePasswordForm.$valid){var t=r.errorMessageForFormModel(e.changePasswordForm,c,"Change password data invalid or not fully specified.");return void e.changePasswordProgress.error(new Error(t))}e.changePasswordProgress.start("Loading, wait a sec..."),i.changePasswordOfUserWithToken(e.changePasswordFormData.password,e.changePasswordFormData.confirmPassword,a,{timeout:l.promise}).then(function(){window.location=n.signInPath()},function(t){o.alertError("Error during password change!",t.message),e.changePasswordProgress.reset()})},e.$on("$destroy",function(){l.resolve()})}])}(),function(){"use strict";Bitrise.controller("CodeSigningWizardController",["$scope","$http","$timeout","$q","http","routeService","App","Repository","Build","Progress","PopupV4","StyleGenerator",function(e,t,n,i,r,o,s,a,l,c,u,d){function h(){e.fetchAppSettingsProgress.start("Fetching app settings, wait a sec..."),A.fetch({timeout:$.promise},"Error while fetching app settings.").then(function(){C=A.default_branch,p(),e.fetchAppSettingsProgress.success()},function(t){e.fetchAppSettingsProgress.error(t)})}function p(){e.loadAppConfigProgress.start("Loading App config, wait a sec...");var t="/api/app/"+y.slug+"/config.json";r.get(t,{timeout:$.promise},"Failed to load app config.").then(function(t){w=t,S=_.has(w.workflows,"deploy")&&C.length>0&&_.isUndefined(_.find(w.trigger_map,function(e){return e.push_branch==C&&"deploy"==e.workflow})),S&&w.trigger_map.splice(0,0,{push_branch:C,workflow:"deploy"}),e.loadAppConfigProgress.success()},function(t){e.loadAppConfigProgress.error(t)})}function f(){e.getCodeSigningBashCommandProgress.start("Loading app specific bash command, please wait...");var t="/api/app/"+y.slug+"/codesigndoc",n={api_token:b};r.get(t,{timeout:$.promise,params:n}).then(function(t){e.codeSigningBashCommand=d.codeSignScriptCommandFormatter(t.script_command)},function(t){e.codeSigningBashCommand=t.message,e.getCodeSigningBashCommandProgress.error(new Error("Error while loading bash command."))})}function g(){e.hasProvProfileDocument||e.hasBuildCert||(e.$broadcast("CodeSigningWizardController::codeSigningFilesUploaded"),n(g,1e3*x))}function m(){e.updateAppConfigProgress.start("Updating App config, please wait...");var t="/api/app/"+y.slug+"/config.yml",n={app_config_datastore_yaml:w};r.post(t,n,{timeout:$.promise},"Failed to update App config.").then(function(){v(),e.updateAppConfigProgress.success()},function(t){e.updateAppConfigProgress.error(t)})}function v(){e.startBuildProgress.start("Preparing Build, please wait...");var t={branch:C,workflow_id:"deploy"};l.startNewBuild(y.slug,b,t).then(function(e){window.location=o.buildDetailsPath(new l(e))},function(t){e.startBuildProgress.error(new Error("Failed to start Build: "+t.message))},function(t){e.startBuildProgress.error(new Error("Failed to start Build: "+t))})}var y,b,w,C,A,S,$=i.defer(),x=3;e.codeSigningBashCommand,e.isXamarinProject,e.hasBuildCert=!1,e.hasProvProfileDocument=!1,e.shouldUploadAutomatically=!0,e.availableProjectTypeTags,e.fetchAppSettingsProgress=new c,e.getCodeSigningBashCommandProgress=new c,e.startBuildProgress=new c,e.loadAppConfigProgress=new c,e.updateAppConfigProgress=new c,e.$on("$destroy",function(){$.resolve()}),e.init=function(t,n,i){y=new s(t),b=n,A=new a({slug:t}),e.availableProjectTypeTags=i,e.isXamarinProject=_.contains(e.availableProjectTypeTags,"xamarin"),e.$on("ProvProfileDocumentUploadCtrl::provProfileDocumentsLoaded",function(t,n){e.hasProvProfileDocument=n.length>0}),e.$on("BuildCertificateUploadCtrl::buildCertsLoaded",function(t,n){e.hasBuildCert=n.length>0}),h(),f(),g()},e.codeSigningWizardCompleted=function(){e.hasBuildCert&&e.hasProvProfileDocument?S?m():window.location=o.appPath(y):u.alertError("Please upload your code signing files")}}])}(),function(){"use strict";Bitrise.controller("ConfirmPlanChangeCtrl",["$scope","$q","http","routeService","DateService","PopupV3","Progress","Plan","User","UserJourneyTracker","Organization",function(e,t,n,i,r,o,s,a,l,c){function u(){m&&m.resolve(),m=t.defer(),e.previewCurrentChargeProgress.start("Counting current charge amount, wait a sec...");var r=i.previewCurrentChargePath(e.account),o={plan_id:e.newPlan.id,container_count:e.newPlan.containerCount};n.get(r,{params:o,timeout:m.promise},"Error counting current charge amount.").then(function(t){"no_billing_info"==t.status?e.chargeTodayPrice=undefined:(e.chargeTodayPrice=t.total_in_cents/100,e.discountAmount=t.discount_in_cents/100),e.previewCurrentChargeProgress.success()},function(t){e.previewCurrentChargeProgress.error("Error counting current charge amount: "+t.message)})}function d(){e.loadAvailableStayReasonCategoriesProgress.start("Loading, wait a sec...");var t=i.availableStayReasonCategoriesPath(e.account);n.get(t,{timeout:f.promise}).then(function(t){g=t.available_stay_reason_categories,e.loadAvailableStayReasonCategoriesProgress.success()},function(){e.loadAvailableStayReasonCategoriesProgress.error(new Error("Error loading, click here to try again"),d)})}function h(){switch(e.reasonCategoryOfCancelling){case"Moving to competitor":return"competitor";case"Cost cutting":return"cost-cutting";default:return null}}function p(){e.planChangeProgress.start("Changing plan, wait a sec...");var t=i.changePlanPath(e.account),r={plan_id:e.newPlan.id,container_count:e.newPlan.containerCount};n.post(t,r,undefined,"Error changing plan: unknown error - please contact our support.").then(function(){var t;e.newPlan.fullPrice()>0?(t={params:{source:"plan_upgrade"}},c.trackFirstInvoiceCreated()):(analytics.identify(),analytics.track("Subscription Cancelled")),window.location=i.dashboardPath(t)},function(t){e.planChangeProgress.error(t)})}var f=t.defer();e.availableReasonsOfCancelling=["Cost cutting","Technical issues","Product features","Bitrise UX or documentation","Moving to competitor","Moving to another Bitrise user/organization account","Project finished","Other"],e.account=i.getAccountFromCurrentPath(),e.settingsPath=i.settingsPath(e.account,{anchor:"billing"}),e.oldPlan=new a,e.newPlan=new a,e.isDowngrade,e.activePlan,e.reasonCategoryOfCancelling,e.reasonOfCancelling="";var g;e.loadAvailableStayReasonCategoriesProgress=new s,e.takeOfferProgress=new s,e.confirmSubscriptionCancelPopup=new o("popup-confirm-subscription-cancel",e),e.planChangeProgress=new s,e.cancelSubscriptionProgress=new s,e.previewCurrentChargeProgress=new s;var m;e.chargeTodayPrice,e.discountAmount,e.$on("$destroy",function(){f.resolve()}),e.init=function(t,n,i,o){var s;switch(e.account.accountType){case"User":e.account.username=t.name,e.account.avatarURL=t.avatar_url;break;case"Organization":e.account.name=t.name,e.account.avatarURL=t.avatar_url;break;default:return null}i?(s=i,e.activePlan=new a,e.activePlan.configureWithId(n.id),e.activePlan.name=n.name,e.activePlan.basicPrice=n.price,e.activePlan.expiresAt=r.dateFromString(n.expires_at),n.container_count&&(e.activePlan.containerCount=n.container_count)):(s=n,e.activePlan=e.oldPlan),e.oldPlan.configureWithId(s.id),e.oldPlan.name=s.name,e.oldPlan.basicPrice=s.price,e.oldPlan.expiresAt=r.dateFromString(n.expires_at),s.container_count!==undefined&&(e.oldPlan.containerCount=s.container_count),e.newPlan.configureWithId(o.id),e.newPlan.name=o.name,e.newPlan.basicPrice=o.price,e.newPlan.containerCount=o.container_count,e.isDowngrade=e.newPlan.fullPrice()<e.oldPlan.fullPrice(),u(),d()},e.cancelSubscriptionOffer=function(){if(!_.contains(["Moving to competitor","Cost cutting"],e.reasonCategoryOfCancelling))return null;if(!_.contains(g,h()))return null;switch(e.reasonCategoryOfCancelling){case"Moving to competitor":return"<p>We\u2019d hate to lose you.</p><p><strong>Would $20 off for 3 months convince you to stay?</strong></p>";case"Cost cutting":return"<p>We understand that money can be tight at times, so we\u2019d love to help you out!</p><p><strong>Would $20 off for 6 months make a difference?</strong></p>"}},e.takeOffer=function(){e.takeOfferProgress.start("Wait a sec...");var t=i.stayWithLeaveReasonCategoryPath(e.account),r={reason_category:h()};n.post(t,r).then(function(){window.location=i.settingsPath(e.account,{anchor:i.billingAnchor()})},function(t){e.takeOfferProgress.error(t)})},e.updateSelected=function(){e.editProfileFormData.username!=e.user.username||e.editProfileFormData.email!=e.user.email||""!=e.editProfileFormData.password&&""!=e.editProfileFormData.confirmPassword?e.confirmProfileModificationPopup.isVisible=!0:e.update()},e.confirmPlanChangeSelected=function(){0==e.newPlan.fullPrice()?e.confirmSubscriptionCancelPopup.setIsVisible(!0):p()},e.confirmSubscriptionCancelPopup.setDismissFunction(function(){e.reasonOfCancelling="",e.reasonCategoryOfCancelling=undefined}),e.sendCancelReasonAndCancelSubscription=function(){e.cancelSubscriptionProgress.start("Cancelling subscription, wait a sec...");var t=i.sendSubscriptionCancelReasonPath(e.account),r={reason_category_of_subscription_cancel:e.reasonCategoryOfCancelling,reason_of_subscription_cancel:e.reasonOfCancelling};n.post(t,r).then(function(){p()},function(){p()})}}])}(),function(){"use strict";Bitrise.controller("CreateAppCtrl",["$scope","http","$q","$location","$timeout","routeService","DateService","Progress","Popover","PopupV4","App","User","Organization","Plan",function(e,t,n,i,r,o,s,a,l,c,u,d,h,p){function f(){var a=o.repositoryPotentialOwnersPath();t.get(a,{timeout:b.promise},"Error loading potential owners").then(function(a){y=new d(a.current_user.username),y.avatarURL=a.current_user.avatar_url,e.potentialOwners=[y],_.each(a.organizations,function(t){var n=new h(t.slug);n.name=t.name,n.plan=new p(t.active_plan),n.avatarURL=t.avatar_url,n.trialExpiresAt=s.dateFromString(t.trial_expiry),e.potentialOwners.push(n)});var l,c=i.search().organization_slug;n(function(e){if(c){var n=o.userMetadataPath(y),i={last_app_create_owner_slug:c};t.put(n,i,{timeout:b.promise}).then(function(){e()},function(){e()})}else{var n=o.userMetadataPath(y,{params:{key:"last_app_create_owner_slug"}});t.get(n,{timeout:b.promise}).then(function(t){c=t.value,e()},function(){e()})}}).then(function(){c&&(l=_.find(e.potentialOwners,function(e){if("Organization"==e.accountType)return e.slug==c})),e.app.owner=l||y,"Organization"!=e.app.owner.accountType?r(function(){e.potentialOwnersPopover.isVisible=!0},1e3):i.search("organization_slug",c)})},function(t){e.createAppProgress.error(t)})}function g(){e.potentialOwnersPopover.isVisible=!1;var n="Organization"==e.app.owner.accountType?e.app.owner.slug:null;i.search("organization_slug",n);var r=o.userMetadataPath(y),s={last_app_create_owner_slug:n};t.put(r,s,{timeout:b.promise}).then(function(){_.isNull(e.gitConfig)||m(e.app.owner)},function(){})}function m(n){e.transferOwnershipProgress.start("Transferring ownership, wait a sec...");var i=o.teamMemberTransferOwnershipPath(e.app),r={should_remain_service_credential_user:!0};switch(n.accountType){case"User":r.username=n.username;break;case"Organization":r.organization_slug=n.slug}t.put(i,r,{timeout:b.promise},"Error transferring ownership.").then(function(){e.transferOwnershipProgress.success()},function(t){e.transferOwnershipProgress.error(t)})}function v(){return n(function(n,i){if(null!==e.gitConfig){var r="/app/"+e.gitConfig.slug+"/destroy.json";t["delete"](r,{timeout:b.promise}).then(function(){n()},function(e){i(e)})}else n()})}var y,b=n.defer(),w=7;e.numberOfLoadedChildCtrls=0,e.app=new u,e.potentialOwnersPopover=new l("bottom"),e.firstBuild,e.gitConfig=null,e.SSHConfig=null,e.validationConfig=null,e.isValidationResumed=!1,e.isValidationFinishedWithSuccess=!1,e.projectBuildConfig=null,e.shouldAuthenticateXamarin=!1,e.isXamarinAuthenticationFinished=!1,e.isWebhookSetupEnded=!1,e.transferOwnershipProgress=new a,e.createAppProgress=new a,e.$on("$destroy",function(){b.resolve()}),e.init=function(t,n,i,r){e.app.slug=t,e.$on("CreateAppSelectRepoCtrl::ready",function(){e.numberOfLoadedChildCtrls++}),e.$on("CreateAppSetupRepoAccessCtrl::ready",function(){e.numberOfLoadedChildCtrls++}),e.$on("CreateAppValidationSetupCtrl::ready",function(){e.numberOfLoadedChildCtrls++}),e.$on("CreateAppValidationCtrl::ready",function(){e.numberOfLoadedChildCtrls++}),e.$on("BuildLogsCtrl::ready",function(){e.numberOfLoadedChildCtrls++}),e.$on("CreateAppProjectBuildConfigCtrl::ready",function(){e.numberOfLoadedChildCtrls++}),e.$on("XamarinEnsureUserLoggedInCtrl::ready",function(){w++,e.numberOfLoadedChildCtrls++}),e.$on("CreateAppWebhookSetupCtrl::ready",function(){e.numberOfLoadedChildCtrls++});var o=e.$watch("numberOfLoadedChildCtrls",function(t){t==w&&(o(),e.$on("CreateAppSelectRepoCtrl::gitConfigSet",function(t,n,i){e.gitConfig=n,e.app.slug=n.slug,e.$broadcast("CreateAppValidationCtrl::configureWithGitConfig",n),e.$broadcast("CreateAppProjectBuildConfigCtrl::configureWithGitConfig",n),e.$broadcast("CreateAppWebhookSetupCtrl::configureWithGitConfig",n),i?(e.$broadcast("CreateAppSetupRepoAccessCtrl::configureWithSampleAppSSHConfig"),e.$broadcast("CreateAppValidationSetupCtrl::configureWithSampleAppValidationConfig")):e.$broadcast("CreateAppSetupRepoAccessCtrl::configureWithGitConfig",n),e.createAppProgress.isInProgress&&e.createAppProgress.success()}),e.$on("CreateAppSetupRepoAccessCtrl::SSHConfigSet",function(t,n){e.SSHConfig=n}),e.$on("CreateAppValidationSetupCtrl::validationConfigSet",function(t,n){e.validationConfig=n,e.$broadcast("CreateAppValidationCtrl::configureWithValidationConfig",n),e.$broadcast("CreateAppProjectBuildConfigCtrl::configureWithValidationConfig",n)}),e.$on("CreateAppValidationCtrl::validationStarted",function(){(_.isNull(e.SSHConfig)||_.isEmpty(e.SSHConfig))&&_.isNull(e.validationConfig)&&(e.isValidationResumed=!0)}),e.$on("CreateAppValidationCtrl::validationFinishedWithSuccess",function(){e.isValidationFinishedWithSuccess=!0,e.$broadcast("CreateAppProjectBuildConfigCtrl::configureWithValidationFinished")}),e.$on("CreateAppProjectBuildConfigCtrl::startBuildConfigSet",function(t,n,i,r){g(),e.$broadcast("CreateAppWebhookSetupCtrl::startBuildConfigSet",n,i,r,e.app.owner)}),e.$on("CreateAppProjectBuildConfigCtrl::projectBuildConfigSet",function(t,n,i,r){e.projectBuildConfig=_.map(i.envs,function(e,t){return{placeholder:t,value:e}}),r&&e.projectBuildConfig.push({placeholder:"Selected stack",value:r.title}),e.shouldAuthenticateXamarin="xamarin"==n.id,!1===e.shouldAuthenticateXamarin&&e.$emit("XamarinEnsureUserLoggedInCtrl::loginFinished")}),e.$on("XamarinEnsureUserLoggedInCtrl::loginFinished",function(){e.isXamarinAuthenticationFinished=!0}),e.$on("CreateAppWebhookSetupCtrl::buildStarted",function(t,n){e.firstBuild=n}),e.$on("CreateAppWebhookSetupCtrl::webhookSetupEnded",function(){e.isWebhookSetupEnded=!0}),e.isXamarinAuthenticationFinished=r,e.app.slug?(e.createAppProgress.start("Resuming App create, wait a sec..."),e.$broadcast("CreateAppSelectRepoCtrl::resumeWithSlug",e.app.slug),e.$on("CreateAppSelectRepoCtrl::failedToResume",function(){e.createAppProgress.error(new Error("Failed to resume. Please restart the process!"))})):i&&i.sample_app_id?e.$broadcast("CreateAppSelectRepoCtrl::configureWithSampleAppGitConfig",i.sample_app_id):i&&_.isEmpty(i.sample_app_id)&&_.isString(i.sample_app_id)?e.$broadcast("CreateAppSelectRepoCtrl::configureWithSampleAppGitConfig"):e.$broadcast("CreateAppSelectRepoCtrl::configureWithNewRepoSelect"),n&&e.$broadcast("CreateAppValidationCtrl::configureWithBranchName",n),f())})},e.restart=function(){e.createAppProgress.start("Restarting App create, wait a sec..."),v().then(function(){window.location="/apps/add"},function(t){c.alertError("Failed to restart!",t.message),e.createAppProgress.reset()})},e.abort=function(){e.createAppProgress.start("Aborting App, wait a sec..."),v().then(function(){window.location="/"},function(t){c.alertError("Failed to abort!",t.message),e.createAppProgress.reset()})}}])}(),function(){"use strict";Bitrise.controller("CreateAppProjectBuildConfigCtrl",["$scope","http","Progress","PopupV3","Stack","UserJourneyTracker",function(e,t,n,i,r,o){function s(){e.loadScannedDataProgress.start("Loading project data, wait a sec...");var n="/app/"+h+"/scan_info.json";t.get(n,undefined,"Error loading project data!").then(function(t){if(e.getCustomConfig().then(function(){if(_.isEmpty(t.scan_results)||_.isEmpty(t.scan_results.options))return void e.configureBuildManually(!0)}),!_.isEmpty(t.scan_results)){e.scannedConfigParameters=t.scan_results.options,u=e.scannedConfigParameters;var n=e.availableProjectTypes().length;1==n?e.projectTypeSelected(e.availableProjectTypes()[0]):n<1&&(e.noProjectConfigurationFound=!0)}e.loadScannedDataProgress.success()},function(t){e.loadScannedDataProgress.error(t)})}function a(){e.filteredStacks=_.filter(e.stacks,function(t){return _.contains(t.projectTypes,e.selectedProjectType.id)}),e.selectedStack=_.find(e.filteredStacks,function(t){return t.id==d[e.selectedProjectType.id].default_stack})}function l(){e.loadStacksProgress.start("Loading stacks, wait a sec...");var n="/app/"+e.$parent.gitConfig.slug+"/all_stack_info.json";t.get(n,undefined,"Error loading stacks.").then(function(t){d=_.each(t.project_types_with_default_stacks,function(e,t){return!t.startsWith("_")}),e.stacks=_.map(t.available_stacks,function(e,t){var n=new r(t);return n.title=e.title,n.description=e.description,n.projectTypes=e["project-types"],n.descriptionURL=e["description-link"],n.queueInfos.preBooted=e["queue-info"]["pre-booted"]!=undefined,n.queueInfos.onDemand=e["queue-info"]["on-demand"]!=undefined,n.dockerImageName=undefined,n}),e.selectedProjectType&&a(),e.loadStacksProgress.success()},function(t){e.loadStacksProgress.error(t.message+=" Click here to reload.",l)})}function c(n){e.projectBuildConfigSetProgress.start("Saving project build configuration, wait a sec...");var i="/app/"+h+"/finish.json",r=n;t.post(i,r,undefined,"Error saving project build configuration!").then(function(t){e.projectBuildConfigSetProgress.success(),o.trackFirstNonDemoRepositoryAdded(),e.$emit("CreateAppProjectBuildConfigCtrl::startBuildConfigSet",t.api_token,t.branch_name,t.is_webhook_auto_reg_supported),e.$emit("CreateAppProjectBuildConfigCtrl::projectBuildConfigSet",e.selectedProjectType,n,e.specifiedConfig.stack)},function(t){e.projectBuildConfigSetProgress.error(t)})}var u,d,h=null,p=null;e.currentOption,e.noProjectConfigurationFound=!1,e.specifiedConfig={optionsWithSelectedValue:[],config:null,stack:null},e.projectTypes=[{id:"ios",name:"iOS",cssClass:"ios"},{id:"android",name:"Android",cssClass:"android"},{id:"xamarin",name:"Xamarin",cssClass:"xamarin"},{id:"fastlane",name:"Fastlane",cssClass:"fastlane"},{id:"macos",name:"MacOS",cssClass:"macos"},{id:"cordova",name:"Cordova",cssClass:"cordova"},{id:"ionic",name:"ionic",cssClass:"ionic"},{id:"react-native",name:"React Native",cssClass:"react-native"},{id:"other",name:"Other",cssClass:"other"}],e.stacks,e.filteredStacks,e.manualConfigInputValue="",e.scannedConfigParameters=null,e.shouldConfigureBuildManually=!1,e.selectedProjectType=null,e.loadScannedDataProgress=new n,e.loadCustomConfigProgress=new n,e.projectBuildConfigSetProgress=new n,e.loadStacksProgress=new n,e.projectNotFoundPopup=new i("popup-project-not-found",e),e.init=function(){e.$on("CreateAppProjectBuildConfigCtrl::configureWithGitConfig",function(e,t){h=t.slug}),e.$on("CreateAppProjectBuildConfigCtrl::configureWithValidationConfig",function(t,n){null===n.branchToScan&&e.getCustomConfig().then(function(){e.configureBuildManually(!0)})}),e.$on("CreateAppProjectBuildConfigCtrl::configureWithValidationFinished",function(){l(),e.shouldConfigureBuildManually||s()}),e.$emit("CreateAppProjectBuildConfigCtrl::ready")},e.getCustomConfig=function(){e.loadCustomConfigProgress.start("Loading custom config data, wait a sec...");var n="/app/"+h+"/custom_config.json";return t.get(n,undefined,"Error loading custom config data!").then(function(t){p=t.scan_results.options,e.loadCustomConfigProgress.success()},function(t){e.loadCustomConfigProgress.error(t)})},e.configureBuildManually=function(t){if(e.shouldConfigureBuildManually=t,e.currentOption=null,e.selectedProjectType=null,e.specifiedConfig={optionsWithSelectedValue:[],config:null,stack:null},t)e.noProjectConfigurationFound=!1,u=p;else{u=e.scannedConfigParameters,e.noProjectConfigurationFound=!u;var n=e.availableProjectTypes().length;1==n?e.projectTypeSelected(e.availableProjectTypes()[0]):n<1&&(e.noProjectConfigurationFound=!0)}e.loadScannedDataProgress.reset(),e.loadCustomConfigProgress.reset(),
e.projectBuildConfigSetProgress.reset()},e.availableProjectTypes=function(){var t=_.keys(_.pick(u,function(e){return!_.isEmpty(e)}));return e.shouldConfigureBuildManually&&t.push("other"),_.filter(e.projectTypes,function(e){return _.contains(t,e.id)})},e.isProjectTypeAvailable=function(t){return _.contains(e.availableProjectTypes(),t)},e.projectTypeSelected=function(t){if(t==e.selectedProjectType)return void(e.shouldConfigureBuildManually&&(e.selectedProjectType=null));if(e.specifiedConfig={optionsWithSelectedValue:[],config:null,stack:null},e.manualConfigInputValue="",e.selectedProjectType=t,e.shouldConfigureBuildManually&&"other"==t.id?l():e.currentOption=u[t.id],!e.shouldConfigureBuildManually&&1==_.keys(e.currentOption.value_map).length){var n=_.keys(e.currentOption.value_map)[0];e.valueSelected(n)}e.shouldConfigureBuildManually||_.has(e.scannedConfigParameters[t.id],"value_map")||(e.noProjectConfigurationFound=!0)},e.valueSelected=function(t){if(e.specifiedConfig.optionsWithSelectedValue.push({option:e.currentOption,selectedValue:t}),e.currentOption.value_map)if(e.shouldConfigureBuildManually)e.currentOption.value_map._?e.currentOption=e.currentOption.value_map._:e.currentOption=e.currentOption.value_map[t],e.manualConfigInputValue="";else if(e.currentOption=e.currentOption.value_map[t],1==_.keys(e.currentOption.value_map).length){var t=_.keys(e.currentOption.value_map)[0];e.valueSelected(t)}e.currentOption.config&&_.isNull(e.specifiedConfig.config)&&(e.specifiedConfig.config={selectedValue:t,selectedConfig:e.currentOption.config},a(),e.shouldConfigureBuildManually||e.stackSelected(e.selectedStack))},e.stackSelected=function(t){t&&(e.specifiedConfig.optionsWithSelectedValue.push({option:{id:t.id,title:e.selectedProjectType.name+" stack"},selectedValue:t.title}),e.specifiedConfig.stack=new r(t.id),e.specifiedConfig.stack.title=t.title,e.currentOption.stackTitle=t.title)},e.clearOption=function(t){var n=_.indexOf(e.specifiedConfig.optionsWithSelectedValue,t);e.specifiedConfig.optionsWithSelectedValue=e.specifiedConfig.optionsWithSelectedValue.slice(0,n),e.specifiedConfig.stack?e.specifiedConfig.stack=null:e.specifiedConfig.config&&(e.specifiedConfig.config=null),e.shouldConfigureBuildManually&&(e.manualConfigInputValue=""),e.currentOption=n>0?t.option:u[e.selectedProjectType.id]},e.cancelProjectBuildConfig=function(){e.clearOption(_.last(e.specifiedConfig.optionsWithSelectedValue))},e.saveProjectBuildConfig=function(){var t={mode:e.shouldConfigureBuildManually?"manual":"scanned",project_type:e.selectedProjectType.id,config:e.specifiedConfig.config.selectedConfig,stack_id:e.specifiedConfig.stack.id,envs:{}};_.each(e.specifiedConfig.optionsWithSelectedValue,function(e){e.option.env_key&&(t.envs[e.option.env_key]=e.selectedValue)}),c(t)},e.projectBuildConfigSetManually=function(t){var n={mode:"manual",stack_id:t.id};e.specifiedConfig.stack=t,c(n)}}])}(),function(){"use strict";Bitrise.controller("CreateAppSelectRepoCtrl",["$scope","http","$q","Progress","PopupV4",function(e,t,n,i,r){function o(n){var i={slug:n},r=function(){e.$emit("CreateAppSelectRepoCtrl::failedToResume")},o="/api/app/"+n+".json";t.get(o,{timeout:l.promise}).then(function(t){try{if("string"!=typeof t.url||"string"!=typeof t.provider)throw"Invalid repository format";if(i.gitCloneURL=t.url,i.providerId=t.provider,i.type="git","custom"!=t.provider){if("string"!=typeof t.owner||"string"!=typeof t.repo_slug)throw"Invalid repository format";var n=_.find(e.providers,function(e){return e.id==t.provider});n&&(i.providerName=n.name),i.owner=t.owner,i.repoSlug=t.repo_slug}}catch(e){return void r()}a(i)},function(){r()})}function s(){e.selectedProvider=null,e.selectedUser=null,e.selectedRepository=null,e.customGitCloneURL="",e.repositoryFilter=""}function a(n,i){function r(){e.$emit("CreateAppSelectRepoCtrl::gitConfigSet",n,i)}if(n.isGitCloneURLHTTP="http"==n.gitCloneURL.slice(0,4),null==n.slug){if(e.registerRepositoryProgress.start("Registering repository, hang tight for a sec..."),"git"!=n.type)return void e.registerRepositoryProgress.error(new Error("Invalid URL - only git is supported at the moment!"));var o={provider:n.providerId,repo_url:n.gitCloneURL,type:n.type,owner:n.owner,repo_slug:n.repoSlug};t.post("/apps/add/register-repository.json",o,{timeout:l.promise},"Error registering repository!").then(function(t){try{n.slug=t.slug}catch(t){return void e.registerRepositoryProgress.error(t)}e.registerRepositoryProgress.success(),r()},function(t){e.registerRepositoryProgress.error(t)})}else r()}var l=n.defer(),c={ios:"https://github.com/bitrise-io/sample-apps-ios-simple-objc.git",android:"https://github.com/bitrise-samples/sample-apps-android-sdk22.git",xamarin:"https://github.com/bitrise-samples/xamarin-sample-app.git"},u=null,d=null,h=null;e.providers=null,e.sampleApps=null,e.selectedProvider=null,e.selectedUser=null,e.selectedRepository=null,e.customGitCloneURL="",e.repositoryFilter="",e.providerProgress=new i,e.registerRepositoryProgress=new i,e.init=function(t,n,i,r,s,a){e.providers=[{id:"github",name:"GitHub",cssClass:"github",hostURL:"github.com",isAvailable:t.length>0,connectURL:r,userGroups:null},{id:"bitbucket",name:"Bitbucket",cssClass:"bitbucket",hostURL:"bitbucket.org",isAvailable:n.length>0,connectURL:s,userGroups:null},{id:"gitlab",name:"GitLab",cssClass:"gitlab",hostURL:"gitlab.com",isAvailable:i.length>0,connectURL:a,userGroups:null},{id:"other",cssClass:"other"}],e.sampleApps=[{id:"ios",name:"iOS Sample App",cssClass:"ios-sampleapp"},{id:"android",name:"Android Sample App",cssClass:"android-sampleapp"},{id:"xamarin",name:"Xamarin Sample App",cssClass:"xamarin-sampleapp"}],e.$on("$destroy",function(){l.resolve()}),e.$on("CreateAppSelectRepoCtrl::configureWithNewRepoSelect",function(){e.providerSelected(_.find(e.providers,function(e){return e.isAvailable===undefined||e.isAvailable}))}),e.$on("CreateAppSelectRepoCtrl::configureWithSampleAppGitConfig",function(t,n){n?e.sampleAppSelected(n):e.providerSelected(_.find(e.providers,function(e){return"sampleapp"==e.id}))}),e.$on("CreateAppSelectRepoCtrl::resumeWithSlug",function(e,t){o(t)}),e.$emit("CreateAppSelectRepoCtrl::ready")},e.providerSelected=function(i,r){if(u&&u.resolve("Load provider cancelled by another provider load request"),u=n.defer(),s(),e.providerProgress.start("Loading provider info, hang tight for a sec..."),e.selectedProvider=i,"other"==i.id)return void e.providerProgress.success();if("sampleapp"==i.id)return void e.providerProgress.success();if(!i.isAvailable)return void e.providerProgress.success();var o=function(){i.userGroups[0].users[0].repositories.length>0?e.userSelected(i.userGroups[0].users[0]):i.userGroups[1].users.length>0?e.userSelected(i.userGroups[1].users[0]):e.userSelected(i.userGroups[0].users[0])};if(null!=i.userGroups&&!r)return o(),void e.providerProgress.success();var a="/repository/list/"+i.id+".json";t.get(a,{timeout:u.promise},"Failed to load provider info!").then(function(t){u=null,d=t.current_user_username,h=t.current_user_avatar,i.userGroups=[{name:"my repos",users:[{username:d,avatarURL:h,repositories:[]}]},{name:"others' repos",users:[]}],_.each(t.repositories,function(e){var t={repoSlug:e.slug,title:e.name,type:e.type,avatar:e.avatar,description:e.description},n=i.userGroups[e.owner==d?0:1],r=_.find(n.users,function(t){return t.username==e.owner});null==r?n.users.push({username:e.owner,avatarURL:e.avatar,repositories:[t]}):r.repositories.push(t)}),o(),e.providerProgress.success()},function(t){e.providerProgress.error(t)})},e.userSelected=function(t){e.repositoryFilter="",e.selectedUser=t},e.repositorySelected=function(t){e.selectedRepository=t,a({gitCloneURL:"git@"+e.selectedProvider.id+":"+e.selectedUser.username+"/"+t.repoSlug+".git",providerId:e.selectedProvider.id,providerName:e.selectedProvider.name,owner:e.selectedUser.username,repoSlug:t.repoSlug,type:t.type})},e.customGitCloneURLSet=function(){n(function(t,n){if("http"==e.customGitCloneURL.substring(0,4)){r.confirm(undefined,"Because you specified an HTTP(S) clone URL we can't use an SSH keypair for authentication. If it's not a public repository please specify an SSH URL <p><b>(typically something like: git@provider.com:user/repo.git)</b>.</p>","This is a public repository","I'll add an SSH URL",!1).then(function(){t()},function(){n()})}else t()}).then(function(){a({gitCloneURL:e.customGitCloneURL,providerId:"custom",type:"git"})})},e.sampleAppSelected=function(e){var t=c[e];null!=t&&a({gitCloneURL:t,providerId:"custom",type:"git"},!0)}}])}(),function(){"use strict";Bitrise.controller("CreateAppSetupRepoAccessCtrl",["$scope","$q","$http","http","PopupV3","Progress","SSH",function(e,t,n,i,r,o,s){function a(t){var n,i=new RegExp(/^(git\@?|ssh|https?)([\w\.]+)?:(\/\/)?([\w\.@:\/~_-]+)(\.git|\_git)(\/?|\#[\d\w\.\-_]+?)$/),r=i.exec(t.gitCloneURL);if(!_.isNull(r)){if(_.isUndefined(r[2])){if(r[4].indexOf("visualstudio")>-1){var o=r[4].substring(0,r[4].indexOf("@"));e.providerSettingsURL="https://"+o+".visualstudio.com/_details/security/keys",n="visualstudio"}}else r[2].indexOf("github")>-1?(e.providerSettingsURL="https://github.com/settings/keys",n="github"):r[2].indexOf("bitbucket")>-1?(e.providerSettingsURL="https://bitbucket.org/account/user/"+t.owner+"/ssh-keys/",n="bitbucket"):r[2].indexOf("gitlab")>-1&&(e.providerSettingsURL="https://gitlab.com/profile/keys",n="gitlab");e.scannedProvider={id:"custom",providerName:"Custom"},_.isUndefined(n)||(e.scannedProvider=_.find(h,function(e){return e.id==n})),_.isUndefined(e.scannedProvider)||"bitbucket"!=e.scannedProvider.id&&"github"!=e.scannedProvider.id&&"gitlab"!=e.scannedProvider.id&&(e.notAbleToautoAddSSHKey=!0,e.shouldUseAnotherPrivateRepo=!0)}}function l(n){var r=function(){e.$emit("CreateAppSetupRepoAccessCtrl::SSHConfigSet",n)};if(n.SSHPrivateKey===undefined)return r(),t.when();var o=t.defer(),s="/app/"+d.slug+"/register-ssh-keys.json",a={auth_ssh_private_key:n.SSHPrivateKey,auth_ssh_public_key:n.SSHPublicKey,is_register_key_into_provider_service:n.shouldAutoAdd};return i.post(s,a,{timeout:c.promise},"Failed to save SSH key.").then(function(){r(),o.resolve()},function(e){d.providerName&&n.shouldAutoAdd?o.reject(new TypeError("Error registering SSH keys to "+d.providerName+". It is possible that you don't have admin rights to this repository, try to register the Public Key manually and then select 'I've added the SSH key'.")):o.reject(e)},function(e){o.notify(e)}),o.promise}var c=t.defer(),u={},d=null;e.scannedProvider,e.providerSettingsURL,e.generatedSSHPublicKey="",e.generatedSSHPrivateKey="",e.manualSSHPrivateKey="",e.noAdminRightsPopup=new r("popup-no-admin-rights",e),e.generateSSHProgress=new o,e.registerManuallySetSSHProgress=new o,e.registerAutoAddedSSHProgress=new o,e.shouldShowSSHPrivateKey=!1,e.isCopySShKeyBoxVisible=!1,e.isGeneratedSSHKeyCopied=!1,e.shouldUseAnotherPrivateRepo=!1,e.shouldAddSSHKeyAutomatically=!0,e.notAbleToautoAddSSHKey=!1;var h=[{id:"github",providerName:"Github"},{id:"bitbucket",providerName:"Bitbucket"},{id:"gitlab",providerName:"Gitlab"},{id:"visualstudio",providerName:"VisualStudio"}];e.$on("$destroy",function(){c.resolve()}),e.init=function(){e.$on("CreateAppSetupRepoAccessCtrl::configureWithSampleAppSSHConfig",function(){l(u)}),e.$on("CreateAppSetupRepoAccessCtrl::configureWithGitConfig",function(t,n){d=n,n.isGitCloneURLHTTP&&l({}),a(n),e.generateSSHProgress.start("Generating SSH keypair, please wait..."),s.generateSSHKeypair().then(function(t){e.generatedSSHPublicKey=t.publicKey,e.generatedSSHPrivateKey=t.privateKey,e.generateSSHProgress.success()},function(){e.generateSSHProgress.error(new Error("Failed to generate SSH keypair!"))})}),e.$emit("CreateAppSetupRepoAccessCtrl::ready")},e.publicGitCloneURLConfirmed=function(){l({})},e.addSSHKeyAutomatically=function(t){e.shouldAddSSHKeyAutomatically=t,t||(e.shouldUseAnotherPrivateRepo=!1,e.manualSSHPrivateKey=""),e.isGeneratedSSHKeyCopied=!1,_.isUndefined(e.scannedProvider)||"bitbucket"!=e.scannedProvider.id&&"github"!=e.scannedProvider.id&&"gitlab"!=e.scannedProvider.id&&1==e.shouldAddSSHKeyAutomatically&&(e.notAbleToautoAddSSHKey=!0,e.shouldUseAnotherPrivateRepo=!0)},e.useAnotherPrivateRepo=function(t){e.shouldUseAnotherPrivateRepo=t,t&&(e.isGeneratedSSHKeyCopied=!1),e.registerAutoAddedSSHProgress.isError&&e.resetRegisterAutoAddedSSHProgress()},e.copySSHKeyToClipboard=function(t){t&&e.activateAddSSHKeyButton()},e.activateAddSSHKeyButton=function(){e.isGeneratedSSHKeyCopied=!0},e.addCopiedSSHKeyToRepo=function(){e.registerManuallySetSSHProgress.start("Registering SSH keypair, please wait..."),l({SSHPrivateKey:e.manualSSHPrivateKey}).then(function(){e.registerManuallySetSSHProgress.success()},function(t){e.registerManuallySetSSHProgress.error(new Error(t))})},e.generatedSSHSelectedWithAutoAdd=function(t){e.registerAutoAddedSSHProgress.start("Registering SSH keypair, please wait..."),l({SSHPublicKey:e.generatedSSHPublicKey,SSHPrivateKey:e.generatedSSHPrivateKey,shouldAutoAdd:t}).then(function(){e.registerAutoAddedSSHProgress.success()},function(t){e.useAnotherPrivateRepo(!0),e.noAdminRightsPopup.setIsVisible(!0),e.registerAutoAddedSSHProgress.error(new Error(t))})},e.resetRegisterAutoAddedSSHProgress=function(){e.registerAutoAddedSSHProgress.reset()}}])}(),function(){"use strict";Bitrise.controller("CreateAppValidationCtrl",["$scope","$rootScope","$http","$q","$timeout","http","Progress","Build",function(e,t,n,i,r,o,s,a){function l(){e.validationProgress.start("Starting validation, wait a sec...");var t="/app/"+d.slug+"/start-validation.json",i={branch_to_scan:g.branchToScan,is_check_only_repository_access:null==g.branchToScan};return n.post(t,i).then(function(){e.validationProgress.success(),b()},function(){e.shouldDisplayFullLog=!0,e.validationProgress.error(new Error("Error starting validation! Click here to try again."),e.restartValidation)})}function c(){return i(function(t,n){if(null==e.validationBuild.repositoryValidationSlug)try{e.validationBuild.repositoryValidationSlug=d.slug}catch(e){return void n(e)}e.validationBuild.fetchValidationStatus().then(function(){if(-1!=e.validationBuild.status){if(e.$emit("CreateAppValidationCtrl::validationStarted"),y||(y=!0,e.$broadcast("BuildLogsCtrl::loadLogs",e.validationBuild)),3==e.validationBuild.status)return void r(function(){c().then(function(e){t(e)},function(e){n(e)})},1e3*f);if(0!=e.validationBuild.status){try{e.validationBuild.finishedAt=new Date}catch(e){return void n(e)}1==e.validationBuild.status&&(!h&&!g.branchToScan||!_.isUndefined(e.restartWithoutScanner)&&0!=e.restartWithoutScanner?e.finishValidation():u())}2==e.validationBuild.status&&(e.validationProgress.error(new Error(m)),e.warningMessages.push(m))}t(e.validationBuild.status>1)},function(e){n(e.data.error_msg)})})}function u(){e.loadScannerWarningsProgress.start("Check warnings from scanner, wait a sec...");var t="/app/"+d.slug+"/scan_info.json";o.get(t,undefined,"Error checking warnings!").then(function(t){_.isEmpty(t.scan_results)||(_.isEmpty(t.scan_results.options)?e.hasScannedValidProject=!1:e.hasScannedValidProject=_.any(t.scan_results.options,function(e){return!_.isEmpty(e)}),e.warningMessages=_.flatten(_.map(t.scan_results.warnings,function(e){return _.values(e)})),e.warningMessages=_.union(e.warningMessages,_.flatten(_.map(t.scan_results.errors,function(e){return _.values(e)}))),d.isGitCloneURLHTTP&&t.scan_results.errors&&!_.isEmpty(t.scan_results.errors)&&(e.shouldShowSSHSetupNotice=!1)),e.warningMessages.length<1&&e.finishValidation(),e.loadScannerWarningsProgress.success()},function(t){e.loadScannerWarningsProgress.error(t)})}var d,h,p=2,f=5,g={branchToScan:null},m="Validation failed!",v="Validation failed! Click here to try again.",y=!1;e.validationBuild=new a,e.loadValidationProgress=new s,e.validationProgress=new s,e.loadScannerWarningsProgress=new s,e.shouldShowLogs=!0,e.shouldDisplayFullLog=!1,e.shouldShowSSHSetupNotice=!1,e.warningMessages=[],e.hasScannedValidProject=!1,e.restartWithoutScanner,e.init=function(){e.$on("CreateAppValidationCtrl::configureWithBranchName",function(e,t){h=t}),e.$on("CreateAppValidationCtrl::configureWithGitConfig",function(t,n){d=n,e.loadValidation()}),e.$on("CreateAppValidationCtrl::configureWithValidationConfig",function(e,t){g=t,l()}),e.$emit("CreateAppValidationCtrl::ready")},e.loadValidation=function(){e.loadValidationProgress.start("Loading validation, wait a sec..."),c().then(function(t){t&&(e.shouldDisplayFullLog=!0,g?(e.validationProgress.start(),e.validationProgress.error(new Error(v),e.restartValidation)):e.validationProgress.error(new Error(m))),e.loadValidationProgress.success(),0!=e.validationBuild.status&&3!=e.validationBuild.status||b()},function(){e.shouldDisplayFullLog=!0,e.loadValidationProgress.error(new Error("Error loading validation! Click here to try again."),e.loadValidation)})},e.restartValidation=function(t){e.shouldShowSSHSetupNotice=!1,e.validationBuild=new a,e.shouldDisplayFullLog=!1,e.warningMessages=[],e.restartWithoutScanner=t,e.hasScannedValidProject=!1,y=!1,e.$broadcast("BuildLogsCtrl::clearLogs"),g={branchToScan:t?null:g.branchToScan?g.branchToScan:h},l()},e.finishValidation=function(){e.shouldShowLogs=!1,e.$emit("CreateAppValidationCtrl::validationFinishedWithSuccess")};var b=function(){c().then(function(t){0==e.validationBuild.status||3==e.validationBuild.status?(3==e.validationBuild.status&&(e.validationProgress.isInProgress&&e.validationProgress.reset(),e.validationProgress.start("Validation aborted! Waiting for retry...")),r(b,1e3*p)):t&&(e.shouldDisplayFullLog=!0,g?(e.validationProgress.error(new Error(v),e.restartValidation),d.isGitCloneURLHTTP&&(e.shouldShowSSHSetupNotice=!0)):e.validationProgress.error(new Error(m)))},function(){e.shouldDisplayFullLog=!0,g?e.validationProgress.error(new Error(v),e.restartValidation):e.validationProgress.error(new Error(m))})};e.viewLogs=function(){e.shouldShowLogs||(e.$broadcast("BuildLogsCtrl::loadLogs",e.validationBuild),e.shouldShowLogs=!0)}}])}(),function(){"use strict";Bitrise.controller("CreateAppValidationSetupCtrl",["$scope","Repository","Progress",function(e,t,n){function i(t,n){e.savingBranchNameProgress.start("Saving branch name, wait a sec..."),o.slug=e.$parent.gitConfig.slug,o.changeAndSaveProperty("default_branch",t.branchToScan).then(function(){n?e.$emit("CreateAppValidationSetupCtrl::validationConfigSet",t):(t.branchToScan=null,e.$emit("CreateAppValidationSetupCtrl::validationConfigSet",t)),e.savingBranchNameProgress.success()},function(t){e.savingBranchNameProgress.error(t)})}var r={branchToScan:"master"},o=new t;e.shouldConfigureBuildManually=!0,e.branchNameForAutoConfig="master",e.branchNameForManualConfig="master",e.savingBranchNameProgress=new n,e.init=function(){e.$on("CreateAppValidationSetupCtrl::configureWithSampleAppValidationConfig",function(){i(r,!0)}),e.$emit("CreateAppValidationSetupCtrl::ready")},e.configureBuildManually=function(t){e.shouldConfigureBuildManually=t,t&&(e.branchNameForManualConfig="master")},e.branchSetManuallyForManualConfig=function(){i({branchToScan:e.branchNameForManualConfig},!1)},e.branchSetManuallyForAutoConfig=function(){i({branchToScan:e.branchNameForAutoConfig},!0)}}])}(),function(){"use strict";Bitrise.controller("CreateAppWebhookSetupCtrl",["$scope","$http","Progress","Build",function(e,t,n,i){function r(t){e.resultMessage=t,c?o():e.$emit("CreateAppWebhookSetupCtrl::webhookSetupEnded")}function o(){e.buildConfigProgress.start("Preparing first build, please wait...");var t={branch:s};i.startNewBuild(u,a,t).then(function(t){var n=new i(t);e.$emit("CreateAppWebhookSetupCtrl::buildStarted",n),e.$emit("CreateAppWebhookSetupCtrl::webhookSetupEnded"),e.buildConfigProgress.success("Build successfully started")},function(t){e.buildConfigProgress.error(new Error("Failed to start Build: "+t.message)),e.$emit("CreateAppWebhookSetupCtrl::webhookSetupEnded")},function(t){e.buildConfigProgress.error(new Error("Failed to start Build: "+t)),e.$emit("CreateAppWebhookSetupCtrl::webhookSetupEnded")})}var s,a,l,c,u=null;e.isWebhookAutoRegSupported,e.webhookProgress=new n,e.buildConfigProgress=new n,e.resultMessage=null,e.init=function(){e.$on("CreateAppWebhookSetupCtrl::configureWithGitConfig",function(e,t){u=t.slug}),e.$on("CreateAppWebhookSetupCtrl::startBuildConfigSet",function(t,n,i,o,u){a=n,s=i,l=u,c=!(l&&"Organization"==l.accountType&&l.plan.isHobby()),e.isWebhookAutoRegSupported=o,e.isWebhookAutoRegSupported||r("Webhook registration skipped, <strong>you can register a webhook manually later on the app's Code tab.</strong>")}),e.$emit("CreateAppWebhookSetupCtrl::ready")},e.registerWebhook=function(){e.webhookProgress.start("Registering webhook, wait a sec...");var n="/app/"+u+"/register-webhook.json";t.post(n).then(function(){e.webhookProgress.success(),r("Webhook registered")},function(t){var n="Failed to register a webhook. Make sure that you have the required access rights to the repository!";t.data.error_msg&&(n=t.data.error_msg),e.webhookProgress.error(new Error(n))})},e.skipWebhookRegistration=function(){r("Webhook registration skipped")}}])}(),function(){"use strict";Bitrise.controller("CreateOrganizationController",["$scope","$q","$location","http","routeService","StyleGenerator","PopupV4","Progress","Organization","App","User",function(e,t,n,i,r,o,s,a,l,c){function u(){f.resolve(),f=t.defer(),e.loadOwnedAppsProgress.start("Loading apps, wait a sec...");var n={user_role:"owner",only_direct:!0,current_app_count:e.loadedOwnedApps?e.loadedOwnedApps.length:0};i.get("/apps.json",{params:n,timeout:f.promise},"Woops... Error loading app list, click here to try again.").then(function(t){v=[],e.appTransferGetterSetters={},e.loadedOwnedApps.length>0?e.loadedOwnedApps=_.union(e.loadedOwnedApps,_.map(t.repositories,function(e){var t=new c;return t.slug=e.slug,t.title=e.title,t.projectType=e.project_type,t})):e.loadedOwnedApps=_.map(t.repositories,function(e){var t=new c;return t.slug=e.slug,t.title=e.title,t.projectType=e.project_type,t}),t.next_load_app_count>0?u():(_.each(e.loadedOwnedApps,function(t){e.transferAppProgresses[t.slug]=new a,e.appTransferGetterSetters[t.slug]=function(e){return e!==undefined&&d(t),_.contains(v,t)}}),e.loadOwnedAppsProgress.success())},function(t){e.loadOwnedAppsProgress.error(t,u)})}function d(t){e.transferAppProgresses[t.slug].start("Transferring ownership, wait a sec...");var n=r.teamMemberTransferOwnershipPath(t),o={should_remain_service_credential_user:!0};_.contains(v,t)?o.username=p.username:o.organization_slug=e.organization.slug,i.put(n,o,{timeout:h.promise},"Error transferring ownership.").then(function(){_.contains(v,t)?v=_.without(v,t):v.push(t),e.transferAppProgresses[t.slug].success()},function(n){e.transferAppProgresses[t.slug].error(n)},function(){e.transferAppProgresses[t.slug].reset()})}var h,p,f=t.defer(),g={on:{createOrganizationSelected:"ctrl::CreateOrganizationController::createOrganizationSelected"},emit:{organizationCreated:"ctrl::CreateOrganizationController::organizationCreated"}},m={name:{required:"name not specified"},email:{required:"email not specified"}},v=[];e.steps,e.selectedStep,e.loadedOwnedApps=[],e.transferAppProgresses=[],e.appTransferGetterSetters,e.basicInfosFormData={name:"",email:""},e.organization=null,e.createProgress=new a,e.loadOwnedAppsProgress=new a,e.createOrganizationPopup=new s,e.createOrganizationPopup.afterDismissCallback=function(){e.organization&&e.$emit(g.emit.organizationCreated),h.resolve(),f.resolve(),e.loadedOwnedApps=[],e.organization=null,e.basicInfosFormData.name="",e.basicInfosFormData.email="",e.createProgress.reset(),e.loadOwnedAppsProgress.reset()},e.creditCardPartial={shouldLoad:!1,path:undefined,newOrganizationPricingPath:undefined,loaded:function(){e.$on("ctrl::CreditCardCtrl::loadCreditCardFinishedWithSuccess",function(t,n){e.creditCardPartial.creditCard=n}),e.$on("ctrl::CreditCardCtrl::saveCreditCardFinishedWithSuccess",function(){e.$broadcast("ctrl::CreditCardCtrl::toggleCreditCardEditMode",!1),e.$broadcast("ctrl::CreditCardCtrl::loadCreditCard"),e.selectedStep.skipAvailable=!1}),e.creditCardPartial.configParameters.loadCreditCardInProgressMessage=e.creditCardPartial.loadProgress.statusMessage,e.creditCardPartial.configParameters.account=e.organization,e.$broadcast("ctrl::CreditCardCtrl::configureWithParameters",e.creditCardPartial.configParameters),e.$broadcast("ctrl::CreditCardCtrl::loadCreditCard"),e.creditCardPartial.loadProgress.success()},loadProgress:new a,creditCard:undefined,configParameters:{loadCreditCardInProgressMessage:undefined,initialIsEditMode:!0,canCancelEdit:!1,account:undefined}},e.$on("$destroy",function(){h.resolve(),f.resolve()}),e.init=function(n){p=n,e.$on(g.on.createOrganizationSelected,function(){e.createOrganizationPopup.isVisible=!0,u()}),e.createOrganizationPopup.beforeAppearCallback=function(){h=t.defer(),e.basicInfosFormData.email=p.email,e.steps=[{title:function(){return"Create new Organization"},skipAvailable:!1},{title:function(){if(e.organization)return"Add billing info to <strong>"+e.organization.name+"</strong>"},skipAvailable:!0,skipSelected:function(){e.selectedStep=e.steps[2]}},{title:function(){if(e.organization)return"Transfer apps to <strong>"+e.organization.name+"</strong>"},skipAvailable:!0,skipSelected:function(){e.createCompleted()}}],e.selectedStep=_.first(e.steps)}},e.create=function(){if(e.createProgress.start("Creating Organization, wait a sec..."),!e.basicInfosForm.$valid){var t=o.errorMessageForFormModel(e.basicInfosForm,m,"Organization basic info invalid or not fully specified.");return void e.createProgress.error(new Error(t))}var n={name:e.basicInfosFormData.name,email:e.basicInfosFormData.email};i.post("/organization",n,{timeout:h.promise},"Error creating Organization.").then(function(t){e.organization=new l(t.slug),e.organization.name=t.name,e.organization.billingEmail=t.email,e.creditCardPartial.path=r.creditCardPartialPath(e.organization),e.createProgress.success(),e.selectedStep=e.steps[1],e.creditCardPartial.shouldLoad=!0},function(t){e.createProgress.error(t)})},e.createCompleted=function(){var t=e.organization;e.createOrganizationPopup.isVisible=!1,s.confirm("This organization doesn't have an active subscription yet.","Unless the organization has an active subscription, builds of its apps won't run.","OK","Check billing",!1,"notice").then(function(){window.location=r.settingsPath(t)},function(){window.location=r.settingsPath(t,{anchor:r.billingAnchor()})})}}])}(),function(){"use strict";Bitrise.controller("CreditCardCtrl",["$scope","$q","http","routeService","StyleGenerator","Progress","PopupV4",function(e,t,n,i,r,o,s){function a(){e.loadCreditCardProgress.start(h);var t=i.creditCardPath(d);n.get(t,{timeout:c.promise}).then(function(t){e.countries=_.sortBy(_.map(t.countries,function(e){return{id:e.iso2,name:e.name}}),function(e){return e.name}),e.creditCard=t.credit_card?{expirationMonth:t.credit_card.expiration_month,expirationYear:t.credit_card.expiration_year,creditCardNumberLastFourDigits:t.credit_card.credit_card_number_last_four_digits,firstName:t.credit_card.first_name,lastName:t.credit_card.last_name,cardType:t.credit_card.card_type,companyName:t.credit_card.company_name,streetAddress:t.credit_card.street_address,city:t.credit_card.city,ZIP:t.credit_card.zip,country:_.find(e.countries,function(e){return e.id==t.credit_card.country_iso2}),state:t.credit_card.state,VAT:t.credit_card.vat}:null,l(),e.loadCreditCardProgress.success();var n;"Organization"==d.accountType&&(n=t.billing_email),e.$emit(u.emit.loadCreditCardFinishedWithSuccess,e.creditCard,n)},function(t){t.message="Error loading credit card information, click here to try again",e.loadCreditCardProgress.error(t,a),e.$emit(u.emit.loadCreditCardFinishedWithError,t)})}function l(){e.creditCardForm.creditCardNumber="",e.creditCardForm.firstName=e.creditCard?e.creditCard.firstName:"",e.creditCardForm.lastName=e.creditCard?e.creditCard.lastName:"",e.creditCardForm.expirationMonth="",e.creditCardForm.expirationYear="",e.creditCardForm.CVV="",e.creditCardForm.companyName=e.creditCard?e.creditCard.companyName:"",e.creditCardForm.streetAddress=e.creditCard?e.creditCard.streetAddress:"",e.creditCardForm.city=e.creditCard?e.creditCard.city:"",e.creditCardForm.ZIP=e.creditCard?e.creditCard.ZIP:"",e.creditCardForm.state=e.creditCard?e.creditCard.state:"",e.creditCardForm.country=e.creditCard?e.creditCard.country:"",e.creditCardForm.VAT=e.creditCard?e.creditCard.VAT:""}var c=t.defer(),u={on:{configureWithParameters:"ctrl::CreditCardCtrl::configureWithParameters",loadCreditCard:"ctrl::CreditCardCtrl::loadCreditCard",toggleCreditCardEditMode:"ctrl::CreditCardCtrl::toggleCreditCardEditMode"},emit:{loadCreditCardFinishedWithSuccess:"ctrl::CreditCardCtrl::loadCreditCardFinishedWithSuccess",loadCreditCardFinishedWithError:"ctrl::CreditCardCtrl::loadCreditCardFinishedWithError",creditCardEditModeToggled:"ctrl::CreditCardCtrl::creditCardEditModeToggled",saveCreditCardStarted:"ctrl::CreditCardCtrl::saveCreditCardStarted",saveCreditCardFinishedWithSuccess:"ctrl::CreditCardCtrl::saveCreditCardFinishedWithSuccess",saveCreditCardFinishedWithError:"ctrl::CreditCardCtrl::saveCreditCardFinishedWithError"}},d=i.getAccountFromCurrentPath(),h="Loading credit card information, wait a sec...",p={creditCardNumber:{required:"credit card number not specified"},firstName:{required:"first name not specified"},lastName:{required:"last name not specified"},expirationMonth:{required:"credit card expiration month not specified"},expirationYear:{required:"credit card expiration year not specified"},CVV:{required:"CVV not specified"},streetAddress:{required:"street address not specified"},city:{required:"city not specified"},ZIP:{required:"ZIP code not specified"},state:{required:"state not specified"},country:{required:"country not selected"},VAT:{required:"VAT not specified"}};e.creditCard,e.creditCardForm,e.isEditMode=!1,e.canCancelEdit=!0,e.countries,e.loadCreditCardProgress=new o,e.saveCreditCardProgress=new o,e.init=function(){e.$on(u.on.configureWithParameters,function(t,n){n.loadCreditCardInProgressMessage!==undefined&&(h=n.loadCreditCardInProgressMessage),n.initialIsEditMode!==undefined&&(e.isEditMode=n.initialIsEditMode),n.canCancelEdit!==undefined&&(e.canCancelEdit=n.canCancelEdit),n.account!==undefined&&(d=n.account)}),e.$on(u.on.loadCreditCard,function(){a()}),e.$on(u.on.toggleCreditCardEditMode,function(t,n){e.toggleEditMode(n)})},e.$on("$destroy",function(){c.resolve()}),e.creditCardSaveSelected=function(){if(!e.creditCardForm.$valid){var t=r.errorMessageForFormModel(e.creditCardForm,p,"Credit card data invalid or not fully specified.");return void e.saveCreditCardProgress.error(new Error(t))}e.$emit(u.emit.saveCreditCardStarted),e.saveCreditCardProgress.start((e.creditCard?"Updating":"Saving")+" credit card, wait a sec...");var o=i.saveCreditCardPath(d),a={first_name:e.creditCardForm.firstName,last_name:e.creditCardForm.lastName,credit_card_number:e.creditCardForm.creditCardNumber,cvv:e.creditCardForm.CVV,expiration_month:e.creditCardForm.expirationMonth,expiration_year:e.creditCardForm.expirationYear,company_name:e.creditCardForm.companyName,street_address:e.creditCardForm.streetAddress,city:e.creditCardForm.city,state:e.creditCardForm.state,zip:e.creditCardForm.ZIP,country_iso2:e.creditCardForm.country.id,vat:e.creditCardForm.VAT};n.post(o,a,{timeout:c.promise},"Error saving credit card.").then(function(){e.saveCreditCardProgress.success(),e.$emit(u.emit.saveCreditCardFinishedWithSuccess)},function(t){s.alertError("Error saving credit card!",t.message),e.saveCreditCardProgress.reset(),e.$emit(u.emit.saveCreditCardFinishedWithError,t)})},e.toggleEditMode=function(t){t===undefined&&(iEditMode=!e.isEditMode),e.isEditMode=t,t||(e.saveCreditCardProgress.reset(),l()),e.$emit(u.emit.creditCardEditModeToggled,t)}}]).filter("cardTypeCssClass",function(){return function(e){switch(e){case"American Express":return"amex";case"MasterCard":return"mastercard";case"Visa":return"visa"}}})}(),function(){"use strict";Bitrise.controller("EmailNotificationCtrl",["$scope","$q","http","Progress",function(e,t,n,i){function r(){e.emailProgress.start("Loading email settings, wait a sec...");var t="/app/"+o+"/email_notifications.json";n.post(t,{timeout:s.promise},"Failed to load email settings.").then(function(t){e.appEmailSettings.failedBuildNotification=_.find(e.notificationOptions,function(e){return e.id==t.send_email_on_build_error}),e.appEmailSettings.successfullBuildNotification=_.find(e.notificationOptions,function(e){return e.id==t.send_email_on_build_success}),e.emailProgress.success()},function(t){e.emailProgress.error(t)})}var o,s=t.defer();e.emailProgress=new i,e.appEmailSettings={
failedBuildNotification:undefined,successfullBuildNotification:undefined},e.notificationOptions=[{id:"always",title:"Always send email"},{id:"change",title:"Send email when build status changes on the same branch"},{id:"never",title:"Never send email"}],e.$on("$destroy",function(){s.resolve()}),e.init=function(e){o=e,r()},e.saveAppEmailSettings=function(){e.emailProgress.start("Saving email settings, wait a sec...");var t="/app/"+o+"/update_email_notifications.json",i={on_failure:e.appEmailSettings.failedBuildNotification.id,on_success:e.appEmailSettings.successfullBuildNotification.id};n.post(t,i,{timeout:s.promise},"Failed to save email settings.").then(function(t){e.appEmailSettings.failedBuildNotification=_.find(e.notificationOptions,function(e){return e.id==t.send_email_on_build_error}),e.appEmailSettings.successfullBuildNotification=_.find(e.notificationOptions,function(e){return e.id==t.send_email_on_build_success}),e.emailProgress.success()},function(t){e.emailProgress.error(t)})}}])}(),function(){"use strict";Bitrise.controller("EnvVarsController",["$scope","$q","Variable",function(e,t,n){var i=this,r=t.defer(),o={on:{configureWithParameters:"ctrl::EnvVarsController::configureWithParameters",clearEditedEnvVar:"ctrl::EnvVarsController::clearEditedEnvVar"}};i.envVars,i.editedEnvVar=null,i.editedEnvVarMainKey="",i.editedEnvVarMainValue="",i.source,e.init=function(){e.$on(o.on.configureWithParameters,function(e,t){t.envVars&&(i.envVars=t.envVars),t.source&&(i.source=t.source)}),e.$on(o.on.clearEditedEnvVar,function(){i.editedEnvVar=null})},e.$on("$destroy",function(){r.resolve()}),e.editEnvVarOfSource=function(e,t){e?i.editedEnvVar=e:(i.editedEnvVar={KEY:""},i.editedEnvVar.opts={is_expand:!0},t.push(i.editedEnvVar)),i.editedEnvVarMainKey=n.getVariableMainKey(i.editedEnvVar),i.editedEnvVarMainValue=n.getVariableMainValue(i.editedEnvVar)},e.updateEditedEnvVarMainKeyValuePair=function(){var e=n.getVariableMainKey(i.editedEnvVar),t=n.getVariableMainValue(i.editedEnvVar);i.editedEnvVarMainKey!=e&&(i.editedEnvVar[i.editedEnvVarMainKey]=t,delete i.editedEnvVar[e],e=i.editedEnvVarMainKey),i.editedEnvVarMainValue!=t&&(i.editedEnvVar[e]=i.editedEnvVarMainValue)},e.deleteEditedEnvVarFromSource=function(e){if(i.editedEnvVar&&-1!=e.indexOf(i.editedEnvVar)){n.getVariableMainKey(i.editedEnvVar);e.splice(e.indexOf(i.editedEnvVar),1)}i.editedEnvVar=null},e.envVarsDisplayName=function(e){switch(e===undefined&&(e=!1),i.source){case"secret":return e?"Secret Environment Variables":"Secret Environment Variable";case"app":return e?"App Environment Variables":"App Environment Variable";case"workflow":return e?"Environment Variables":"Environment Variable"}}}])}(),function(){"use strict";angular.module("Bitrise").factory("GenericFile",function(){var e=function(){this.file};return e.prototype.updateFile=function(e){this.file=e},e.prototype.size=function(){return this.file?this.file.size!==undefined?this.file.size:this.file.fileSize!==undefined?this.file.fileSize:void 0:undefined},e.prototype.upload=function(e){return $.ajax({type:"PUT",url:e,contentType:"binary/octet-stream",processData:!1,data:this.file})},e})}(),function(){"use strict";Bitrise.controller("HeaderCtrl",["$scope","$rootScope","$location","http","routeService","DateService","accountSelectorService","User","Progress","Plan",function(e,t,n,i,r,o,s,a,l,c){function u(){h.loadUserDataProgress.start("Loading user info, wait a sec..."),i.get("/me/profile.json",undefined,"Error loading user info.").then(function(e){h.currentUser=new a(e.username),h.currentUser.slug=e.slug,h.currentUser.email=e.email,h.currentUser.unconfirmedEmail=e.unconfirmed_email,h.currentUser.avatarURL=e.gravatar_url,e.still_active_higher_plan?(h.currentUser.currentPlan=new c,h.currentUser.currentPlan.configureWithId(e.still_active_higher_plan.id)):(h.currentUser.currentPlan=new c,h.currentUser.currentPlan.configureWithId(e.active_plan.id)),h.loadUserDataProgress.success()},function(e){h.loadUserDataProgress.error(e)})}function d(e,t,n){n&&(n.stopPropagation(),n.preventDefault()),_.isUndefined(t)&&(t=!e.isOpen),e.isOpen=t}var h=this,p={on:{updateUser:"ctrl::HeaderCtrl::updateUser"}};h.routeService=r,h.currentUser=undefined,h.menus={burgerMenu:{id:"burgerMenu",isOpen:!1},dropdownMenu:{id:"dropdownMenu",isOpen:!1},activitiesMenu:{id:"activitiesMenu",isOpen:!1}},h.loadUserDataProgress=new l,h.init=function(t,n){if(e.$on(p.on.updateUser,function(){u()}),!_.isNull(n)&&!_.isUndefined(n)){var i=o.differenceFromDateTime(n);h.currentUserBonusExpiry=i}t&&u()},h.toggleBurgerMenu=function(e,t){d(h.menus.burgerMenu,e,t)},h.toggleDropdownMenu=function(e,t){d(h.menus.dropdownMenu,e,t)},h.toggleActivitiesMenu=function(t,n){d(h.menus.activitiesMenu,t,n),h.menus.activitiesMenu.isOpen&&e.$broadcast("ActivityCtrl::loadActivityEvents")},h.closeAllMenus=function(){h.menus.burgerMenu.isOpen=!1,h.menus.dropdownMenu.isOpen=!1,h.menus.activitiesMenu.isOpen=!1},h.referralProgramMenuSelected=function(){var e=n.absUrl();new RegExp(".*/me/profile.*").test(e)?t.$emit("UserSettingsController::menuSelected","referrals"):window.location=r.settingsPath(h.currentUser,{anchor:r.referralsAnchor()})},h.changePlanSelected=function(){s.showWithParameters({headerText:"Change plan of account",selectCallback:function(e){if(window.location.pathname==r.settingsPath(e))switch(e.accountType){case"User":t.$emit("UserSettingsController::menuSelected","billing");break;case"Organization":t.$emit("OrganizationSettingsController::menuSelected","billing")}else window.location=r.settingsPath(e,{anchor:r.billingAnchor()})},shouldDismissAfterSelectCallback:function(e){return window.location.pathname==r.settingsPath(e)}})}}])}(),function(){"use strict";Bitrise.controller("HelpCenterController",["$scope","intercomService","PopupV4",function(e,t,n){e.unreadIntercomMessagesCount,e.isBorderlessFrameMessengerActive=!1,e.helpCenterMenu={id:"helpCenterMenu",isOpen:!1,isIntercomMessengerActive:!1},e.init=function(){t.activatedCallback=function(){e.helpCenterMenu.isOpen&&(e.helpCenterMenu.isOpen=!1,e.helpCenterMenu.isIntercomMessengerActive=!1),e.isBorderlessFrameMessengerActive=!0,e.$$phase||e.$apply()},t.deactivatedCallback=function(){e.isBorderlessFrameMessengerActive=!1,e.$$phase||e.$apply()},t.configure().then(function(){},function(){})},e.techSupportButtonClicked=function(){$(document).ready(function(){null===document.getElementById("intercom-container")?e.showTrackingProtectionEnabledInfoPopup():e.showIntercom()})},e.showTrackingProtectionEnabledInfoPopup=function(){n.notice('"Contact Support" menu is not available',"It seems you have an ad blocker, or something else blocks our support chat.<p>Please whitelist <a href='https://www.bitrise.io/dashboard'>bitrise.io</a>, ask your question at <a href='https://discuss.bitrise.io/' target='_blank'>discuss.bitrise.io</a> or use <a href='mailto:letsconnect@bitrise.io'>email support<a></p>","Got it",!1),e.toggleHelpCenterMenu()},e.toggleHelpCenterMenu=function(t,n){n&&(n.stopPropagation(),n.preventDefault()),_.isUndefined(t)&&(t=!e.helpCenterMenu.isOpen),e.helpCenterMenu.isOpen=!e.helpCenterMenu.isIntercomMessengerActive&&t,e.helpCenterMenu.isIntercomMessengerActive&&Intercom("hide")},e.showIntercom=function(){Intercom("show")},window.Intercom("onHide",function(){e.helpCenterMenu.isOpen=!1,e.helpCenterMenu.isIntercomMessengerActive=!1,e.$$phase||e.$apply()}),window.Intercom("onShow",function(){e.helpCenterMenu.isOpen=!1,e.helpCenterMenu.isIntercomMessengerActive=!0,e.$$phase||e.$apply()}),window.Intercom("onUnreadCountChange",function(t){e.unreadIntercomMessagesCount=t,e.$$phase||e.$apply()})}])}(),function(){"use strict";Bitrise.controller("InstallArtifactsCtrl",["$scope","routeService","http","cookieService","Popup","Progress","User",function(e,t,n,i,r,o,s){e.alertPopup=new r("popup-alert",e),e.clearCurrentDeviceInfoProgress=new o;var a=new s;e.init=function(){},e.clearCurrentDeviceInfo=function(){e.clearCurrentDeviceInfoProgress.start("Wait a sec...");var r=t.clearDeviceInfoPath(a);n["delete"](r).then(function(){i.remove("device_info"),window.location=t.settingsPath(a,{anchor:"test_devices"})},function(t){e.clearCurrentDeviceInfoProgress.error(t)})}}])}(),function(){"use strict";Bitrise.controller("InternalStatsCtrl",["$scope","$filter","http","Progress",function(e,t,n,i){function r(e,t,i){return t.isInProgress||t.start("Loading, wait a sec..."),n.get(e).then(function(e){i(e),t.success()},function(e){t.error(e)})}e.todayFailedReposProgress=new i,e.todayFailedRepos=[],e.thisWeekActiveReposProgress=new i,e.thisWeekActiveRepos=[],e.usersReachedMonthlyBuildLimitProgress=new i,e.usersReachedMonthlyBuildLimit=[],e.runningBuildsProgress=new i,e.runningBuilds=[],e.intervalDataProgress=new i,e.intervalStartString,e.intervalEndString,e.isIntervalEndEnabled=!1,e.intervalBuildCount,e.intervalStackUsage,e.intervalSuccessfulBuildCount,e.intervalAbortedBuildCount,e.intervalFailedBuildCount,e.intervalNewAppCount,e.intervalNewUserCount,e.intervalSuccessfulBuildCountPerStacks,e.intervalAbortedBuildCountPerStacks,e.intervalFailedBuildCountPerStacks,e.lastSevenDaysDataProgress=new i,e.lastSevenDaysBuildCount,e.lastSevenDaysStackUsage,e.lastSevenDaysSuccessfulBuildCount,e.lastSevenDaysAbortedBuildCount,e.lastSevenDaysFailedBuildCount,e.lastSevenDaysNewAppCount,e.lastSevenDaysNewUserCount,e.lastSevenDaysSuccessfulBuildCountPerStacks,e.lastSevenDaysAbortedBuildCountPerStacks,e.lastSevenDaysFailedBuildCountPerStacks,e.allTimeDataProgress=new i,e.allTimeBuildCount=null,e.allTimeRunningBuildCount=null,e.allTimeSuccessfulBuildCount=null,e.allTimeAbortedBuildCount=null,e.allTimeFailedBuildCount=null,e.allTimeAppCount=null,e.allTimeUserCount=null,e.allTimeBuildSeconds=null,e.allTimeAvgBuildSeconds=null,e.allTimeAvgBuildMinutes=null,e.stackInfosDataProgress=new i,e.stackInfos=null,e.adminProgress=new i,e.siteAdmins=[],e.steplibAdmins=[],e.init=function(){e.Math=window.Math;var n=new Date,i=new Date;i.setDate(i.getDate()-1),e.intervalStartString=t("date")(i,"yyyy-MM-ddTHH:mmZ"),e.intervalEndString=t("date")(n,"yyyy-MM-ddTHH:mmZ"),e.todayFailedReposProgress.start("Loading today failed repos, wait a sec..."),e.thisWeekActiveReposProgress.start("Loading this week active repos, wait a sec..."),e.usersReachedMonthlyBuildLimitProgress.start("Loading users reached monthly build limit, wait a sec..."),e.runningBuildsProgress.start("Loading running builds, wait a sec..."),e.stackInfosDataProgress.start("Loading stack infos data, wait a sec..."),e.intervalDataProgress.start("Loading data between selected interval, wait a sec..."),e.lastSevenDaysDataProgress.start("Loading last seven days data, wait a sec..."),e.allTimeDataProgress.start("Loading all time data, wait a sec..."),e.adminProgress.start("Loading admins, wait a sec..."),e.fetchTodayFailedRepos().then(e.fetchThisWeekActiveRepos).then(e.fetchUsersReachedMonthlyBuildLimit).then(e.fetchRunningBuilds).then(e.fetchStackInfos).then(e.fetchDataInInterval).then(e.fetchLastSevenDaysData).then(e.fetchAllTimeData).then(e.fetchAdmins)},e.fetchTodayFailedRepos=function(){return r("/stats/today-failed-repos.json",e.todayFailedReposProgress,function(t){e.todayFailedRepos=t})},e.fetchThisWeekActiveRepos=function(){return r("/stats/thisweek-active-repos.json",e.thisWeekActiveReposProgress,function(t){e.thisWeekActiveRepos=t})},e.fetchUsersReachedMonthlyBuildLimit=function(){return r("/stats/users-reached-monthly-build-limit.json",e.usersReachedMonthlyBuildLimitProgress,function(t){e.usersReachedMonthlyBuildLimit=t})},e.fetchRunningBuilds=function(){return r("/stats/running-builds.json",e.runningBuildsProgress,function(t){e.runningBuilds=t.running_builds,e.runningBuildCoundPerStack=t.running_build_count_per_stack})},e.notOnHoldBuildCount=function(e){return _.filter(e,function(e){return!e.is_on_hold}).length},e.onHoldBuildCount=function(e){return _.filter(e,function(e){return e.is_on_hold}).length},e.fetchStackInfos=function(){return r("/stats/stack-infos.json",e.stackInfosDataProgress,function(t){e.stackInfos=t})},e.fetchDataInInterval=function(){e.intervalDataProgress.isInProgress||e.intervalDataProgress.start("Loading, wait a sec...");var t={start:Math.floor(new Date(e.intervalStartString).getTime()/1e3)};return e.isIntervalEndEnabled&&(t.end=Math.floor(new Date(e.intervalEndString).getTime()/1e3)),n.post("/stats/interval-data.json",t).then(function(t){e.intervalBuildCount=t.build_count,e.intervalStackUsage=t.stack_usage,e.intervalSuccessfulBuildCount=t.build_success_count,e.intervalAbortedBuildCount=t.build_aborted_count,e.intervalFailedBuildCount=t.build_failed_count,e.intervalNewAppCount=t.new_app_count,e.intervalNewUserCount=t.new_user_count,e.intervalSuccessfulBuildCountPerStacks=t.successful_build_count_per_stacks,e.intervalAbortedBuildCountPerStacks=t.aborted_build_count_per_stacks,e.intervalFailedBuildCountPerStacks=t.failed_build_count_per_stacks,e.intervalDataProgress.success()},function(t){e.intervalDataProgress.error(t)})},e.fetchLastSevenDaysData=function(){e.lastSevenDaysDataProgress.isInProgress||e.lastSevenDaysDataProgress.start("Loading, wait a sec...");var t=new Date,i=new Date(t.getTime());i.setDate(i.getDate()-7);var r={start:Math.floor(i.getTime()/1e3),end:Math.floor(t.getTime()/1e3)};return n.post("/stats/interval-data.json",r).then(function(t){e.lastSevenDaysBuildCount=t.build_count,e.lastSevenDaysStackUsage=t.stack_usage,e.lastSevenDaysSuccessfulBuildCount=t.build_success_count,e.lastSevenDaysAbortedBuildCount=t.build_aborted_count,e.lastSevenDaysFailedBuildCount=t.build_failed_count,e.lastSevenDaysNewAppCount=t.new_app_count,e.lastSevenDaysNewUserCount=t.new_user_count,e.lastSevenDaysSuccessfulBuildCountPerStacks=t.successful_build_count_per_stacks,e.lastSevenDaysAbortedBuildCountPerStacks=t.aborted_build_count_per_stacks,e.lastSevenDaysFailedBuildCountPerStacks=t.failed_build_count_per_stacks,e.lastSevenDaysDataProgress.success()},function(t){e.lastSevenDaysDataProgress.error(t)})},e.fetchAllTimeData=function(){return r("/stats/alltime-data.json",e.allTimeDataProgress,function(t){e.allTimeBuildCount=t.build_count,e.allTimeRunningBuildCount=t.running_build_count,e.allTimeSuccessfulBuildCount=t.successful_build_count,e.allTimeAbortedBuildCount=t.aborted_build_count,e.allTimeFailedBuildCount=t.failed_build_count,e.allTimeAppCount=t.app_count,e.allTimeUserCount=t.user_count,e.allTimeBuildSeconds=t.all_build_seconds,e.allTimeAvgBuildSeconds=Math.floor(100*e.allTimeBuildSeconds/e.allTimeBuildCount)/100,e.allTimeAvgBuildMinutes=Math.floor(e.allTimeAvgBuildSeconds/60)+":"+Math.floor(e.allTimeAvgBuildSeconds%60)})},e.fetchAdmins=function(){return r("/stats/admins.json",e.adminProgress,function(t){e.siteAdmins=t.site_admins,e.steplibAdmins=t.steplib_admins})}}])}(),function(){"use strict";Bitrise.controller("InvitationAcceptController",["$scope",function(e){var t,n;e.init=function(e,i){t=e,n=i},e.signUpPartialLoaded=function(){e.$broadcast("SignUpController::configureWithInvitationParameters",t,n)}}])}(),function(){"use strict";Bitrise.controller("JobCtrl",["$scope","$rootScope","$location","$q","$sce","$timeout","http","routeService","titleService","workflowEditorService","Progress","App","Popover","PopupV4","Stack",function(e,t,n,i,r,o,s,a,l,c,u,d,h,p,f){function g(){var t=a.appPath(e.app,{format:"json"});s.get(t).then(function(t){e.app.title=t.title}).then(function(){l.title=e.app.title+" - Bitrise"},function(){p.alertError("Error loading app information","Please reload the page.")})}function m(){e.getDisabledStatusProgress.start("Loading status of this project, wait a sec...");var t=a.appIsDisabledPath(e.app);s.get(t,undefined,{timeout:b.promise},"Error loading status of this project.").then(function(t){e.isAppDisabled=t.is_disabled,e.getDisabledStatusProgress.success()},function(t){e.getDisabledStatusProgress.error(t)})}function v(){e.app.getStack().then(function(){e.platformIconPopoverData||(e.platformIconPopoverData={popover:new h("bottom")}),e.platformIconPopoverData.hint="<b>Selected project type:</b> <i>"+e.app.projectType+"</i><p><b>Selected stack:</b> <i>"+e.app.stack.title+"</i><p> You can select the Stack and Project type on the <b>Settings</b> tab of the app.</p><p>For more information about this stack <a href='"+e.app.stack.descriptionURL+"' target='_blank' tabindex='-1'>click here</a></p></p>"},function(e){console.log(e.message)})}function y(){e.appWatchProgress.start("Loading app preference. wait a sec...");var t=a.appWatchPath(e.app);s.get(t,undefined,"Error getting app preference.").then(function(t){e.isWatchingApp=t.is_watching,e.appWatchProgress.success()},function(t){e.appWatchProgress.error(t)})}var b=i.defer();e.routeService=a,e.platformIconPopoverData,e.app;var w;e.apiToken,e.partials=["/builds","/workflow","/team","/code","/settings"];var _;e.isAppDisabled=!1,e.canChangeRepositorySettings=!1,e.getDisabledStatusProgress=new u,e.appWatchProgress=new u,e.isWatchingApp,e.unwatchPopover=new h("bottom"),e.unwatchPopover.appearDelayInSeconds=.5,c.afterShowCallback=function(){t.partialProgress.success()},c.afterCloseCallback=function(){e.partialSelected(_||e.partials[0])},e.$on("$destroy",function(){b.resolve()}),e.init=function(i,r,o,s,a,l,c){e.canChangeRepositorySettings=i,e.app=new d,e.app.slug=r,e.app.stack=new f(a),e.app.provider=l,e.app.projectType=c,e.apiToken=o,w=s,t.partialProgress=new u,t.selectedPartial=null;var h=e.partials.indexOf(n.path());-1==h&&(h=0),e.partialSelected(e.partials[h]),t.$on("AppStackSettingsController::saveStack",function(){v()}),g(),m(),v(),y()},e.partialSelected=function(i){i!=t.selectedPartial&&(t.partialProgress.start("Loading tab, please wait..."),_=t.selectedPartial,t.selectedPartial=i,n.path(i),"/workflow"==i&&o(function(){c.show(e.app.slug,w)},0))},e.startBuildSelected=function(){t.$emit("BuildConfigCtrl::buildConfigPopup#setIsVisible")},e.badgeSelected=function(){t.$emit("BadgeConfigCtrl::badgeConfigPopup#setIsVisible")},e.setShouldWatchApp=function(t){e.appWatchProgress.start("Saving app preference. wait a sec...");var n=a.appWatchPath(e.app),i={should_watch:t};s.post(n,i,undefined,"Error saving app preference.").then(function(){e.isWatchingApp=t,e.appWatchProgress.success()},function(t){e.appWatchProgress.error(t)})},e.trustedResourcreURL=function(e){return r.trustAsResourceUrl(e)}}])}(),function(){"use strict";Bitrise.controller("JobOffersController",["$scope","$q","http","routeService","Progress",function(e,t,n,i,r){function o(){a.loadJobDataProgress.start("Loading all current positions, wait a sec...");var e=a.routeService.jobPath();n.get(e,{timeout:l.promise}).then(function(e){s=_.map(e.location_datas,function(e,t){return{id:t,title:e}}),a.positions=_.map(e.job_datas,function(e,t){return _.each(e.level,function(e){_.find(a.positionFilters.level,{value:e})||a.positionFilters.level.push({title:e,value:e})}),_.find(a.positionFilters.location,{id:e.location_id})||a.positionFilters.location.push(_.find(s,{id:e.location_id})),_.find(a.positionFilters.department,{value:e.department})||a.positionFilters.department.push({title:e.department,value:e.department}),{id:t,title:e.title,level:e.level,location:_.find(s,{id:e.location_id}),department:e.department,description:e.description,isMenuOpen:!1}}),a.loadJobDataProgress.success()},function(){a.loadJobDataProgress.error("Error loading all current positions.")})}var s,a=this,l=t.defer();a.positions,a.positionFilters={level:[{value:null,title:"All levels"}],location:[null],department:[{value:null,title:"All departments"}]},a.positionsByLocation,a.department=null,a.level=null,a.location=null,a.routeService=i,a.loadJobDataProgress=new r,e.$on("$destroy",function(){l.resolve()}),a.init=function(){o()},e.$watch(function(){var e=[];return _.each(_.reject(a.positions,function(e){return null!==a.level&&!_.contains(e.level,a.level)||(null!==a.location&&e.location!=a.location||(null!==a.department&&e.department!=a.department||void 0))}),function(t){var n=_.find(e,{location:t.location});n?n.positions.push(t):(n={location:t.location,positions:[t]},e.push(n))}),e},function(e){a.positionsByLocation=e},!0)}])}(),function(){"use strict";Bitrise.controller("LandingCtrl",["$scope","$interval","$timeout","$location","cookieService",function(e,t,n,i,r){function o(){var e=i.absUrl();return c.test(e)}function s(t){n(function(){t||(e.selectedSentence=e.selectedSentence+1),e.selectedSentence>=e.headerSentences.length&&(e.selectedSentence=0),e.rotatedHeaderSentence=e.headerSentences[e.selectedSentence],s()},4e3,!0)}function a(){l=t(function(){e.indexOfSelectedBranch=e.indexOfSelectedBranch+1,e.indexOfSelectedBranch>=3&&(e.indexOfSelectedBranch=0),a()},5e3,!0)}var l=null,c=new RegExp(".*/mergeconflict.*$");e.rotatedHeaderSentence=null,e.indexOfSelectedBranch=null,e.selectedSentence=null,e.headerSentences=["Continuous happiness","Automate everything","Less coffee/month","Good night's sleep","Shipping like it's hot"],e.init=function(t){e.isCurrentPathMergeConflictPath=o(),e.indexOfSelectedBranch=0,e.selectedSentence=0,e.rotatedHeaderSentence=e.headerSentences[e.selectedSentence],t&&r.putPermanent("refererUserSlug",t)},e.branchSelected=function(n){_.each(e.branches,function(i,r){_.isEqual(i.name,n)&&(e.indexOfSelectedBranch=r,t.cancel(l),a())})},s(e.selectedSentence),a(),e.branches=[{name:"feature",workflowSteps:[{stepName:"Git Clone Repository",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/git-clone/assets/icon.svg"},{stepName:"Xcode: Unit Test",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/xcode-test/assets/icon.svg"},{stepName:"Send a Slack message",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/slack/assets/icon.svg"},{stepName:"Xamarin Test Cloud",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/xamarin-test-cloud-for-ios/assets/icon.svg"}],exampleCode:'app:\n  envs:\n  - BITRISE_PROJECT_PATH: "./ios-simple-objc/ios-simple-objc.xcodeproj"\n  - BITRISE_SCHEME: ios-simple-objc\nworkflows:\n  feature/*:\n    steps:\n    - git-clone@3.2.0: {}\n    - xcode-test@1.13.7: {}\n    - slack@2.1.0: {}\n    - xamarin-test-cloud-for-ios@0.9.1: {}'},{name:"develop",workflowSteps:[{stepName:"Git Clone Repository",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/git-clone/assets/icon.svg"},{stepName:"Xcode: Archive",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/xcode-archive/assets/icon.svg"},{stepName:"Deploy to Fabric",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/fabric-crashlytics-beta-deploy/assets/icon.svg"},{stepName:"Send a Slack message",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/slack/assets/icon.svg"}],exampleCode:'app:\n  envs:\n  - BITRISE_PROJECT_PATH: "./ios-simple-objc/ios-simple-objc.xcodeproj"\n  - BITRISE_SCHEME: ios-simple-objc\nworkflows:\n  develop:\n    steps:\n    - git-clone@3.2.0: {}\n    - xcode-archive@1.7.3:\n        - output_dir: "${BITRISE_DEPLOY_DIR}"\n    - fabric-crashlytics-beta-deploy@2.0.0: {}\n    - slack@2.1.0: {}'},{name:"master",workflowSteps:[{stepName:"Git Clone Repository",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/git-clone/assets/icon.svg"},{stepName:"Xcode: Archive",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/xcode-archive/assets/icon.svg"},{stepName:"Deploy to iTunes Connect",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/deploy-to-itunesconnect-deliver/assets/icon.svg"},{stepName:"Send a Slack message",iconUrl:"https://bitrise-steplib-collection.s3.amazonaws.com/steps/slack/assets/icon.svg"}],exampleCode:'app:\n  envs:\n  - BITRISE_PROJECT_PATH: "./ios-simple-objc/ios-simple-objc.xcodeproj"\n  - BITRISE_SCHEME: ios-simple-objc\nworkflows:\n  master:\n    steps:\n    - git-clone@3.2.0:\n    - xcode-archive@1.7.3:\n        title: \'Xcode: Create Archive\'\n        inputs:\n        - output_dir: "${BITRISE_DEPLOY_DIR}"\n    - deploy-to-itunesconnect-deliver@2.2.1: {}\n    - slack@2.1.0: {}'}]}])}(),function(){"use strict";Bitrise.controller("NewsCtrl",["$scope","FeedService","Progress","StyleGenerator",function(e,t,n,i){function r(n){return e.loadNewsProgress.start("Loading news, hang tight for a sec..."),t.parseFeed(n).then(function(t){_.each(t,function(e){e.content=i.plainStringFromHTMLString(e.content),e.content=i.cropStringEllipsedToLength(e.content,200)}),e.news=t,e.loadNewsProgress.success()},function(){e.loadNewsProgress.error(new Error("News could not be loaded. If you would like to check our changelog, <a href='https://discuss.bitrise.io/c/changelog' target='_blank'>click here</a>"))})}e.news=null,e.loadNewsProgress=new n,e.initWithURL=function(e){r(e)}}])}(),function(){"use strict";angular.module("Bitrise").controller("OptimusPrimeAddBonusController",["$q","$filter","$location","$scope","http","Progress","User","Organization","Log","DateService","StyleGenerator","PopupV4",function(e,t,n,i,r,o,s,a,l,c,u,d){function h(){var e=new Date;return e.setDate(e.getDate()+14),t("date")(e,"yyyy-MM-dd")}function p(e){var n=t("date")(new Date,"yyyy-MM-dd"),i=new Date(e)-new Date(n);return Math.round(i/864e5)}function f(){g.bonusLimitsFormData={expireAt:"",maxConcurrentBuildCount:"",buildTimeLimitSeconds:"",maxBuildCountPerMonth:"",maxTeamMembersCount:"",shouldClearPreviousBonuses:!1}}var g=this,m=e.defer(),v=h();g.addBonusProgress=new o,g.accountTypes=[{id:"user",title:"User"},{id:"organization",title:"Organization"}],g.bonusTypes=[{id:"add-account-bonus",title:"Ad-hoc bonus",notification:null,progress:new o,configuration:{bonusLimitsFormData:{expireAt:"",maxConcurrentBuildCount:"",buildTimeLimitSeconds:"",maxBuildCountPerMonth:"",maxTeamMembersCount:"",shouldClearPreviousBonuses:!0}}},{id:"add-ycombinator-batch-bonus",title:"[YC batch] Ad-hoc bonus",notification:null,progress:new o,configuration:{bonusLimitsFormData:{expireAt:"2017-04-01",maxConcurrentBuildCount:"1",buildTimeLimitSeconds:"2100",maxBuildCountPerMonth:"1999",maxTeamMembersCount:"997",shouldClearPreviousBonuses:!0}}},{id:"add-standard-trial",title:"Standard trial",notification:null,progress:new o,configuration:{bonusLimitsFormData:{expireAt:v,maxConcurrentBuildCount:null,buildTimeLimitSeconds:null,maxBuildCountPerMonth:null,maxTeamMembersCount:null,shouldClearPreviousBonuses:!0}}},{id:"add-elite-trial",title:"Elite trial",notification:null,progress:new o,configuration:{bonusLimitsFormData:{expireAt:v,maxConcurrentBuildCount:null,buildTimeLimitSeconds:null,maxBuildCountPerMonth:null,maxTeamMembersCount:null,shouldClearPreviousBonuses:!0}}}],g.selectedBonusType,g.targetAccount,g.targetAccountForm,g.targetAccountFormData={typeID:"",name:"",email:"",slug:""},g.bonusLimitsForm,g.bonusLimitsFormData,g.trialForm,g.trialFormData={trialDuration:"",shouldClearPreviousBonuses:!1},g.fetchTargetAccountInfo=function(){if(!g.targetAccountForm.$valid)return void g.addBonusProgress.error(new Error("Target account data invalid or not fully specified."));g.addBonusProgress.start("Loading target account, wait a sec...");var e={type:g.targetAccountFormData.typeID};g.targetAccountFormData.slug.length>0?e.slug=g.targetAccountFormData.slug:(g.targetAccountFormData.name.length>0&&(e.name=g.targetAccountFormData.name),g.targetAccountFormData.email.length>0&&(e.email=g.targetAccountFormData.email)),r.get("/optimus_prime/account",{params:e,timeout:m.resolve},"Error loading target account").then(function(e){switch(e.type){case"user":g.targetAccount=new s(e.name),g.targetAccount.email=e.email,g.targetAccount.trialLimits={},g.targetAccount.trialLimits.maxTeamMembersCount=e.trial_limits.max_team_members_count;break;case"organization":g.targetAccount=new a,g.targetAccount.name=e.name,g.targetAccount.billingEmail=e.email,g.targetAccount.trialLimits={},g.targetAccount.trialLimits.maxConcurrentBuildCount=e.trial_limits.max_concurrent_build_count}g.targetAccount.trialLimits.maxBuildCountPerMonth=e.trial_limits.max_build_count_per_month,g.targetAccount.trialLimits.buildTimeLimitSeconds=e.trial_limits.build_time_limit_seconds,g.targetAccount.maxConcurrentBuildCount=e.current_limits.max_concurrent_build_count,g.targetAccount.buildTimeLimitSeconds=e.current_limits.build_time_limit_seconds,g.targetAccount.maxBuildCountPerMonth=e.current_limits.max_build_count_per_month,g.targetAccount.maxTeamMembersCount=e.current_limits.max_team_members_count,g.targetAccount.accountSlug=e.slug,g.addBonusProgress.success()},function(e){g.addBonusProgress.error(e)})},i.$watch(function(){return g.targetAccountFormData.typeID},function(e){e&&(g.selectedBonusType=null,f())}),i.$watch(function(){return g.selectedBonusType},function(e){e&&(g.bonusLimitsFormData.expireAt=e.configuration.bonusLimitsFormData.expireAt,g.bonusLimitsFormData.maxConcurrentBuildCount=e.configuration.bonusLimitsFormData.maxConcurrentBuildCount,g.bonusLimitsFormData.buildTimeLimitSeconds=e.configuration.bonusLimitsFormData.buildTimeLimitSeconds,g.bonusLimitsFormData.maxBuildCountPerMonth=e.configuration.bonusLimitsFormData.maxBuildCountPerMonth,g.bonusLimitsFormData.maxTeamMembersCount=e.configuration.bonusLimitsFormData.maxTeamMembersCount,g.bonusLimitsFormData.shouldClearPreviousBonuses=e.configuration.bonusLimitsFormData.shouldClearPreviousBonuses,"user"==g.targetAccountFormData.typeID&&"add-standard-trial"==e.id&&(g.bonusLimitsFormData.maxTeamMembersCount=g.targetAccount.trialLimits.maxTeamMembersCount,g.bonusLimitsFormData.maxBuildCountPerMonth=g.targetAccount.trialLimits.maxBuildCountPerMonth,g.bonusLimitsFormData.buildTimeLimitSeconds=g.targetAccount.trialLimits.buildTimeLimitSeconds),"organization"==g.targetAccountFormData.typeID&&"add-standard-trial"==e.id&&(g.bonusLimitsFormData.maxConcurrentBuildCount=g.targetAccount.trialLimits.maxConcurrentBuildCount,g.bonusLimitsFormData.maxBuildCountPerMonth=g.targetAccount.trialLimits.maxBuildCountPerMonth,g.bonusLimitsFormData.buildTimeLimitSeconds=g.targetAccount.trialLimits.buildTimeLimitSeconds))}),g.addBonus=function(){if(!g.bonusLimitsForm.$valid)return void g.addBonusProgress.error(new Error("Bonus data invalid or not fully specified."));g.addBonusProgress.start("Adding bonus, wait a sec...");var e="/optimus_prime/bonus",n={slug:g.targetAccount.accountSlug,expire_at:Math.floor(new Date(g.bonusLimitsFormData.expireAt).getTime()/1e3),duration:p(g.bonusLimitsFormData.expireAt),max_concurrent_build_count:g.bonusLimitsFormData.maxConcurrentBuildCount,build_time_limit_seconds:g.bonusLimitsFormData.buildTimeLimitSeconds,max_build_count_per_month:g.bonusLimitsFormData.maxBuildCountPerMonth,max_team_members_count:g.bonusLimitsFormData.maxTeamMembersCount,should_clear_previous_bonuses:g.bonusLimitsFormData.shouldClearPreviousBonuses,bonus_type:g.selectedBonusType.id};switch(g.targetAccount.accountType){case"User":n.type="user";break;case"Organization":n.type="organization"}r.post(e,n,{timeout:m.resolve},"Error adding bonus").then(function(e){g.addBonusProgress.success();var n=e.expire_at?c.dateFromString(e.expire_at):null,i={maxConcurrentBuildCount:e.max_concurrent_build_count,buildTimeLimitSeconds:e.build_time_limit_seconds,maxBuildCountPerMonth:e.max_build_count_per_month,maxTeamMembersCount:e.max_team_members_count};d.notice("Bonus added successfully!","Bonus will "+(n?'expire at <time datetime="'+t("datetimeValue")(n)+'" title="'+t("datetimeValue")(n)+'">'+u.timeInWordsFromDate(n)+"</time>":"never expire")+". New limits are: <ul>"+_.map(i,function(e,t){return"<li>"+t+": "+e+"</li>"}).join("")+"</ul>")},function(e){d.alertError(undefined,e.message),g.addBonusProgress.reset()})}}])}(),function(){"use strict";Bitrise.controller("OptimusPrimeController",["$scope","$q","$filter","$timeout","http","DateService","StyleGenerator","Progress","PopupV4","User","Organization",function(e,t,n,i,r,o,s,a){var l=t.defer();e.$on("$destroy",function(){l.resolve()}),e.accountTypes=[{id:"user",title:"User"},{id:"organization",title:"Organization"}],e.actions=[{id:"add-account-bonus",title:"Add bonus",notification:null,progress:new a,configuration:{targetAccountFormData:{typeID:"user",name:"",email:"",id:""},bonusLimitsFormData:{expireAt:"",maxConcurrentBuildCount:"",buildTimeLimitSeconds:"",maxBuildCountPerMonth:"",maxTeamMembersCount:"",shouldClearPreviousBonuses:!0}}},{id:"get-build-info",title:"Get a build's info",notification:null}],e.selectedAction}])}(),function(){"use strict";angular.module("Bitrise").controller("OptimusPrimeGetBuildInfoController",["$location","http","Progress","Build","Log","BuildArtifact",function(e,t,n,i,r,o){var s=this;s.getTargetBuildInfoProgress=new n,s.targetBuild,s.targetBuildArtifacts,s.targetBuildForm,s.targetBuildFormData={buildSlug:""},s.init=function(){s.targetBuildFormData.buildID=e.search().build_slug},s.getTargetBuildInfo=function(){
if(!s.targetBuildForm.$valid)return void s.getTargetBuildInfoProgress.error(new Error("Build data invalid or not fully specified."));s.getTargetBuildInfoProgress.start("Getting build info, wait a sec..."),t.get("/optimus_prime/build_info",{params:{build_slug:s.targetBuildFormData.buildSlug}},"Error getting build info").then(function(e){s.targetBuild=new i(e.slug),s.targetBuild.buildNumber=e.build_number,s.targetBuild.originalBuildParams=e.trigger_params,s.targetBuild.configDownloadURL=e.config_download_url,s.targetBuild.log=new r(s.targetBuild),s.targetBuild.log.downloadURL=e.log_download_url,s.targetBuildDetailedInfo=e.build_info,s.targetBuildArtifacts=_.map(e.artifacts,function(e){return new o(e)}),s.getTargetBuildInfoProgress.success()},function(e){PopupV4.alertError(undefined,e.message),s.getTargetBuildInfoProgress.reset()})}}])}(),function(){"use strict";Bitrise.controller("OrganizationAppsController",["$scope","$q","$timeout","http","routeService","StyleGenerator","Progress","User","Organization","App","Stack","Popover","PopupV4",function(e,t,n,i,r,o,s,a,l,c,u,d,h){function p(){e.loadOwnedAppsProgress.start("Loading transferable accounts and their apps, wait a sec..."),f().then(function(){t.all(_.map(e.ownedAppsByAccountMaps,function(e){return g(e)})).then(function(){_.each(e.ownedAppsByAccountMaps,function(t){e.numberOfOwnedApps+=t.apps.length}),e.loadOwnedAppsProgress.success()},function(){e.loadOwnedAppsProgress.error("Woops... Error loading transferable apps, click here to try again.",p)})},function(){e.loadOwnedAppsProgress.error("Woops... Error loading accounts, click here to try again.",p)})}function f(){e.loadAccountsProgresses.start("Loading accounts, wait a sec...");var n=r.userAccountsPath(new a,r.getOrganizationSlugFromCurrentPath());return i.get(n,{timeout:y.promise},"Woops... Error loading account list, click here to try again.").then(function(n){_.each(n.accounts,function(n){var i={};switch(n.account_type){case"User":i=new a(n.username),i.slug=n.slug;break;case"Organization":if(n.is_current)return;i=new l(n.slug),i.name=n.name}e.ownedAppsByAccountMaps.push({account:i,apps:[],canceler:t.defer()})}),e.loadAccountsProgresses.success()},function(t){e.loadAccountsProgresses.error(t)})}function g(o){return t(function(t,a){var l=function(){var u=r.appsPath(o.account),d={user_role:"owner",only_direct:!0,current_app_count:o.apps?o.apps.length:0};i.get(u,{params:d,timeout:o.canceler.promise},"Woops... Error loading app list, click here to try again.").then(function(i){o.apps=_.union(o.apps?o.apps:[],_.map(i.repositories,function(e){var t=new c;return t.slug=e.slug,t.title=e.title,t.projectType=e.project_type,t})),i.next_load_app_count>0?n(l(),100):(_.each(e.ownedAppsByAccountMaps,function(t){_.each(t.apps,function(n){e.appTransferMaps[n.slug]={progress:new s,getterSetter:function(e){return e!==undefined&&m(n,t),_.contains(w,n)}}})}),t())},function(e){a(e)})};l()})}function m(t,n){e.appTransferMaps[t.slug].progress.start("Transferring ownership, wait a sec...");var o=r.teamMemberTransferOwnershipPath(t),s={should_remain_service_credential_user:!0};if(_.contains(w,t))switch(n.account.accountType){case"User":s.username=n.account.username;break;case"Organization":s.organization_slug=n.account.slug}else s.organization_slug=e.organization.slug;i.put(o,s,{timeout:y.promise},"Error transferring ownership.").then(function(){_.contains(w,t)?w=_.without(w,t):w.push(t),e.appTransferMaps[t.slug].progress.success()},function(n){e.appTransferMaps[t.slug].progress.error(n)},function(){e.appTransferMaps[t.slug].progress.reset()})}var v,y=t.defer(),b={on:{configureWithParameters:"ctrl::OrganizationAppsController::configureWithParameters"}},w=[],C=[];e.StyleGenerator=o,e.organization,e.apps,e.numberOfOwnedApps=0,e.loadMoreAppsProgress=new s,e.loadAccountsProgresses=new s,e.titleFilter="",e.shouldShowNotAccessibleApps=!1,e.nextLoadAppCount=null,e.appPopoverDatas={},e.appTransferMaps={},e.ownedAppsByAccountMaps=[],e.loadOwnedAppsProgress=new s,e.transferAppsToOrganizationPopup=new h,e.transferAppsToOrganizationPopup.beforeAppearCallback=function(){p()},e.transferAppsToOrganizationPopup.afterDismissCallback=function(){y.resolve(),w=[],C=[],e.apps=undefined,e.ownedAppsByAccountMaps=[],e.appTransferMaps={},e.loadMoreApps()},e.$on("$destroy",function(){y.resolve(),_.each(e.ownedAppsByAccountMaps,function(e){e.canceler.resolve()})}),e.init=function(){e.$on(b.on.configureWithParameters,function(t,n){n.organization!==undefined&&(e.organization=n.organization,e.loadApps())})},e.loadApps=function(){e.apps=[],v=[],e.loadMoreApps()},e.loadMoreApps=function(){y.resolve(),y=t.defer(),e.loadMoreAppsProgress.start("Loading apps, wait a sec...");var n=r.appsPath(e.organization),o={current_app_count:e.apps?e.apps.length:0,title_filter:e.titleFilter,show_not_accessible:e.shouldShowNotAccessibleApps};i.get(n,{params:o,timeout:y.promise},"Error loading Apps").then(function(t){var n=_.map(t.repositories,function(t){var n=new c;return n.slug=t.slug,n.title=t.title,n.stack=new u(t.stack_identifier),n.stack.title=t.stack_data.title,n.stack.descriptionURL=t.stack_data.description_url,n.projectType=t.project_type,e.appPopoverDatas[n.slug]||(e.appPopoverDatas[n.slug]={popover:new d("bottom")}),e.appPopoverDatas[n.slug].hint="<b>Selected project type:</b> <i>"+n.projectType+"</i><p><b>Selected stack:</b> <i>"+n.stack.title+"</i><p> You can select the Stack and Project type on the <b>Settings</b> tab of the app.</p><p>For more information about this stack <a href='"+n.stack.descriptionURL+"' target='_blank' tabindex='-1'>click here</a></p></p>",t.is_accessible_by_current_user===undefined&&(t.is_accessible_by_current_user=!0),t.is_accessible_by_current_user&&v.push(n),n});e.apps=_.union(e.apps,n),e.nextLoadAppCount=t.next_load_app_count,e.loadMoreAppsProgress.success()},function(t){t.message+=", click here to try again",e.loadMoreAppsProgress.error(t,e.loadApps)})},e.isAppAccessible=function(e){return _.contains(v,e)}}])}(),function(){"use strict";Bitrise.controller("OrganizationEditController",["$scope","$q","routeService","http","Progress","PopupV4","App",function(e,t,n,i,r,o,s){function a(){e.editOrganizationFormData.name=e.organization.name,e.editOrganizationFormData.billingEmail=e.organization.billingEmail}function l(){e.loadAvailableStayReasonCategoriesProgress.start("Loading, wait a sec...");var t=n.availableStayReasonCategoriesPath(e.organization);i.get(t,{timeout:h.promise}).then(function(t){g=t.available_stay_reason_categories,e.loadAvailableStayReasonCategoriesProgress.success()},function(){e.loadAvailableStayReasonCategoriesProgress.error(new Error("Error loading, click here to try again"),l)})}function c(){switch(e.reasonCategoryOfOrganizationDelete){case"Moving to competitor":return"competitor";case"Cost cutting":return"cost-cutting";default:return null}}function u(){var r=n.sendAccountDeleteReasonPath(e.organization),o={reason_category_of_account_delete:e.reasonCategoryOfOrganizationDelete,reason_of_account_delete:e.reasonOfOrganizationDelete};return t(function(e,t){i.post(r,o,{timeout:h.promise},"Error sending organization delete reason.").then(function(){e()},function(e){t(e)})})}function d(){var t="/organization/"+e.organization.slug+".json";i["delete"](t,{timeout:h.promise},"Error deleting Organization! Please try again").then(function(){window.location=n.dashboardPath()},function(t){e.deleteOrganizationProgress.error(t)})}var h=t.defer(),p=t.defer(),f={on:{configureWithParameters:"ctrl::OrganizationEditController::configureWithParameters"},emit:{updateStarted:"ctrl::OrganizationEditController::updateStarted",updateFinishedWithSuccess:"ctrl::OrganizationEditController::updateFinishedWithSuccess",updateFinishedWithError:"ctrl::OrganizationEditController::updateFinishedWithError",cancelEditOrganization:"ctrl::OrganizationEditController::cancelEditOrganization"}};e.availableReasonsOfDeleting=["Moving to competitor","Project finished","Moving to another Bitrise user/organization account","Cost cutting","Product features","Technical issues","Bitrise UX or documentation","Other"],e.editOrganizationForm,e.editOrganizationFormData={name:"",billingEmail:""},e.organization,e.updateProgress=new r,e.deleteOrganizationPopup=new o,e.deleteOrganizationPopup.afterAppearCallback=function(){e.loadOrganizationApps(),g===undefined&&l()},e.deleteOrganizationPopup.afterDismissCallback=function(){p.resolve(),e.loadOrganizationAppsProgress.reset(),e.loadedOrganizationApps=undefined},e.loadOrganizationAppsProgress=new r,e.loadedOrganizationApps,e.organizationAppCount,e.loadAvailableStayReasonCategoriesProgress=new r;var g;e.reasonCategoryOfOrganizationDelete,e.reasonOfOrganizationDelete="",e.takeOfferProgress=new r,e.deleteOrganizationProgress=new r,e.init=function(){e.$on(f.on.configureWithParameters,function(t,n){n.organization!==undefined&&(e.organization=n.organization)}),a()},e.$on("$destroy",function(){h.resolve(),p.resolve()}),e.update=function(){if(!e.editOrganizationForm.$valid)return void e.updateProgress.error(new Error("Organization data invalid or not fully specified."));e.updateProgress.start("Updating Organization, wait a sec...");var t="/organization/"+e.organization.slug+".json",n={};e.editOrganizationFormData.name!=e.organization.name&&(n.name=e.editOrganizationFormData.name),e.editOrganizationFormData.billingEmail!=e.organization.billingEmail&&(n.email=e.editOrganizationFormData.billingEmail),i.put(t,n,{timeout:h.promise},"Error updating Organization").then(function(){e.organization.name!=e.editOrganizationFormData.name&&(e.organization.name=e.editOrganizationFormData.name),e.organization.billingEmail!=e.editOrganizationFormData.billingEmail&&(e.organization.billingEmail=e.editOrganizationFormData.billingEmail),e.updateProgress.success(),e.$emit(f.emit.updateFinishedWithSuccess)},function(t){e.updateProgress.error(t)})},e.cancelEditOrganization=function(){e.$emit(f.emit.cancelEditOrganization)},e.loadOrganizationApps=function(){p.resolve(),p=t.defer(),e.loadOrganizationAppsProgress.start("Loading apps, wait a sec...");var n={organization_slug:e.organization.slug};i.get("/apps.json",{params:n,timeout:p.promise}).then(function(t){e.loadedOrganizationApps=_.map(t.repositories,function(e){var t=new s;return t.slug=e.slug,t.title=e.title,t}),e.organizationAppCount=t.app_count,e.loadOrganizationAppsProgress.success()},function(){e.loadOrganizationAppsProgress.error(new Error("Woops... Error loading app list, click here to try again."),e.loadOrganizationApps)})},e.deleteAccountOffer=function(){if(!_.contains(["Moving to competitor","Cost cutting"],e.reasonCategoryOfOrganizationDelete))return null;if(!_.contains(g,c()))return null;switch(e.reasonCategoryOfOrganizationDelete){case"Moving to competitor":return"<p>We\u2019d hate to lose you.</p><p><strong>Would $20 off for 3 months convince you to stay?</strong></p>";case"Cost cutting":return"<p>We understand that money can be tight at times, so we\u2019d love to help you out!</p><p><strong>Would $20 off for 6 months make a difference?</strong></p>"}},e.takeOffer=function(){e.takeOfferProgress.start("Wait a sec...");var t=n.stayWithLeaveReasonCategoryPath(e.organization),r={reason_category:c()};i.post(t,r).then(function(){e.takeOfferProgress.success(),e.deleteOrganizationPopup.isVisible=!1,$rootScope.$emit("OrganizationSettingsController::menuSelected","billing")},function(t){e.takeOfferProgress.error(t)})},e.deleteOrganizationConfirmed=function(){e.deleteOrganizationProgress.start("Deleting Organization, wait a sec..."),u().then(function(){d()},function(){d()})}}])}(),function(){"use strict";Bitrise.controller("OrganizationGroupsController",["$scope","$q","http","routeService","StyleGenerator","DateService","Progress","Popover","PopupV4","InputWithHints","Group","User","App",function(e,t,n,i,r,o,s,a,l,c,u,d,h){function p(r){r===undefined&&(r=!1),r||e.loadGroupsProgress.start("Loading Groups, wait a sec...");var l=i.organizationGroupsPath(e.organization);return n.get(l,{timeout:v.promise},"Error loading Groups").then(function(i){e.organizationApps=_.map(i.repositories,function(e){var t=new h(e.slug);return t.title=e.title,t}),e.organization.groups=_.map(i.groups,function(t){e.currentUser=undefined;var n=new u(t.slug);return n.name=t.name,t.is_primary&&(e.organization.ownerGroup=n),n}),_.each(e.organization.groups,function(t){var n=_.find(i.groups,function(e){return e.slug==t.slug});t.users=_.map(n.users,function(t){var n;return _.any(e.organization.groups,function(e){return _.any(e.users,function(e){if(e.email==t.email)return n=e,!0})}),n||(n=new d(t.username),n.databaseID=t.id,n.email=t.email,n.avatarURL=t.avatar_url,n.hasPendingInvitation=t.is_invitation_pending,n.invitedAt=o.dateFromString(t.invited_at),t.is_current_user&&(e.currentUser=n)),n})}),e.isCurrentUserOwner=i.is_current_user_owner,r||(e.groupConfigs={}),e.organization.members=[],_.each(e.organization.groups,function(r){var o=(_.find(i.groups,function(e){return e.slug==r.slug}),_.find(e.groupConfigs,function(e,t){return t==r.slug}));o||(o={progress:new s,isRenameMode:!1,menuPopover:new a,menuIsOpen:!1,addUserInputWithHints:new c,isEditMode:!1,pendingAddedUsers:[],pendingRemovedUsers:[],rolesOnApps:undefined},e.groupConfigs[r.slug]=o),o.rolesOnApps=_.mapObject(i.group_repository_roles,function(t){return t[r.slug]?_.find(e.roles,function(e){return e.id==t[r.slug]}):undefined}),o.addUserInputWithHints.textUpdatedCallback=function(){o.addUserInputWithHints.canceler.resolve(),o.addUserInputWithHints.canceler=t.defer(),o.addUserInputWithHints.progress.start("Loading Users, wait a sec...");var i={filter:o.addUserInputWithHints.text};n.post("/users/find",i,{timeout:o.addUserInputWithHints.canceler.promise}).then(function(t){var n=_.map(r.users,function(e){return e.username});o.addUserInputWithHints.canceler.resolve(),o.addUserInputWithHints.hints=_.map(_.difference(t,n),function(t){return{text:t,selectedCallback:function(){var n=_.find(e.potentialUsersToAdd(r),function(e){return e.username==t});n||(n=new d(t)),e.addUserToGroupSelected(n,r),o.addUserInputWithHints.text="",o.addUserInputWithHints.deactivate()}}}),o.addUserInputWithHints.enterCallback=function(){e.addUserWithLoginToGroupSelected(r)},o.addUserInputWithHints.progress.success()},function(e){o.addUserInputWithHints.progress.error(e)})},e.organization.members=_.union(e.organization.members,r.users)}),e.organization.members=_.uniq(e.organization.members),m.isChangeRoleOfGroupOnAllAppsMode=e.hasGroupSameRoleOnAllApp(),e.loadGroupsProgress.success()},function(t){t.message+=", click here to try again.",e.loadGroupsProgress.error(t,p)})}function f(){var t=i.organizationOutsideContributorsPath(e.organization);n.get(t,{timeout:v.promise},"Error loading outside contributors").then(function(t){e.organization.outsideContributors=_.map(t,function(e){var t=new d(e.username);return t.avatarURL=e.avatar_url,t.hasPendingInvitation=e.is_invitation_pending,t.invitedAt=o.dateFromString(e.invited_at),t})},function(e){console.log(e)})}function g(t){_.each(_.without(e.organization.groups,t),function(t){var n=e.groupConfigs[t.slug];n.isRenameMode&&e.cancelGroupRename(t),n.isEditMode&&e.endEditMode(t)})}var m=this,v=t.defer(),y={emit:{ownersChanged:"ctrl::OrganizationGroupsController::ownersChanged"}},b={name:{required:"group name not specified"}};e.organizationApps,e.currentUser,e.organization=i.getAccountFromCurrentPath(),e.loadGroupsProgress=new s,e.reinviteUserProgress=new s,e.groupConfigs,e.isCurrentUserOwner,m.isChangeRoleOfGroupOnAllAppsMode=!1,e.createGroupConfig={name:""},e.createGroupProgress=new s,e.groupAssignPopup=new l,e.groupAssignPopup.afterDismissCallback=function(){e.groupAssignConfig.selectedGroup=undefined,e.groupAssignConfig.selectedApp=undefined,e.groupAssignConfig.filter="",e.groupAssignProgress.isError&&e.groupAssignProgress.reset()},e.groupAssignConfig={selectedGroup:undefined,selectedApp:undefined,filter:""},e.groupAssignProgress=new s,e.roles=[{id:"admin",title:"admin"},{id:"manager",title:"developer"},{id:"member",title:"tester/QA"}],e.init=function(){e.$on("ctrl::OrganizationSettingsController::ownerAdded",function(){p(),f()}),p(),f()},e.createGroup=function(){e.createGroupProgress.start("Creating Group, wait a sec...");var t=i.organizationCreateGroupPath(e.organization),r={name:e.createGroupConfig.name};n.post(t,r,{timeout:v.promise},"Error creating Group").then(function(){var t=e.createGroupConfig.name;e.createGroupConfig.name="",e.createGroupProgress.success(),p().then(function(){e.enterEditMode(_.find(e.organization.groups,{name:t}))}),f()},function(t){t.message+=", click here to try again.",e.createGroupProgress.error(t,e.createGroup)})},e.toggleGroupMenu=function(t,n){n===undefined&&(n=!e.groupConfigs[t.slug].menuIsOpen),e.groupConfigs[t.slug].menuIsOpen=n},e.enterEditMode=function(t){var n=e.groupConfigs[t.slug];n.isRenameMode&&e.cancelGroupRename(t),n.isEditMode=!0,g(t)},e.endEditMode=function(t){var n=e.groupConfigs[t.slug];n.addUserInputWithHints.text="",n.isEditMode=!1,n.progress.reset()},e.addUserToGroupSelected=function(t,r){var o=e.groupConfigs[r.slug],s=r==e.organization.ownerGroup,a=s?i.organizationAddOwnerPath(e.organization):i.organizationAddGroupMemberPath(e.organization,r),c={login:t.login()};n.post(a,c,{timeout:v.promise},s?"Error adding owner":"Error adding user to group").then(function(){o.progress.success(),p(!0),f(),s&&e.$emit(y.emit.ownersChanged)},function(e){l.alertError(undefined,e.message),o.progress.reset()})},e.addUserWithLoginToGroupSelected=function(t){var n=e.groupConfigs[t.slug],i=n.addUserInputWithHints.text;if(0!=i.length&&-1!=i.indexOf("@")&&(n.addUserInputWithHints.text="",n.addUserInputWithHints.deactivate(),!_.any(t.users,function(e){return e.email==i}))){var r=_.find(e.potentialUsersToAdd(t),function(e){return e.email==i});r||(r=new d,r.email=i),e.addUserToGroupSelected(r,t)}},e.potentialUsersToAdd=function(t){return _.uniq(_.difference(_.union(e.organization.members,e.organization.outsideContributors),t.users))},e.reinviteUser=function(t,r){e.reinviteUserProgress.start("Resending invite, wait a sec...");var o=i.organizationAddGroupMemberPath(e.organization,r),s={login:t.login()};n.post(o,s,{timeout:v.promise},"Error reinviting user to group").then(function(){e.reinviteUserProgress.success(),l.alertSuccess("Invite resent successfully!","Yay!")},function(t){l.alertError(undefined,t.message),e.reinviteUserProgress.reset()})},e.removeUserFromGroup=function(r,o){var s=e.groupConfigs[o.slug],a=s.progress;if(o==e.organization.ownerGroup&&1==o.users.length&&o.users[0]==r)return void a.error(new Error("Organization needs at least one owner"));var c="Are you sure you want to remove <strong>"+(r==e.currentUser?"yourself":r.displayName())+"</strong> from "+o.name+"?",u=r==e.currentUser&&_.every(_.without(e.organization.groups,o),function(e){return!_.contains(e.users,r)});u&&(c+=" <strong>Warning: If you remove yourself from this group, you will no longer be a part of the organization!</strong>"),t(function(e,t){s.isEditMode?e():l.confirm(undefined,c).then(function(){e()},function(){t()})}).then(function(){var t=r==e.currentUser?i.organizationLeaveGroupPath(e.organization,o):i.organizationRemoveGroupMemberPath(e.organization,o,r);n["delete"](t,{timeout:v.promise},"Error removing User from Group").then(function(){return u?void(window.location=i.settingsPath(e.currentUser)):o==e.organization.ownerGroup&&r==e.currentUser?void(window.location=i.settingsPath(e.organization)):(a.success(),p(!0),f(),void(o==e.organization.ownerGroup&&e.$emit(y.emit.ownersChanged)))},function(e){l.alertError(undefined,e.message),a.reset()})},function(){})},e.deleteGroup=function(t){l.confirm(undefined,"Are you sure you want to delete <strong>"+t.name+"</strong>? <strong>Warning: if you remove this group, some of its members may lose access to some (if not all) apps of the organization, or to even the organization itself.</strong>").then(function(){var r=e.groupConfigs[t.slug].progress;r.start("Deleting Group, wait a sec...");var o=i.organizationRemoveGroupPath(e.organization,t);n["delete"](o,{timeout:v.promise},"Error deleting Group").then(function(){r.success(),p(),f()},function(e){l.alertError(undefined,e.message),r.reset()})})},e.renameGroup=function(t){var o=e.groupConfigs[t.slug],s=e.groupConfigs[t.slug].progress;if(!o.renameForm.$valid){var a=r.errorMessageForFormModel(o.renameForm,b,"Group rename data invalid or not fully specified.");return void s.error(new Error(a))}if(t.name==o.renameForm.name)return void e.cancelGroupRename(t);s.start("Updating Group, wait a sec...");var l=i.organizationRenameGroupPath(e.organization,t),c={name:o.renameForm.name};n.put(l,c,{timeout:v.promise},"Error renaming Group").then(function(){o.isRenameMode=!1,s.success(),p(!0)},function(e){s.error(e)})},e.enterGroupRenameMode=function(t){var n=e.groupConfigs[t.slug];n.isEditMode&&e.endEditMode(t),n.renameForm.name=t.name,n.isRenameMode=!0,g(t)},e.cancelGroupRename=function(t){var n=e.groupConfigs[t.slug];n.renameForm.name=t.name,n.isRenameMode=!1,n.progress.reset()},e.enterGroupAssignMode=function(t){e.groupAssignConfig.selectedGroup=t,e.groupAssignPopup.isVisible=!0,m.isChangeRoleOfGroupOnAllAppsMode=e.hasGroupSameRoleOnAllApp()},e.isAppJoined=function(t){if(e.groupAssignPopup.isVisible)return e.groupConfigs[e.groupAssignConfig.selectedGroup.slug].rolesOnApps[t.slug]!==undefined},e.groupHasRoleOnApp=function(t,n){return e.groupConfigs[e.groupAssignConfig.selectedGroup.slug].rolesOnApps[n.slug]==t},e.groupHasRoleOnAllApps=function(t){return e.groupAssignConfig.selectedGroup?_.every(e.organizationApps,function(n){return e.groupHasRoleOnApp(t,n)}):undefined},e.hasGroupSameRoleOnAllApp=function(){return!(e.organizationApps.length<=1)&&_.any(e.roles,function(t){return e.groupHasRoleOnAllApps(t)})},e.assignGroupToAppWithRole=function(r,o,s){s===undefined&&(s=!1),s||e.groupAssignProgress.start("Adding Group, wait a sec..."),o||(o=e.groupAssignConfig.selectedApp);var a=i.teamGroupAddPath(o),l={group_slug:e.groupAssignConfig.selectedGroup.slug,role:r.id};return t(function(t,i){n.post(a,l,{timeout:v.promise},"Error adding Group.").then(function(){s||(e.groupAssignProgress.success(),p()),t()},function(t){s||e.groupAssignProgress.error(t),i(t)})})},e.removeGroupFromApp=function(r,o){o===undefined&&(o=!1),o||e.groupAssignProgress.start("Removing Group, wait a sec...");var s=i.teamGroupRemovePath(r),a={group_slug:e.groupAssignConfig.selectedGroup.slug};return t(function(t,i){n["delete"](s,{params:a,timeout:v.promise},"Error removing Group.").then(function(){o||(e.groupAssignProgress.success(),p()),t()},function(t){o||e.groupAssignProgress.error(t),i(t)})})},e.changeRoleOfGroupOnApp=function(r,o,s){s===undefined&&(s=!1),s||e.groupAssignProgress.start("Changing Group role, wait a sec...");var a=i.teamGroupRoleChangePath(o),l={group_slug:e.groupAssignConfig.selectedGroup.slug,role:r.id};return t(function(t,i){n.put(a,l,{timeout:v.promise},"Error changing Group role.").then(function(){s||(e.groupAssignProgress.success(),p()),t()},function(t){s||e.groupAssignProgress.error(t),i(t)})})},e.changeRoleOfGroupOnAllApps=function(n){e.groupAssignProgress.start("Changing Group role for all apps, this might take a while...");var i=t.when(),r=_.reject(e.organizationApps,function(t){return e.groupHasRoleOnApp(n,t)}),o=e.organizationApps.length-r.length,s=[];_.each(r,function(t){i=i.then(function(){function i(){return e.isAppJoined(t)?e.changeRoleOfGroupOnApp(n,t,!0):e.assignGroupToAppWithRole(n,t,!0)}return i().then(function(){o++,e.groupAssignProgress.statusMessage="Changing Group role for "+o+"/"+e.organizationApps.length+" apps, this might take a while..."},function(e){s.push({app:t,error:e})})})}),i.then(function(){switch(p(),s.length){case e.organizationApps.length:return _.any(s,function(e){return e.error.message!=s[0].error.message})?void e.groupAssignProgress.error(new Error("Failed to change roles on all apps!")):void e.groupAssignProgress.error(new Error("Failed to change roles on all apps <i>(error: "+s[0].error.message+")</i>"));case 0:return void e.groupAssignProgress.success();case 1:return void e.groupAssignProgress.error(new Error("Changing group role for all apps finished, but failed on: <ul><li>"+s.app[0].title+"</li></ul>"));default:var t=_.map(s,function(e){return"<li><b>"+e.app.title+"</b> <i>(error: "+e.error.message+")</i></li>"}),n="Changing group role for all apps finished, but failed on some apps: <ul>"+t.join("")+"</ul>";e.groupAssignProgress.error(new Error(n))}},function(t){e.groupAssignProgress.error(t)})},e.removeGroupFromAllApps=function(){if(!e.hasGroupSameRoleOnAllApp())return void(m.isChangeRoleOfGroupOnAllAppsMode=!1);e.groupAssignProgress.start("Removing Group role from all apps, wait a sec...");var n=t.when(),i=0,r=[];_.each(_.filter(e.organizationApps,function(t){return e.isAppJoined(t)}),function(t){n=n.then(function(){function n(){return e.removeGroupFromApp(t,!0)}return n().then(function(){i++,e.groupAssignProgress.statusMessage="Removing Group role from "+i+"/"+e.organizationApps.length+" apps, wait a sec..."},function(e){r.push({app:t,error:e})})})}),n.then(function(){switch(p(),r.length){case e.organizationApps.length:return _.any(r,function(e){return e.error.message!=r[0].error.message})?void e.groupAssignProgress.error(new Error("Failed to remove roles from all apps!")):void e.groupAssignProgress.error(new Error("Failed to remove roles from all apps <i>(error: "+r[0].error.message+")</i>"));case 0:return void e.groupAssignProgress.success();case 1:return void e.groupAssignProgress.error(new Error("Removing group role from all apps finished, but failed on: <ul><li>"+r.app[0].title+"</li></ul>"));default:var t=_.map(r,function(e){return"<li><b>"+e.app.title+"</b> <i>(error: "+e.error.message+")</i></li>"}),n="Removing group role from all apps finished, but failed on some apps: <ul>"+t.join("")+"</ul>";e.groupAssignProgress.error(new Error(n))}},function(t){e.groupAssignProgress.error(t)})},e.$on("$destroy",function(){v.resolve()})}]).directive("organizationGroupsStickyHeader",["$parse",function(){return{restrict:"A",link:function(e,t){function n(){var e=!($(".main").position().top>0),n=e?$(".header").outerHeight():0,i=t.parent().offset().top-$(window).scrollTop(),o=t.parent().offset().top+t.parent().outerHeight(),s=t.offset().top,a=t.outerHeight(),l=o-$(window).scrollTop(),c=s+a,u=c-$(window).scrollTop();return r?i<n&&u<l:i<n&&l>n+a}function i(){if(r&&!n())t.removeClass("sticking"),r=!1,t.parent().css({"padding-top":""}),t.css({top:"",left:"",right:""});else if(!r&&n()){var e=!($(".main").position().top>0);t.addClass("sticking"),r=!0,t.parent().css({"padding-top":t.outerHeight()}),t.css({top:e?$(".header").outerHeight():0,left:$(".partial-organization-groups").position().left,right:$(window).width()-($(".partial-organization-groups").position().left+$(".partial-organization-groups").outerWidth())})}}var r=!1;$(window).bind("scroll",i),$(window).bind("resize",i),e.$on("$destroy",function(){$(window).unbind("scroll",i),$(window).unbind("resize",i)})}}}])}(),function(){"use strict";Bitrise.controller("OrganizationPeopleController",["$scope","$q","http","routeService","Progress","PopupV4","User",function(e,t,n,i,r,o,s){function a(){e.loadPeopleProgress.start("Loading, wait a sec...");var t=i.organizationPeoplePath(e.organization,{format:"json"});n.get(t,{timeout:l.promise}).then(function(t){e.organization.owners=[],e.organization.members=_.map(t.members,function(t){var n=new s(t.username);return n.databaseID=t.id,n.hasPendingInvitation=t.is_invitation_pending,n.email=t.email,n.avatarURL=t.avatar_url,t.is_current_user&&(e.currentUser=n),t.is_owner&&e.organization.owners.push(n),n}),e.organization.outsideContributors=_.map(t.outside_contributors,function(e){var t=new s(e.username);return t.databaseID=e.id,t.hasPendingInvitation=e.is_invitation_pending,t.email=e.email,t.avatarURL=e.avatar_url,t}),e.isCurrentUserOwner=t.is_current_user_owner,e.loadPeopleProgress.success()},function(t){t.message="Error loading people, click here to try again.",e.loadPeopleProgress.error(t,a)})}var l=t.defer(),c={emit:{peopleUpdated:"ctrl::OrganizationPeopleController::peopleUpdated"}};e.currentUser,e.organization=i.getAccountFromCurrentPath(),e.loadPeopleProgress=new r,e.userProgress=new r,e.outsideContributorProgress=new r,e.isCurrentUserOwner,e.init=function(){e.$on("ctrl::OrganizationSettingsController::ownerAdded",function(){a()}),a()},e.removeMember=function(t){var r="This will remove <em>"+(t==e.currentUser?"you":t.displayName())+"</em> from all of the organization's groups. Are you sure?";t==e.currentUser&&(r+=" <strong>Warning: If you remove yourself, you will no longer be a part of the organization!</strong>"),o.confirm(undefined,r).then(function(){e.userProgress.start("Removing User, wait a sec...");var r=t==e.currentUser?i.organizationLeavePath(e.organization):i.organizationRemoveMemberPath(e.organization,t);n["delete"](r,{timeout:l.promise},"Error removing User.").then(function(){if(t==e.currentUser)return void(window.location=i.settingsPath(e.currentUser));a(),e.$emit(c.emit.peopleUpdated),e.userProgress.success("User removed successfully")},function(t){e.userProgress.error(t)})})},e.removeOutsideContributor=function(t){o.confirm(undefined,"This will remove "+t.displayName()+" from all of the Organization's apps as outside contributor. Are you sure?").then(function(){e.outsideContributorProgress.start("Removing User, wait a sec...");var r=i.organizationRemoveOutsideContributorPath(e.organization,t);n["delete"](r,{timeout:l.promise}).then(function(){a(),e.$emit(c.emit.peopleUpdated),e.outsideContributorProgress.success("User removed successfully")},function(t){e.outsideContributorProgress.error(t)})})}}])}(),function(){"use strict";Bitrise.controller("OrganizationSettingsController",["$scope","$rootScope","$location","$q","http","routeService","accountSelectorService","osService","DateService","Progress","PopupV4","InputWithHints","Plan","Organization","Group","User","Popover",function(e,t,n,i,r,o,s,a,l,c,u,d,h,p,f,g,m){function v(t){_.isEqual(e.selectedPartial,t)||(e.partialLoaderProgress.start("Loading, wait a sec..."),n.path(t.anchorURL),e.isSidebarOpenOnSmallScreenSize=!1,e.selectedPartial=t,window.scrollTo(0,0))}function y(){e.$broadcast("ctrl::OrganizationEditController::configureWithParameters",e.organization),e.$on("ctrl::OrganizationEditController::updateFinishedWithSuccess",function(){e.loadOrganizationDataProgress.success("Organization update successful!"),e.menuSelected(_.first(e.menus))}),e.$on("ctrl::OrganizationPeopleController::peopleUpdated",function(){b()}),e.$on("ctrl::OrganizationEditController::cancelEditOrganization",function(){e.menuSelected(_.first(e.menus))})}function b(){e.loadOrganizationDataProgress.start("Loading, wait a sec...");var t=o.settingsPath(e.organization,{format:"json"});r.get(t,undefined,"Error loading Organization info").then(function(t){e.organization.name=t.name,e.organization.billingEmail=t.email,e.organization.avatarURL=t.avatar_url,e.organization.owners=_.map(t.owners,function(e){var t=new g;return t.username=e.username,t.email=e.email,t.databaseID=e.id,t.avatarURL=e.avatar_url,t}),_.isNull(t.trial_expiry)||_.isUndefined(t.trial_expiry)||(e.organization.trialExpiresAt=l.dateFromString(t.trial_expiry)),e.ownerPopovers=_.map(e.organization.owners,function(){return new m}),t.trial_plan_id&&(e.organization.trialPlan=new h(t.trial_plan_id),e.organization.trialPlan.cssClass=undefined,e.organization.trialPlan.period=undefined,"Team"==e.organization.trialPlan.name&&(e.organization.trialPlan.name="Standard")),t.still_active_higher_plan&&(e.organization.currentPlan=new h,e.organization.currentPlan.configureWithId(t.still_active_higher_plan.id),e.organization.currentPlan.name=t.still_active_higher_plan.name,e.organization.currentPlan.basicPrice=t.still_active_higher_plan.price,e.organization.currentPlan.expiresAt=l.dateFromString(t.still_active_higher_plan.expires_at),t.still_active_higher_plan.container_count&&(e.organization.currentPlan.containerCount=t.still_active_higher_plan.container_count),e.organization.pendingPlan=new h,e.organization.pendingPlan.configureWithId(t.pending_lower_plan.id),e.organization.pendingPlan.basicPrice=t.pending_lower_plan.price,t.pending_lower_plan.container_count&&(e.organization.pendingPlan.containerCount=t.pending_lower_plan.container_count)),e.otherOrganizations=_.map(t.other_organizations,function(e){var t=new p(e.slug);return t.name=e.name,t.avatarURL=e.avatar_url,t.members=_.times(e.member_count,function(){return new g}),t}),e.organizationSubscriptionFailed=t.subscription_failed,e.user=new g(t.current_user.username),
e.user.email=new g(t.current_user.email),e.user.avatarURL=t.current_user.avatar_url,e.isCurrentUserOwner=t.current_user.is_owner,e.loadOrganizationDataProgress.shouldHandleSuccessAsSeparateState=!1,e.loadOrganizationDataProgress.success(),e.loadOrganizationDataProgress.shouldHandleSuccessAsSeparateState=!0,C=_.map(_.filter(e.menus,function(e){return e.shouldShow()}),function(e){return{id:e.id,url:e.partialURL,anchorURL:e.anchorURL,onLoadCallback:e.onLoadCallback}}),e.isCurrentUserOwner&&(C=C.concat([{id:"edit-profile",url:o.editAccountPath(e.organization),anchorURL:"/edit_profile",onLoadCallback:y}]));var i=_.find(C,function(e){return e.anchorURL==n.path()});i||(i=_.first(C)),v(i)},function(t){e.loadOrganizationDataProgress.error(t)})}var w={emit:{ownerAdded:"ctrl::OrganizationSettingsController::ownerAdded"}};e.dateService=l,e.osService=a,e.organization=o.getAccountFromCurrentPath(),e.otherOrganizations,e.ownerPopovers,e.isSidebarOpenOnSmallScreenSize=!1,e.isCurrentUserOwner,e.organizationSubscriptionFailed,e.menus=[{id:"overview",name:"Overview",partialURL:o.overviewPartialPath(e.organization),anchorURL:"/overview",cssClass:"overview",shouldShow:function(){return!0}},{id:"billing",name:"Billing",partialURL:o.billingPartialPath(e.organization),anchorURL:"/"+o.billingAnchor(),cssClass:"billing",shouldShow:function(){return e.isCurrentUserOwner}},{id:"people",name:"People",partialURL:o.organizationPeoplePartialPath(e.organization),anchorURL:"/"+o.organizationPeopleAnchor(),cssClass:"people",shouldShow:function(){return!0}},{id:"groups",name:"Groups",partialURL:o.organizationGroupsPartialPath(e.organization),anchorURL:"/"+o.organizationGroupsAnchor(),cssClass:"groups",shouldShow:function(){return!0}},{id:"apps",name:"Apps",partialURL:o.organizationAppsPartialPath(e.organization),onLoadCallback:function(){e.$broadcast("ctrl::OrganizationAppsController::configureWithParameters",{organization:e.organization})},anchorURL:"/"+o.organizationAppsAnchor(),cssClass:"apps",shouldShow:function(){return!0}}],e.selectedMenu;var C;e.selectedPartial,e.partialLoaderProgress=new c,e.loadOrganizationDataProgress=new c(!0),e.loadOtherOrganizationsProgress=new c,e.addOwnerConfig={login:undefined},e.addOwnerPopup=new u,e.addOwnerPopup.afterDismissCallback=function(){e.addOwnerConfig.login=undefined},e.addOwnerInputWithHints=new d,e.addOwnerProgress=new c,e.profileSwitchFilter="",e.profileSwitchPopup=new u,e.profileSwitchPopup.afterDismissCallback=function(){e.profileSwitchFilter=""},e.updateAvatarPopup=new u,e.updateAvatarProgress=new c,e.organizationDefaultAvatarURLs=["https://bitrise-public-content-production.s3.amazonaws.com/org-icons/default_avatar-01.png","https://bitrise-public-content-production.s3.amazonaws.com/org-icons/default_avatar-02.png","https://bitrise-public-content-production.s3.amazonaws.com/org-icons/default_avatar-03.png","https://bitrise-public-content-production.s3.amazonaws.com/org-icons/default_avatar-04.png","https://bitrise-public-content-production.s3.amazonaws.com/org-icons/default_avatar-05.png","https://bitrise-public-content-production.s3.amazonaws.com/org-icons/default_avatar-06.png","https://bitrise-public-content-production.s3.amazonaws.com/org-icons/default_avatar-07.png","https://bitrise-public-content-production.s3.amazonaws.com/org-icons/default_avatar-08.png","https://bitrise-public-content-production.s3.amazonaws.com/org-icons/default_avatar-09.png","https://bitrise-public-content-production.s3.amazonaws.com/org-icons/default_avatar-10.png"],e.init=function(){e.$on("ctrl::OrganizationPeopleController::peopleUpdated",function(){b()}),e.$on("ctrl::OrganizationGroupsController::ownersChanged",function(){b()}),b()},e.menuSelected=function(e){v(_.find(C,function(t){return t.id==e.id}))},t.$on("OrganizationSettingsController::menuSelected",function(t,n){var i=_.find(e.menus,{id:n});e.menuSelected(i)}),e.profileSelected=function(){v(_.find(C,function(t){return t.id==(e.isCurrentUserOwner?"edit-profile":"overview")}))},e.switchProfileSelected=function(){s.showWithParameters({selectCallback:function(e){window.location=o.settingsPath(e)}})},e.addOwnerInputWithHints.textUpdatedCallback=function(){e.addOwnerInputWithHints.canceler.resolve(),e.addOwnerInputWithHints.canceler=i.defer(),e.addOwnerInputWithHints.progress.start("Loading Users, wait a sec...");var t={filter:e.addOwnerConfig.login};r.post("/users/find",t,{timeout:e.addOwnerInputWithHints.canceler.promise}).then(function(t){e.addOwnerInputWithHints.canceler.resolve(),e.addOwnerInputWithHints.hints=_.map(t,function(t){return{text:t,selectedCallback:function(){e.addOwnerConfig.login=t,e.addOwnerInputWithHints.deactivate()}}}),e.addOwnerInputWithHints.progress.success()},function(t){e.addOwnerInputWithHints.progress.error(t)})},e.addOwner=function(){e.addOwnerProgress.start("Adding owner, wait a sec...");var t=o.organizationAddOwnerPath(e.organization),n={login:e.addOwnerConfig.login};r.post(t,n,undefined,"Error adding owner to Organization").then(function(){e.addOwnerProgress.success(),e.addOwnerPopup.isVisible=!1,b(),e.$broadcast(w.emit.ownerAdded)},function(t){t.message+=", click here to try again.",e.addOwnerProgress.error(t,e.addOwner)})},e.ownerSelected=function(t){u.accountDetails(t,{scopeName:"organization",scopeArguments:[e.organization,t]})},e.updateToDefaultAvatarURL=function(t){e.updateAvatarProgress.start("Updating avatar, wait a sec...");var n=o.accountAvatarURLPath(e.organization),i={avatar_url:t};r.post(n,i,undefined,"Error updating avatar").then(function(){e.updateAvatarProgress.success(),e.updateAvatarPopup.isVisible=!1,b()},function(t){e.updateAvatarProgress.error(t)})}}])}(),function(){"use strict";angular.module("Bitrise").controller("PlanChangeController",["$scope","$rootScope","$q","http","routeService","DateService","stringService","StyleGenerator","accountSelectorService","PopupV4","Progress","Plan",function(e,t,n,i,r,o,s,a,l,c,u,d){function h(){g.loadProgress.start("Loading, wait a sec...");var e=r.planPath(g.account);i.get(e).then(function(e){g.plansByPeriod={forever:[],monthly:[],annually:[]},_.each(e.plan_datas,function(t){var n=new d(t.identifier);n.name=t.name,n.basicPrice=t.price,t.min_container_count&&(n.minContainerCount=t.min_container_count),g.plansByPeriod[n.period.id].push(n),n.id==e.selected_plan?(g.selectedPlan=n,g.selectedPlanOriginalContainerCount=e.selected_plan_container_count,n.containerCount=e.selected_plan_container_count,n.expiresAt=o.dateFromString(e.selected_plan_expires_at),g.viewedPeriodID=n.period.id):n.isContainerBased()&&(n.containerCount=n.minContainerCount!==undefined?n.minContainerCount:1)}),e.active_plan!==undefined&&(g.activePlan=new d(e.active_plan),g.activePlan.name=e.active_plan_name,g.activePlan.containerCount=e.active_plan_container_count),g.account.maxAllowedContainerCount=e.max_allowed_container_count,g.isCreditCardSet=e.is_credit_card_set,g.loadProgress.success()},function(e){g.loadProgress.error("Error loading: "+e.message)})}function p(){g.account.getMetadataWithKey("trial_requested",{timeout:m.promise}).then(function(e){f=!!e},function(){f=undefined})}var f,g=this,m=n.defer();g.featuresByAccountTypeAndPlanID={User:{"concrete-hobby":["2 team members","10 min/build","200 builds/month","Fixed on 1 concurrency"],"concrete-pro-monthly":["Unlimited team members","45+ min/build","Unlimited builds","Starts from 1 concurrency"]},Organization:{"concrete-hobby":["Organization is a premium-only feature, which means if you select this plan you won\u2019t be able to start new builds once your billing cycle ends."],"concrete-pro-monthly":["Unlimited team members","60+ min/build","Unlimited builds","Billing email management","Group management","Multiple owner support","Add projects as org member","Starts from 2 concurrencies"],"organization-elite-monthly":["ALL STANDARD FEATURES +","75+ min/build","Superfast build machines<br>Mac: 2 x 2.7 GHz / 8 GB RAM\nLinux: 4 x 2.6 GHz / 15 GB RAM","Starts from 3 concurrencies"]}},g.routeService=r,g.account=r.getAccountFromCurrentPath(),g.isCreditCardSet,g.loadProgress=new u,g.plansByPeriod,g.selectedPlan,g.selectedPlanOriginalContainerCount,g.activePlan,g.viewedPlan,g.viewedPeriodID="monthly",g.previewCurrentChargeProgress=new u;var v;g.chargeTodayPrice,g.discountAmount,g.nextChargeAt,g.comparePlansPopup=new c,g.compareProgress=new u,g.requestTrialProgress=new u,e.$on("$destroy",function(){m.resolve()}),g.planList=function(){var e=g.plansByPeriod.monthly.concat(g.plansByPeriod.forever);if(g.selectedPlan&&"monthly"!=g.selectedPlan.period.id&&(!g.viewedPlan||g.selectedPlan!=g.planWithPeriodID(g.viewedPlan,g.selectedPlan.period.id))){var t=g.planWithPeriodID(g.selectedPlan,"monthly");_.contains(e,t)&&e.splice(_.indexOf(e,t),1,g.selectedPlan)}if(g.viewedPlan&&"monthly"!=g.viewedPlan.period.id){var n=g.planWithPeriodID(g.viewedPlan,"monthly");_.contains(e,n)&&e.splice(_.indexOf(e,n),1,g.viewedPlan)}return e=_.sortBy(e,function(e){return e!=g.selectedPlan})},g.comparePlansSelected=function(){g.comparePlansPopup.isVisible=!0},g.changeAccountSelected=function(){l.showWithParameters({selectCallback:function(e){window.location=r.settingsPath(e,{anchor:r.billingAnchor()})}})},g.activePlanMessage=function(){var e=g.activePlan.isContainerBased()?s.stringReplacedWithParameters("<name> plan with <container_count>x concurrency",{name:g.activePlan.name,container_count:g.activePlan.containerCount}):s.stringReplacedWithParameters("<name> plan",{name:g.activePlan.name}),t=g.selectedPlan.isContainerBased()?s.stringReplacedWithParameters("<name> plan with <container_count>x concurrency",{name:g.selectedPlan.name,container_count:g.selectedPlanOriginalContainerCount}):s.stringReplacedWithParameters("<name> plan",{name:g.selectedPlan.name});return s.stringReplacedWithParameters("The <active_plan> will be active until your billing cycle ends on <cycle_end_date>. After that you\u2019ll be downgraded to the <selected_plan>.",{active_plan:e,selected_plan:t,cycle_end_date:a.timeInWordsFromDate(g.selectedPlan.expiresAt)})},g.planSelected=function(e){g.viewedPlan&&g.quitPlanView(),e==g.planWithPeriodID(g.selectedPlan,e.period.id)&&(e=g.planWithPeriodID(e,g.selectedPlan.period.id)),g.viewedPlan=e,g.viewedPeriodID=e.period.id,g.isCreditCardSet&&g.viewedPlan.fullPrice()>0&&g.previewCurrentCharge()},g.containerCountChanged=function(e){g.viewedPlan!=e&&g.planSelected(e),g.isCreditCardSet&&g.previewCurrentCharge()},g.changeBillingPeriod=function(e){if(e!==undefined){g.viewedPeriodID=e;var t=g.viewedPlan.containerCount;g.viewedPlan=g.planWithPeriodID(g.viewedPlan,e),g.viewedPlan.minContainerCount!==undefined&&g.viewedPlan.containerCount<g.viewedPlan.minContainerCount&&g.viewedPlan!=g.selectedPlan&&(t=g.viewedPlan.minContainerCount),g.viewedPlan.containerCount>g.viewedPlan.increasedMaxAllowedContainerCount(g.account.maxAllowedContainerCount)&&(t=g.viewedPlan.increasedMaxAllowedContainerCount(g.account.maxAllowedContainerCount)),g.viewedPlan.containerCount=t,g.isCreditCardSet&&g.previewCurrentCharge()}return g.viewedPeriodID},g.planWithPeriodID=function(e,t){return"concrete-pro-monthly"==e.id?"annually"==t?_.find(g.plansByPeriod.annually,{id:"concrete-pro-annually"}):e:"concrete-pro-annually"==e.id?"monthly"==t?_.find(g.plansByPeriod.monthly,{id:"concrete-pro-monthly"}):e:"organization-elite-monthly"==e.id?"annually"==t?_.find(g.plansByPeriod.annually,{id:"organization-elite-annually"}):e:"organization-elite-annually"==e.id?"monthly"==t?_.find(g.plansByPeriod.monthly,{id:"organization-elite-monthly"}):e:null},g.previewCurrentCharge=function(){if(g.viewedPlan){v&&v.resolve(),v=n.defer(),g.previewCurrentChargeProgress.start("Counting current charge amount, wait a sec...");var e=r.previewCurrentChargePath(g.account),t={plan_id:g.viewedPlan.id,container_count:g.viewedPlan.containerCount};i.get(e,{params:t,timeout:v.promise},"Error counting current charge amount.").then(function(e){"no_billing_info"==e.status?(g.chargeTodayPrice=undefined,g.discountAmount=undefined,g.nextChargeAt=undefined):(g.chargeTodayPrice=e.total_in_cents/100,g.discountAmount=e.discount_in_cents/100,g.nextChargeAt=o.dateFromString(e.next_charge_at)),g.previewCurrentChargeProgress.success()},function(e){g.previewCurrentChargeProgress.error("Error counting current charge amount: "+e.message)})}},g.nextChargeMessage=function(){return s.stringReplacedWithParameters("Your next charge will be <price> on <date>",{price:a.formattedPrice(g.viewedPlan.fullPrice()),date:a.timeInWordsFromDate(g.nextChargeAt)})},g.organizationNotFreeMessage=function(){return s.stringReplacedWithParameters("Organizations are a premium feature. If you downgrade, you won\u2019t be able to run any builds after your billing cycle ends on <date>",{date:a.timeInWordsFromDate(g.selectedPlan.expiresAt?g.selectedPlan.expiresAt:new Date)})},g.quitPlanView=function(){g.selectedPlan.containerCount=g.selectedPlanOriginalContainerCount,g.viewedPlan=null},g.changePlan=function(){if(!g.isCreditCardSet)return void e.$emit("ctrl::AccountBillingController::highlightAndEditCreditCard");var t={plan_id:g.viewedPlan.id};g.viewedPlan.isContainerBased()&&(t.container_count=g.viewedPlan.containerCount),window.location=r.confirmPlanChangePath(g.account,{params:t})},g.shouldShowRequestTrialButton=function(){return"Organization"==g.account.accountType&&(!("organization-elite-monthly"!=g.viewedPlan.id&&"organization-elite-annually"!=g.viewedPlan.id||"concrete-pro-monthly"!=g.selectedPlan.id&&"concrete-pro-annually"!=g.selectedPlan.id)&&!1===f)},g.requestTrial=function(){g.requestTrialProgress.start("Requesting Elite Plan trial, wait a sec...");var e=r.sendTrialRequestPath(g.account),t={container_count:g.viewedPlan.containerCount};i.post(e,t,{timeout:v.promise},"Error requesting trial.").then(function(){c.notice(s.stringReplacedWithParameters("We've received your request for a 2-week trial for the Elite plan (<container_count> concurrencies).",{container_count:g.viewedPlan.containerCount}),"We'll contact you once the trial has been activated.",undefined,undefined,!0,"notice"),f=!0,g.requestTrialProgress.success()},function(e){g.requestTrialProgress.error("Error requesting trial: "+e.message)})},e.$on("ctrl::PlanChangeController::creditCardSet",function(){h()}),e.$on("AccountBillingController::couponRedeemed",function(){h()}),e.$on("AccountBillingController::couponRemoved",function(){h()}),h(),p()}]).directive("partialBillingPlansConcurrencySelectorInputRange",["$parse",function(e){var t=["ng-model","ng-change","ng-disabled","min","max"];return{restrict:"E",replace:!0,transclude:!1,priority:1e6,template:function(e,n){var i=angular.element("<div class='input-range'></div>"),r=angular.element("<div class='bar'></div>"),o=angular.element("<div class='slider'></div>"),s=angular.element("<input type='range'>");return _.each(t,function(t){s.attr(t,e.attr(t))}),s.attr("id","{{"+n.inputRangeIdExpression+"}}"),$(i).append(r),$(i).append(o),$(i).append(s),i.prop("outerHTML")},link:function(n,i,r){function o(){var t=l.attr("min"),i=l.attr("max"),o=e(r.ngModel)(n),u=100*(o-t)/(i-t);s.css("width",u+"%"),a.css("left",u+"%"),a.css("margin-left",u/100*-c+"px")}var s=i.find(".bar").first(),a=i.find(".slider").first(),l=i.find("input[type='range']").first(),c=a.width();n.$watch(function(){return l.attr("min")},o),n.$watch(function(){return l.attr("max")},o),n.$watch(l.attr("ng-model"),o),_.each(t,function(e){$(i).removeAttr(e)})}}}]).directive("partialBillingPlansPeriodSelectorInputRadio",["$parse",function(){var e=["ng-model","ng-model-options","ng-value","ng-disabled"];return{restrict:"E",replace:!0,transclude:!1,priority:1e6,template:function(t,n){var i=angular.element("<div class='input-radio'></div>"),r=angular.element("<input type='radio'>");_.each(e,function(e){r.attr(e,t.attr(e))}),r.attr("id","{{"+n.inputRadioIdExpression+"}}");var o=angular.element("<label></label>");return o.attr("for",r.attr("id")),$(i).append(r),$(i).append(o),i.prop("outerHTML")},link:function(t,n){_.each(e,function(e){$(n).removeAttr(e)})}}}])}(),function(){"use strict";Bitrise.controller("PricingController",["$scope","stringService","http","routeService","StyleGenerator","accountSelectorService","Progress","PopupV4","Popover","Plan","User","Organization",function(e,t,n,i,r,o,s,a,l,c,u,d){function h(){p.loadProgress.start("Loading, wait a sec...");var e=i.pricingPath();n.get(e).then(function(e){p.userPlans=[],p.organizationPlans=[],p.isUserSignedIn=e.is_user_signed_in,f=e.user_default_max_allowed_container_count,g=e.organization_default_max_allowed_container_count,_.each(e.user_plan_datas.concat(e.organization_plan_datas),function(t){var n=new c(t.identifier);n.name=t.name,n.basicPrice=t.price,t.min_container_count!==undefined&&(n.minContainerCount=t.min_container_count);var i;_.contains(e.user_plan_datas,t)?i=p.userPlans:_.contains(e.organization_plan_datas,t)&&(i=p.organizationPlans),i.push(n)}),p.accounts=_.map(e.account_datas,function(e){switch(e.type){case"User":var t=new u(e.username);return t.avatarURL=e.avatar_url,t;case"Organization":var n=new d(e.slug);return n.name=e.name,n.avatarURL=e.avatar_url,n}}),p.user=_.first(p.accounts),p.loadProgress.success()},function(e){p.loadProgress.error("Error loading: "+e.message)})}var p=this;p.routeService=i,p.selectedPlan,p.periodID="monthly",p.loadProgress=new s,p.isUserSignedIn;var f,g;p.userPlans,p.organizationPlans,p.accounts,p.user,p.accountSelectorParameters={headerText:undefined,accounts:undefined,currentAccount:undefined},p.featuresByAccountTypeAndPlanID={User:{"concrete-hobby":[{text:"<em>ALL CORE FEATURES</em>",popoverText:""},{text:"10+ min / build",popoverText:"default: 10 mins, with referral program: up to 30 mins"},{text:"2 team members",popoverText:""},{text:"200 builds / month",popoverText:""}],"concrete-pro-monthly":[{text:"<em>ALL CORE FEATURES</em>",popoverText:""},{text:"45+ min / build",popoverText:""},{text:"<em>Unlimited</em> team members",popoverText:""},{text:"<em>Unlimited</em> builds / month",popoverText:""}]},Organization:{"concrete-pro-monthly":[{text:"<strong>ALL TEAM FEATURES +</strong>",popoverText:""},{text:"Billing email management",popoverText:""},{text:"Multiple owner support",popoverText:""},{text:"Group management",popoverText:""},{text:"Add projects as a member",popoverText:""},{text:"60+ min / build",popoverText:""}],"organization-elite-monthly":[{text:"<strong>ALL STANDARD FEATURES +</strong>",popoverText:""},{text:"<strong>SUPERFAST BUILD MACHINES</strong><br>MAC: 2 X 2.7 GHz / 8 GB RAM\nLINUX: 4 X 2.6 GHz / 15 GB RAM",popoverText:""},{text:"75+ min / build",popoverText:""}]}},_.each(p.featuresByAccountTypeAndPlanID,function(e){_.each(e,function(e){_.each(e,function(e){e.popover=new l("bottom")})})}),p.faqs=[{question:"What's the difference between the Team and Organization (Standard) plan?",answer:"The Team plan can only be purchased for your personal account and only includes per app team management, while the Organization Standard plan is convenient for organizations with all its additional benefits. The Organization Standard plan starts from 2 concurrencies.",isOpen:!1},{question:"Can I buy the Organization plan with 1 concurrency?",answer:"Sorry, no, it starts from 2 concurrencies, as it is designed for larger teams.",isOpen:!1},{question:"Which plan should I go for?",answer:"If you're a freelancer or a smaller team, the Team plan will suit you well. If you are operating with a bigger dev team with QA and external testers, it's advised to go for the Organization plan, since it makes managing these people and your apps much easier.",isOpen:!1},{question:"What if I want more security?",answer:t.stringReplacedWithParameters("Please <a href='<contact_path>' target='_blank'>contact us</a> with your special needs so we can discuss setting you up on a custom plan.",{contact_path:i.contactPath()}),isOpen:!1},{question:"Do the prices include VAT?",answer:"Prices listed exclude VAT, which will be added to your invoice. Make sure to have your company's VAT ID ready when entering billing details to remove VAT!",isOpen:!1},{question:"What types of payment do you accept?",answer:"We accept credit cards (MasterCard, Visa and American Express) via our secure online order form.",isOpen:!1},{question:"Can I choose invoice payment?",answer:t.stringReplacedWithParameters("Invoice payment is available for <strong>annual plans, starting from 5 concurrencies.</strong> Please  <a href='<contact_path>' target='_blank'>contact us</a> and we'll set you up right away!",{contact_path:i.contactPath()}),isOpen:!1},{question:"Do you store credit card information?",answer:"No. All payments go through our payment processor, Recurly, and they store all payment information. Bitrise only has access to the billing address. Find out more information on <a href='https://recurly.com/security/' target='_blank'>Recurly's website</a>.",isOpen:!1},{question:"Can I cancel anytime?",answer:"Absolutely! You can always go back to a free plan. You will stay on your current plan until the end of the your subscription period, though. After all, you payed for it!",isOpen:!1},{question:"What will happen if I cancel or downgrade my subscription?",answer:"When you cancel or downgrade your subscription you'll remain on your current plan until the end of your subscription period, and only after that will your limits change.",isOpen:!1},{question:"Can I change my plan at a later time?",answer:"Yes! You can upgrade or reduce your plan at any time. If you upgrade, you get the extra perks right away, however, at downgrade you will stay on your current plan until the end of the your subscription period.",isOpen:!1},{question:"What if I want to have more than 5 concurrencies?",answer:"Please contact us explaining how much containers you'd need and we'll get back to you right away.",isOpen:!1},{question:"How can I contribute to get 50% off from the Team plan?",answer:"There are quite a few ways, so don't worry! All of our build steps are open source along with our Command Line Interface. Create a new Step or improve the CLI, create a Pull Request and you are good to go!",isOpen:!1}],p.maxContainerCountOfPlan=function(e){if(e&&e.isContainerBased())return _.contains(p.userPlans,e)?e.increasedMaxAllowedContainerCount(f):_.contains(p.organizationPlans,e)?e.increasedMaxAllowedContainerCount(g):void 0},p.isAnnualPeriod=function(e){if(e!==undefined&&(p.periodID=e?"annually":"monthly",p.selectedPlan)){var t=p.planWithPeriodID(p.selectedPlan,p.periodID),n=p.selectedPlan.containerCount;t.minContainerCount!==undefined&&t.minContainerCount>n&&(n=t.minContainerCount),p.maxContainerCountOfPlan(t)<n&&(n=p.maxContainerCountOfPlan(t)),p.selectedPlan=t,p.selectedPlan.containerCount=n}return"annually"==p.periodID},p.planSelected=function(e){p.isUserSignedIn?o.showWithParameters({headerText:"Change plan of account",accounts:p.accounts,currentAccount:p.user,selectCallback:function(e){window.location=i.settingsPath(e,{anchor:i.billingAnchor()})}}):(_.each(p.userPlans.concat(p.organizationPlans),function(e){e.containerCount=e.minContainerCount!==undefined?e.minContainerCount:1}),p.selectedPlan=e)},p.planWithPeriodID=function(e,t){if(t==e.period.id)return e;if(_.contains(p.userPlans,e))switch(e.id){case"concrete-hobby":return e;case"concrete-pro-monthly":switch(t){case"annually":return _.find(p.userPlans,{id:"concrete-pro-annually"})}case"concrete-pro-annually":switch(t){case"monthly":return _.find(p.userPlans,{id:"concrete-pro-monthly"})}}if(_.contains(p.organizationPlans,e))switch(e.id){case"concrete-hobby":return e;case"concrete-pro-monthly":switch(t){case"annually":return _.find(p.organizationPlans,{id:"concrete-pro-annually"})}case"concrete-pro-annually":switch(t){case"monthly":return _.find(p.organizationPlans,{id:"concrete-pro-monthly"})}case"organization-elite-monthly":switch(t){case"annually":return _.find(p.organizationPlans,{id:"organization-elite-annually"})}case"organization-elite-annually":switch(t){case"monthly":return _.find(p.organizationPlans,{id:"organization-elite-monthly"})}}return undefined},p.signUpInstructions=function(){return t.stringReplacedWithParameters("To start using a plan, first <a href='<sign_up_url>'>sign up</a>, then select the plan on your user's or organization's settings page, under Plans & billing.",{sign_up_url:i.signUpPath()})},h()}]).directive("pagePricingConcurrencySelectorInputRange",["$parse",function(e){var t=["ng-model","min","max","ng-change"];return{restrict:"E",replace:!0,transclude:!1,priority:1e6,template:function(e,n){var i=angular.element("<div class='input-range'></div>"),r=angular.element("<div class='bar'></div>"),o=angular.element("<div class='slider'></div>"),s=angular.element("<input type='range'>");return _.each(t,function(t){s.attr(t,e.attr(t))}),s.attr("id","{{"+n.inputRangeIdExpression+"}}"),$(i).append(r),$(i).append(o),$(i).append(s),i.prop("outerHTML")},link:function(n,i,r){function o(){var t=l.attr("min"),i=l.attr("max"),o=e(r.ngModel)(n),u=100*(o-t)/(i-t);s.css("width",u+"%"),a.css("left",u+"%"),a.css("margin-left",u/100*-c+"px")}var s=i.find(".bar").first(),a=i.find(".slider").first(),l=i.find("input[type='range']").first(),c=a.width();n.$watch(function(){return l.attr("min")},o),n.$watch(function(){return l.attr("max")},o),n.$watch(l.attr("ng-model"),o),_.each(t,function(e){$(i).removeAttr(e)})}}}]).directive("pagePricingPeriodSelectorInputCheckbox",["$parse",function(){var e=["ng-model","ng-model-options"];return{restrict:"E",replace:!0,transclude:!1,priority:1e6,template:function(t,n){var i=angular.element("<div class='input-checkbox'></div>"),r=angular.element("<input type='checkbox'>");_.each(e,function(e){r.attr(e,t.attr(e))}),r.attr("id","{{"+n.inputCheckboxIdExpression+"}}");var o=angular.element("<div class='slider'></div>");return $(i).append(r),$(i).append(o),i.prop("outerHTML")},link:function(t,n){_.each(e,function(e){$(n).removeAttr(e)})}}}])}(),function(){"use strict";Bitrise.controller("ProgramCtrl",["$scope","$http","Progress","PopupV3",function(e,t,n,i){e.ParticipatePopup=new i("popup-participate-in-program",e),e.participateProgress=new n,e.init=function(t){e.program=t},e.participate=function(){t.post("/api/program/"+e.program+"/participate",{program:e.program}).then(function(t){"ok"==t.data.status?location.reload():(console.log(t.data.status),e.participateProgress.error(new Error(t.msg+"Failed to register to the program.")))},function(){e.participateProgress.error(new Error("Failed to register to the program."))})},e.dontParticipate=function(){t["delete"]("/api/program/"+e.program+"/dismiss").then(function(){location.reload()},function(){location.reload()})}}])}(),function(){"use strict";Bitrise.controller("ProjectFileStorageDocumentUploadCtrl",["$scope","$http","$q","$timeout","http","Progress","GenericFile",function(e,t,n,i,r,o,s){function a(){var t=e.fileTypes;return _.find(e.files,function(t){return"android-keystore"==e.fileTypeOfFile(t).id})&&(t=_.filter(e.fileTypes,function(e){return"android-keystore"!=e.id})),null!==e.selectedFileType&&1!=t.length||(e.selectedFileType=t[0]),t}function l(r){v&&v.resolve("Load files cancelled by another file load request"),v=n.defer(),r&&(e.files=null),e.loadFilesProgress.start("Loading Project File Storage Document files, wait a sec...");var s="/project_file_storage_document/for_job/"+h+".json";t.get(s,{timeout:v.promise}).then(function(t){v=null,_.isEmpty(e.files)?(e.files=_.map(t.data.project_file_storage_documents,function(e){return e.savedExposedMetaDatastore=angular.copy(e.exposed_meta_datastore),e.shouldShowExposedMetaDatastoreValue=_.mapObject(e.exposed_meta_datastore,function(){return!1}),e}),p=_.map(e.files,function(){return new o})):_.each(t.data.project_file_storage_documents,function(t,n){e.files[n]&&e.files[n].id==t.id&&(e.files[n].processed=t.processed)}),_.find(e.files,function(e){return!e.processed})&&i(l,1e3*m),e.manualEnvKey="",e.envKeyInvalidMessage="",e.envKeyValidator(),e.loadFilesProgress.success()},function(t){t&&t.data&&(e.loadFilesProgress.error(new Error("Failed to load Project File Storage Document files!")),i(function(){l(!0)},1e3*m))})}var c=new RegExp("^([a-zA-Z0-9_]+)$"),u="ANDROID_KEYSTORE",d={id:"android-keystore",title:"Android Keystore",envKey:u},h=null;e.fileTypes=[{id:"generic",title:"Generic file"}];var p,f,g,m=1,v=null;e.files,e.envKeyInvalidMessage="",e.isShowUploadForm=!1,e.manualEnvKey="",e.selectedFileType=null,e.loadFilesProgress=new o,e.uploadProgress=new o;var y=this;y.genericFileUploader,y.uploadedGenericFile=new s,y.uploadedGenericFile.name="",y.uploadGenericFileProgress=new o,e.init=function(t,n,i){h=t,f=n,g=i,e.$on("ctrl::ProjectFileStorageDocumentUploadCtrl::updatePlatformType",function(t,n,i){(_.contains(i,"android")||_.contains(i,"xamarin"))&&e.fileTypes.length>=1&&_.isUndefined(_.find(e.fileTypes,function(e){return"android-keystore"==e.id}))&&e.fileTypes.push(d),e.fileTypes=a()}),(_.contains(g,"android")||_.contains(g,"xamarin"))&&(e.fileTypes.push(d),e.fileTypes=a()),l()},e.fileTypeOfFile=function(t){var n="generic";return t.user_env_key==u&&(n="android-keystore"),_.find(e.fileTypes,function(e){return e.id==n})},e.progressStateOfFile=function(t){return p[_.indexOf(e.files,t)]},e.downloadFile=function(n){var i=e.progressStateOfFile(n);i.start("Wait a sec...");var r="/project_file_storage_document/"+n.id+".json";t.get(r).then(function(e){n.expiring_url=e.data.expiring_url,window.location=e.data.expiring_url,i.success()},function(e){n.expiring_url=e.data.expiring_url,window.location=e.data.expiring_url})},e.deleteFile=function(n){if(confirm("Are you sure you want to delete the Project File Storage Document file?")){var i=e.progressStateOfFile(n);i.start("Deleting Project File Storage Document file, wait a sec...");var r="/project_file_storage_document/"+n.id+".json";t["delete"](r).then(function(){e.isShowUploadForm=!1,i.success(),l(!0)},function(){i.error(new Error("Error deleting Project File Storage Document file!"))})}},e.exposedMetaDatastoreOfFileIsDirty=function(e){return!_.isEqual(e.exposed_meta_datastore,e.savedExposedMetaDatastore)},e.saveExposedMetaDatastoreForFile=function(n){var i=e.progressStateOfFile(n);i.start("Saving metadata, wait a sec...");var r="/project_file_storage_document/"+n.id+"/exposed_meta.json",o={exposed_meta:n.exposed_meta_datastore};t.put(r,o).then(function(){i.success(),l(!0)},function(){i.error(new Error("Error saving Project File Storage Document file!"))})},e.titleForDocument=function(e){var t=new RegExp("[^?]*/([^?]+).*"),n=decodeURIComponent(e.expiring_url);return t.test(n)&&t.exec(n)[1]?t.exec(n)[1]:"No title for Project File Storage Document"},e.envKey=function(){return e.selectedFileType&&e.selectedFileType.envKey?e.selectedFileType.envKey:e.manualEnvKey},e.envKeyValidator=function(){var t=_.map(e.files,function(e){return e.user_env_key});if(e.manualEnvKey&&!c.test(e.manualEnvKey))return void(e.envKeyInvalidMessage="The entered ID is not valid. Only 'a-z', 'A-Z', '0-9' and '_' characters are allowed.");_.contains(t,e.envKey())?e.envKeyInvalidMessage="The entered ID is not unique!":e.envKeyInvalidMessage=""},y.uploadGenericFile=function(){y.uploadGenericFileProgress.start("Uploading, wait a sec..."),n(function(t,n){r.post("/project_file_storage_document/"+h,{user_env_key:e.envKey(),upload_file_name:y.uploadedGenericFile.file.name,upload_file_size:y.uploadedGenericFile.size()}).then(function(e){y.uploadedGenericFile.upload(e.upload_url).then(function(){r.post("/project_file_storage_document/"+e.id+"/upload_ended",{success:!0}).then(t,function(e){n(e)})},function(){r.post("/project_file_storage_document/"+e.id+"/upload_ended",{success:!1}).then(function(){n(new Error("Error during upload to storage!"))},function(){n(new Error("Error during upload to storage!"))})})},function(e){n(e)})}).then(function(){e.isShowUploadForm=!1,e.selectedFileType=1==e.fileTypes.length?e.selectedFileType:null,y.uploadGenericFileProgress.success(),l(!0)},function(e){y.uploadGenericFileProgress.error(e)})}}])}(),function(){"use strict";angular.module("Bitrise").factory("ProvProfile",function(){var e=function(){this.file};return e.prototype.updateFile=function(e){this.file=e},e.prototype.size=function(){return this.file?this.file.size!==undefined?this.file.size:this.file.fileSize!==undefined?this.file.fileSize:void 0:undefined},e.prototype.upload=function(e){return $.ajax({type:"PUT",url:e,contentType:"binary/octet-stream",processData:!1,data:this.file})},e})}(),function(){"use strict";Bitrise.controller("ProvProfileDocumentUploadCtrl",["$scope","$http","$q","$timeout","http","PopupV4","Progress","ProvProfile",function(e,t,n,i,r,o,s,a){function l(r){h&&h.resolve("Load Provisioning Profiles cancelled by another Provisioning Profile load request"),
h=n.defer(),r&&(e.provProfileDocuments=undefined),e.loadProvProfileDocumentsProgress.start("Loading Provisioning Profiles, wait a sec...");var o="/prov_profile_document/for_job/"+u+".json";t.get(o,{timeout:h.promise}).then(function(t){h=null,e.provProfileDocuments?_.each(t.data.prov_profile_documents,function(t,n){e.provProfileDocuments[n]&&e.provProfileDocuments[n].id==t.id&&(e.provProfileDocuments[n].processed=t.processed)}):(e.provProfileDocuments=t.data.prov_profile_documents?t.data.prov_profile_documents:[],c=_.map(e.provProfileDocuments,function(){return new s})),_.find(e.provProfileDocuments,function(e){return!e.processed})&&i(l,1e3*d),e.loadProvProfileDocumentsProgress.success(),e.$emit("ProvProfileDocumentUploadCtrl::provProfileDocumentsLoaded",e.provProfileDocuments)},function(t){t&&t.data&&(e.loadProvProfileDocumentsProgress.error(new Error("Failed to load Provisioning Profiles!")),i(function(){l(!0)},1e3*d))})}var c,u=null,d=1,h=null;e.provProfileDocuments,e.isShowUploadForm=!1,e.loadProvProfileDocumentsProgress=new s;var p=this;p.provProfileUploader,p.provProfilesToUpload,p.uploadProvProfilesProgress=new s,e.init=function(t){u=t,e.$on("CodeSigningWizardController::codeSigningFilesUploaded",function(){l()}),l()},e.progressStateOfProvProfileDocument=function(t){return c[_.indexOf(e.provProfileDocuments,t)]},e.downloadProvProfileDocument=function(n){var i=e.progressStateOfProvProfileDocument(n);i.start("Wait a sec...");var r="/prov_profile_document/"+n.id+".json";t.get(r).then(function(e){n.expiring_url=e.data.expiring_url,window.location=e.data.expiring_url,i.success()},function(e){n.expiring_url=e.data.expiring_url,window.location=e.data.expiring_url})},e.deleteProvProfileDocument=function(n){if(confirm("Are you sure you want to delete the provisioning profile file?")){var i=e.progressStateOfProvProfileDocument(n);i.start("Deleting Provisioning Profile, wait a sec...");var r="/prov_profile_document/"+n.id+".json";t["delete"](r).then(function(){e.isShowUploadForm=!1,i.success(),l(!0)},function(){i.error(new Error("Error deleting Provisioning Profile!"))})}},e.titleForDocument=function(e){var t=new RegExp(".([-._a-zA-Z0-9 ()]+.(?:mobileprovision|provisionprofile))+"),n=decodeURIComponent(e.expiring_url);return t.test(n)&&t.exec(n)[1]?t.exec(n)[1]:"No title for provisioning profile"},e.deleteAllProvProfileDocuments=function(){o.confirm(undefined,"Are you sure you want to delete all provisioning profiles attached to this app? This cannot be undone.").then(function(){e.loadProvProfileDocumentsProgress.start("Deleting, wait a sec...");var t="/prov_profile_document/for_job/"+u;r["delete"](t).then(function(){e.loadProvProfileDocumentsProgress.success(),l(!0)},function(t){e.loadProvProfileDocumentsProgress.error(t)})})},p.filesSelectedForUpload=function(e){0!=e.length&&(p.provProfilesToUpload=_.map(e,function(e){var t=new a;return t.name="",t.updateFile(e),t}))},p.uploadProvProfiles=function(){p.uploadProvProfilesProgress.start("Uploading, wait a sec...");var t=_.map(p.provProfilesToUpload,function(e){return n(function(t,n){if(!stringEndsWith(e.file.name,".mobileprovision",!1)&&!stringEndsWith(e.file.name,".provisionprofile",!1))return void n(new TypeError("Invalid file: extension should be .mobileprovision or .provisionprofile"));r.post("/prov_profile_document/"+u,{upload_file_name:e.file.name,upload_file_size:e.size()}).then(function(i){e.upload(i.upload_url).then(function(){r.post("/prov_profile_document/"+i.id+"/upload_ended",{success:!0}).then(t,function(e){n(e)})},function(){r.post("/prov_profile_document/"+i.id+"/upload_ended",{success:!1}).then(function(){n(new Error("Error during upload to storage!"))},function(){n(new Error("Error during upload to storage!"))})})},function(e){n(e)})})});n.all(t).then(function(){e.isShowUploadForm=!1,p.uploadProvProfilesProgress.success(),l(!0)},function(e){p.uploadProvProfilesProgress.error(e)})}}])}(),function(){"use strict";Bitrise.controller("SignInController",["$scope","$q","routeService","deviseService","StyleGenerator","PopupV4","Progress",function(e,t,n,i,r,o,s){var a,l=t.defer(),c={login:{required:"login not specified"},password:{required:"password not specified"}},u={login:{required:"login not specified"}},d={otp_attemp:{required:"verify code not specified"}};e.forgotPassword=!1,e.twoFactor=!1,e.simpleSignInForm,e.simpleSignInFormData={login:"",password:"",remember_me:1},e.simpleSignInProgress=new s,e.resetPasswordForm,e.resetPasswordFormData={login:""},e.resetPasswordProgress=new s,e.twoFactorForm,e.twoFactorFormData={otp_attempt:""},e.twoFactorProgress=new s,e.init=function(t,i){a=n.normalizedRefererPath(t),i&&(e.twoFactor=!0)},e.simpleSignIn=function(){if(!e.simpleSignInForm.$valid){var t=r.errorMessageForFormModel(e.simpleSignInForm,c,"Sign in data invalid or not fully specified.");return void o.alertError("Sign in error",t)}e.simpleSignInProgress.start("Loading, wait a sec..."),i.signInUserWithData(e.simpleSignInFormData.login,e.simpleSignInFormData.password,e.simpleSignInFormData.remember_me,{timeout:l.promise}).then(function(t){!0===t.isTwoFactorAuthChallenge?(e.simpleSignInProgress.reset(),e.twoFactor=!0):window.location=a},function(t){o.alertError("Sign in error",t.message),e.simpleSignInProgress.reset()})},e.forgotPasswordSelected=function(){e.forgotPassword=!0},e.passwordRemembered=function(){e.forgotPassword=!1},e.resetPassword=function(){if(!e.resetPasswordForm.$valid){var t=r.errorMessageForFormModel(e.resetPasswordForm,u,"Reset password data invalid or not fully specified.");return void e.resetPasswordProgress.error(new Error(t))}e.resetPasswordProgress.start("Loading, wait a sec..."),i.resetPasswordOfUserWithLogin(e.resetPasswordFormData.login,{timeout:l.promise}).then(function(){e.resetPasswordProgress.success(),o.alertSuccess("Password reset instructions email sent successfully!"),e.forgotPassword=!1},function(t){o.alertError("Error during password reset!",t.message),e.resetPasswordProgress.reset()})},e.signInWithTwoFactorAuthentication=function(){if(!e.twoFactorForm.$valid){var t=r.errorMessageForFormModel(e.twoFactorForm,d,"Verify code is invalid or not fully specified.");return void o.alertError("Sign in error",t)}e.twoFactorProgress.start("Loading, wait a sec...");var n=e.twoFactorFormData.otp_attempt.replace(/ /g,"");i.signInUserWithOTP(n,e.simpleSignInFormData.remember_me,{timeout:l.promise}).then(function(){window.location=a},function(t){o.alertError("Invalid two-factor code",t.message),e.twoFactorProgress.reset()})},e.$on("$destroy",function(){l.resolve()})}])}(),function(){"use strict";Bitrise.controller("SignUpConfigurationController",["$scope",function(e){var t,n,i;e.init=function(e,r,o){t=e,n=r,i=o},e.signUpPartialLoaded=function(){t&&n&&i&&e.$broadcast("SignUpController::configureWithServiceSignUpParameters",t,n,i)}}])}(),function(){"use strict";Bitrise.controller("SignUpController",["$scope","$q","$timeout","http","routeService","deviseService","StyleGenerator","PopupV4","Progress","User",function(e,t,n,i,r,o,s,a,l,c){var u=t.defer(),d={on:{configureWithServiceSignUpParameters:"SignUpController::configureWithServiceSignUpParameters",configureWithInvitationParameters:"SignUpController::configureWithInvitationParameters"}};e.isServiceSignUp,e.invitationToken,e.isNewUserValidated,e.isConfirmationEmailSent;var h={username:{required:"username not specified"},email:{required:"email not specified"},password:{required:"password not specified"}};e.simpleSignUpForm,e.simpleSignUpFormData={username:"",email:"",password:""},e.validateSimpleSignUpProgress=new l;var p={username:{required:"username not specified"},password:{required:"password not specified"}};e.serviceSignUpForm,e.serviceSignUpFormData={username:"",email:"",password:"",provider:undefined,uid:undefined,token:undefined,secret:undefined,refreshToken:undefined,expiresAt:undefined},e.validateServiceSignUpProgress=new l;var f={};e.basicInfosForm,e.basicInfosFormData={firstName:"",lastName:"",companyName:"",companyType:undefined,mobileTeamSize:undefined,acquisitionChannel:undefined},e.companyTypes=c.companyTypes(),e.mobileTeamSizes=c.mobileTeamSizes(),e.acquisitionChannels=c.acquisitionChannels(),e.signUpProgress=new l,e.resendConfirmationEmailProgress=new l,e.init=function(){e.$on(d.on.configureWithServiceSignUpParameters,function(t,n,i,r){e.isServiceSignUp=!0,e.serviceSignUpFormData.username=n,e.serviceSignUpFormData.email=i,e.serviceSignUpFormData.provider=r.provider,e.serviceSignUpFormData.uid=r.uid,e.serviceSignUpFormData.token=r.token,e.serviceSignUpFormData.secret=r.secret,e.serviceSignUpFormData.refreshToken=r.refresh_token,e.serviceSignUpFormData.expiresAt=r.expires_at}),e.$on(d.on.configureWithInvitationParameters,function(t,n,i){e.invitationToken=n,e.serviceSignUpFormData.email=i})},e.validateSimpleSignUp=function(){if(!e.simpleSignUpForm.$valid){var t=s.errorMessageForFormModel(e.simpleSignUpForm,h,"Sign up data invalid or not fully specified.");return void e.validateSimpleSignUpProgress.error(new Error(t))}e.validateSimpleSignUpProgress.start("Loading, wait a sec...");var n=r.userValidateNewPath(new c),o={username:e.simpleSignUpFormData.username,email:e.simpleSignUpFormData.email,password:e.simpleSignUpFormData.password};i.post(n,o,{timeout:u.promise},"Error during validation.").then(function(){e.isNewUserValidated=!0,e.validateSimpleSignUpProgress.success()},function(t){e.validateSimpleSignUpProgress.error(t)})},e.validateServiceSignUp=function(){if(!e.serviceSignUpForm.$valid){var t=s.errorMessageForFormModel(e.serviceSignUpForm,p,"Sign up data invalid or not fully specified.");return void e.validateServiceSignUpProgress.error(new Error(t))}e.validateServiceSignUpProgress.start("Loading, wait a sec...");var n=r.userValidateNewPath(new c),o={username:e.serviceSignUpFormData.username,email:e.serviceSignUpFormData.email,password:e.serviceSignUpFormData.password,invitation_token:e.invitationToken};i.post(n,o,{timeout:u.promise},"Error during validation.").then(function(){e.isNewUserValidated=!0,e.validateServiceSignUpProgress.success()},function(t){e.validateServiceSignUpProgress.error(t)})},e.signUp=function(t){if(t===undefined&&(t=!0),!e.basicInfosForm.$valid){var n=s.errorMessageForFormModel(e.basicInfosForm,f,"Basic infos invalid or not fully specified.");return void e.signUpProgress.error(new Error(n))}e.signUpProgress.start("Signing up, wait a sec...");var i={};e.isServiceSignUp?(i.username=e.serviceSignUpFormData.username,i.email=e.serviceSignUpFormData.email,i.password=e.serviceSignUpFormData.password,i.provider=e.serviceSignUpFormData.provider,i.uid=e.serviceSignUpFormData.uid,i.token=e.serviceSignUpFormData.token,i.secret=e.serviceSignUpFormData.secret,i.refreshToken=e.serviceSignUpFormData.refreshToken,i.expiresAt=e.serviceSignUpFormData.expiresAt):e.invitationToken?(i.username=e.serviceSignUpFormData.username,i.email=e.serviceSignUpFormData.email,i.password=e.serviceSignUpFormData.password,i.invitationToken=e.invitationToken):(i.username=e.simpleSignUpFormData.username,i.email=e.simpleSignUpFormData.email,i.password=e.simpleSignUpFormData.password),t&&(i.firstName=e.basicInfosFormData.firstName,i.lastName=e.basicInfosFormData.lastName,i.companyName=e.basicInfosFormData.companyName,i.companyType=e.basicInfosFormData.companyType,i.mobileTeamSize=e.basicInfosFormData.mobileTeamSize,i.acquisitionChannel=e.basicInfosFormData.acquisitionChannel),o.signUpUserWithData(i,{timeout:u.promise}).then(function(){e.isServiceSignUp||e.invitationToken?window.location=r.rootPath():e.isConfirmationEmailSent=!0},function(t){e.signUpProgress.reset(),e.isNewUserValidated=!1,e.isServiceSignUp||e.invitationToken?e.validateServiceSignUpProgress.error(t):e.validateSimpleSignUpProgress.error(t)})},e.resendConfirmationEmail=function(){e.resendConfirmationEmailProgress.start("Resending confirmation email, wait a sec..."),o.resendConfirmationEmail(e.isServiceSignUp?e.serviceSignUpFormData.email:e.simpleSignUpFormData.email,{timeout:u.promise}).then(function(){e.resendConfirmationEmailProgress.success(),a.alertSuccess("Email resent successfully!")},function(t){a.alertError("Error sending email!",t.message),e.resendConfirmationEmailProgress.reset()})},e.$on("$destroy",function(){u.resolve()})}])}(),function(){"use strict";Bitrise.controller("SshController",["$scope","$q","http","Progress","SSH",function(e,t,n,i,r){var o,s=t.defer();e.showKeyProgress=new i,e.autoAddProgress=new i,e.generateProgress=new i,e.saveKeyProgress=new i,e.manualSSHPrivateKey=!1,e.isChangeFormVisible=!1,e.isPrivateKeyVisible=!1,e.isSetupHelpVisible=!1,e.registeredPublicKey=null,e.hasRegisteredPrivateKey=!1,e.savedSSHKeyPair={publicSSHKey:null,privateSSHKey:null},e.sshConfig={publicKey:null,privateKey:null,sshKeyPairIsVisible:!1},e.isSuccessVisible=!1,e.$on("$destroy",function(){s.resolve()}),e.init=function(t){o=t,e.getCurrentSSH()},e.getCurrentSSH=function(){e.showKeyProgress.start("Fetching SSH, please wait a sec...");var t="/api/app/"+o+"/s/auth-public-key.json";n.get(t,{timeout:s.promise},"Error fetching SSH key.").then(function(t){t.public_key?(e.savedSSHKeyPair.publicSSHKey=t.public_key,e.registeredPublicKey=t.public_key):(e.registeredPublicKey=null,e.savedSSHKeyPair.publicSSHKey=null,e.savedSSHKeyPair.privateSSHKey=null),e.hasRegisteredPrivateKey=t.has_registered_private_key,e.isSuccessVisible=!1,e.showKeyProgress.success()},function(t){e.showKeyProgress.error(t)})},e.startChanging=function(){e.isPublicKeyVisible=!1,e.isChangeFormVisible=!0,e.isSuccessVisible=!1},e.autoAddSshKeypair=function(){e.autoAddProgress.start("Auto-adding SSH keypair, please wait a sec..."),r.generateSSHKeypair({timeout:s.promise}).then(function(t){e.sshConfig.publicKey=t.publicKey,e.sshConfig.privateKey=t.privateKey,e.savedSSHKeyPair.publicSSHKey=t.publicKey,e.savedSSHKeyPair.privateSSHKey=t.privateKey,e.saveWithRegister(!0,!1),e.autoAddProgress.success()},function(t){e.autoAddProgress.error(t)})},e.generateSSHKeypair=function(){e.generateProgress.start("Generating SSH, please wait a sec..."),r.generateSSHKeypair({timeout:s.promise}).then(function(t){e.sshConfig.publicKey=t.publicKey,e.sshConfig.privateKey=t.privateKey,e.savedSSHKeyPair.publicSSHKey=t.publicKey,e.savedSSHKeyPair.privateSSHKey=t.privateKey,e.generateProgress.success()},function(t){e.generateProgress.error(t)})},e.generateManually=function(){e.manualSSHPrivateKey=!0,e.sshConfig.publicKey=null,e.sshConfig.privateKey=null},e.saveWithRegister=function(t,i){var r,a;i?(r="Removing SSH key pair, please wait a sec...",a="Failed to remove SSH key pair."):(r="Saving SSH, please wait a sec...",a="Failed to save SSH key."),e.saveKeyProgress.start(r);var l="/app/"+o+"/register-ssh-keys.json",c={auth_ssh_private_key:e.sshConfig.privateKey,auth_ssh_public_key:e.sshConfig.publicKey,is_register_key_into_provider_service:t};n.post(l,c,{timeout:s.promise},a).then(function(){i?(e.savedSSHKeyPair.publicSSHKey=null,e.savedSSHKeyPair.privateSSHKey=null):(e.isSuccessVisible=!0,e.registeredPublicKey=e.sshConfig.publicKey,e.cancel()),e.saveKeyProgress.success()},function(t){e.saveKeyProgress.error(t)})},e.cancel=function(){e.manualSSHPrivateKey=!1,e.isChangeFormVisible=!1,e.isPublicKeyVisible=!1,e.isPrivateKeyVisible=!1,e.isSetupHelpVisible=!1,e.sshConfig.sshKeyPairIsVisible=!1,e.sshConfig.publicKey=null,e.sshConfig.privateKey=null,e.savedSSHKeyPair.privateSSHKey=null,e.showKeyProgress.reset(),e.autoAddProgress.reset(),e.generateProgress.reset(),e.saveKeyProgress.reset()}}])}(),function(){"use strict";Bitrise.controller("StepLibListController",["$scope","$http","$filter","$location","Progress","BitriseSteplib",function(e,t,n,i,r,o){e.tagFilter=null,e.steplibProgress=new r;var s=null,a="filter",l={};e.init=function(t){e.steplibProgress.start("Loading integrations, wait a sec..."),e.tagFilter=i.search()[a],s=new o(t),s.fetchBitriseSteplibStepData().then(function(){_.each(_.filter(s.steps,function(e){if(!e.info||!e.info.deprecate_notes)return e}),function(e,t){l[t]={},l[t][t]=e.versions[e.latest_version_number],l[t].stepId=t}),console.log(l),console.log("[OK] Bitrise Verified Step Collection [loaded]"),e.steplibProgress.success()},function(t){e.steplibProgress.error(t.data.error_msg)})},e.filteredSteps=function(){var t={};return e.tagFilter?_.each(l,function(n,i){_.contains(n[n.stepId].type_tags,e.tagFilter)&&(t[i]=n)}):t=l,n("filter")(_.values(t),function(t){return!e.titleFilter||-1!=t[t.stepId].title.toLowerCase().indexOf(e.titleFilter.toLowerCase())})},e.tagFilterSelected=function(t){e.tagFilter==t?e.tagFilter=null:(e.tagFilter=t,window.scrollTo(window.pageXOffset,0)),i.search([a],e.tagFilter)},e.iconUrlForStep=function(e){var t={};return t[e.stepId]=angular.copy(e[e.stepId]),s.iconUrlForStep(t)}}])}(),function(){"use strict";Bitrise.controller("TeamController",["$scope","$q","http","routeService","cookieService","DateService","PopupV4","Progress","InputWithHints","User","Organization","Group","Device","Popover","Plan","StyleGenerator",function(e,t,n,i,r,o,s,a,l,c,u,d,h,p,f){function g(){var t=i.teamDataPath(e.app);e.loadTestDevicesProgress.reset(),e.loadTeamDataProgress.start("Loading team members, wait a sec..."),n.get(t,{timeout:b.promise}).then(function(t){if(e.canCurrentUserAccessTeamData=t.can_current_user_access_team_data,e.canCurrentUserManageTeamData=t.can_current_user_manage_team_data,e.canCurrentUserUnsubscribe=t.can_current_user_unsubscribe,e.potentialServiceCredentialUsers=[null],e.potentialNewOwners=[],t.can_current_user_access_team_data){var n=[];switch(e.team=_.map(t.team,function(t){var i={id:t.role_id,title:t.role_title,singularTitle:t.role_title_singular,groups:undefined,teamMembers:undefined,directTeamMembers:undefined};return i.teamMembers=_.map(t.team_members,function(t){var i=_.find(n,function(e){return e.databaseID==t.id});return i||(i=new c(t.username)),i.databaseID=t.id,i.email=t.email,i.avatarURL=t.avatar_url,i.hasPendingInvitation=t.is_invitation_pending,i.invitedAt=o.dateFromString(t.invited_at),t.is_current_user&&(e.currentUser=i),i.hasPendingInvitation||(e.potentialServiceCredentialUsers.push(i),e.potentialNewOwners.push(i)),n.push(i),i}),i.directTeamMembers=_.filter(i.teamMembers,function(e){return _.contains(t.direct_team_members,e.databaseID)}),i}),t.owner.type){case"User":e.app.owner=_.find(n,function(e){return e.databaseID==t.owner.id}),e.app.owner||(e.app.owner=new c,e.app.owner.username=t.owner.username,e.app.owner.databaseID=t.owner.id,e.app.owner.email=t.owner.email,e.app.owner.avatarURL=t.owner.avatar_url,e.app.owner.invitedAt=o.dateFromString(t.owner.invited_at),e.potentialServiceCredentialUsers.push(e.app.owner)),t.owner.is_current_user&&(e.currentUser=e.app.owner);break;case"Organization":e.app.owner=new u(t.owner.slug),e.app.owner.name=t.owner.name,e.app.owner.billingEmail=t.owner.email,e.app.owner.avatarURL=t.owner.avatar_url,e.app.owner.members=[],e.app.owner.owners=_.map(t.owner.owners,function(t){var i=_.find(n,function(e){return e.databaseID==t.id});return i||(i=new c,i.username=t.username,i.databaseID=t.id,i.avatarURL=t.avatar_url,e.potentialServiceCredentialUsers.push(i),e.potentialNewOwners.push(i)),t.is_current_user&&(e.currentUser=i),e.app.owner.members.push(i),i}),e.app.owner.groups=_.map(t.owner.groups,function(t){var n=new d(t.slug);return n.name=t.name,n.users=_.map(t.users,function(t){var n=_.find(y(),function(e){return t.id==e.databaseID});return n||(n=new c(t.username),n.id=t.id,n.email=t.email,n.avatarURL=t.avatar_url,t.is_current_user&&(e.currentUser=n)),e.app.owner.members.push(n),n}),n}),_.each(y(),function(t){t.groups=_.filter(e.app.owner.groups,function(e){return _.contains(e.users,t)})}),_.each(e.team,function(n){n.groups=_.map(_.find(t.team,function(e){return e.role_id==n.id}).groups,function(t){return _.find(e.app.owner.groups,function(e){return e.slug==t})})}),e.organizationOwnerPopovers=_.map(e.app.owner.owners,function(){return new p})}e.currentUser.organizations=_.map(t.organizations,function(t){var n;return"Organization"==e.app.owner.accountType&&e.app.owner.slug==t.slug?n=e.app.owner:(n=new u(t.slug),n.name=t.name,n.currentPlan=new f(t.current_plan),n.pendingPlan=new f(t.pending_plan),e.potentialNewOwners.push(n)),n}),e.potentialNewOwners=_.uniq(e.potentialNewOwners),m()}t.can_current_user_access_team_data||(e.currentUser||(e.currentUser=new c,e.currentUser.username=t.current_user_username),e.roleTitleOfCurrentUser=t.role_title_of_current_user,e.groupNameOfCurrentUser=t.group_name_of_current_user),e.roleCheatsheetConfig.roles=[{id:"owner",title:"Owners"}].concat(e.team),e.loadTeamDataProgress.success()},function(){e.loadTeamDataProgress.error(new Error("Error loading team data, click here to try again."),g)})}function m(){e.serviceCredentialUserProgress.start("Loading service credential User, wait a sec..."),e.app.getServiceCredentialUser({timeout:b.promise},"Error loading service credential User").then(function(){if(e.app.serviceCredentialUser){var t=_.find(e.potentialServiceCredentialUsers,function(t){return!!t&&t.databaseID==e.app.serviceCredentialUser.databaseID});t&&(e.app.serviceCredentialUser=t)}e.serviceCredentialUser=e.app.serviceCredentialUser,e.serviceCredentialUserProgress.success()},function(t){e.serviceCredentialUserProgress.error(t)})}function v(){e.loadTestDevicesProgress.start("Loading test devices, wait a sec...");var t=i.teamMemberTestDevicesPath(e.app);n.get(t,{timeout:b.promise},"Error loading test devices").then(function(t){_.each(y(),function(e){e.testDevices=_.map(_.filter(t,function(t){return t.owner.username==e.username}),function(e){var t=new h;return t.deviceId=e.device_identifier,t.name=e.title,t})}),e.loadTestDevicesProgress.success()},function(t){e.loadTestDevicesProgress.error(t)})}function y(){var t=[];switch(_.each(e.team,function(e){t=_.union(t,e.teamMembers)}),e.app.owner.accountType){case"User":t.push(e.app.owner);break;case"Organization":t=_.union(t,e.app.owner.owners)}return _.uniq(t)}var b=t.defer();e.abilities=[{id:"canManagePayment",cssClass:"can-manage-payment",description:"manage payment"},{id:"canDestroy",cssClass:"can-destroy",description:"destroy app"},{id:"canChangeSettings",cssClass:"can-change-settings",description:"change app settings"},{id:"canManageTeamMemberRoles",cssClass:"can-manage-team-member-roles",description:"manage team member roles"},{id:"canManageWorkflow",cssClass:"can-manage-workflow",description:"manage workflows"},{id:"canRunBuilds",cssClass:"can-run-builds",description:"run builds"},{id:"canViewBuildLogs",cssClass:"can-view-build-logs",description:"view build logs"},{id:"canViewBuilds",cssClass:"can-view-builds",description:"view builds"},{id:"canTouchThis",cssClass:"can-touch-this",description:"<a href='https://www.youtube.com/watch?v=otCpCn0l4Wo' target='_blank'>touch this</a>"},{id:"canCrossIt",cssClass:"can-cross-it",description:"<a href='https://www.youtube.com/watch?v=hknVoAoyy-k' target='_blank'>cross it</a>"}],e.nonOwnerAbilities=e.abilities.slice(0,-2),e.roleAbilities={owner:{canManagePayment:!0,canDestroy:!0,canChangeSettings:!0,canManageTeamMemberRoles:!0,canManageWorkflow:!0,canRunBuilds:!0,canViewBuildLogs:!0,canViewBuilds:!0,canTouchThis:!1,canCrossIt:!1},admin:{canManagePayment:!1,canDestroy:!1,canChangeSettings:!0,canManageTeamMemberRoles:!0,canManageWorkflow:!0,canRunBuilds:!0,canViewBuildLogs:!0,canViewBuilds:!0},manager:{canManagePayment:!1,canDestroy:!1,canChangeSettings:!1,canManageTeamMemberRoles:!1,canManageWorkflow:!1,canRunBuilds:!0,canViewBuildLogs:!0,canViewBuilds:!0},member:{canManagePayment:!1,canDestroy:!1,canChangeSettings:!1,canManageTeamMemberRoles:!1,canManageWorkflow:!1,canRunBuilds:!1,canViewBuildLogs:!1,canViewBuilds:!0}},e.app,e.currentUser,e.loadTeamDataProgress=new a,e.canCurrentUserAccessTeamData,e.canCurrentUserManageTeamData,e.canCurrentUserUnsubscribe,e.team,e.selectedAccount,e.loadTestDevicesProgress=new a(!0),e.testGitConnectionOfServiceCredentialUserProgress=new a(!0),e.newUserLogin="",e.newUserRole,e.selectedGroup,e.ownerAbilities,e.roleTitleOfCurrentUser,e.groupNameOfCurrentUser,e.organizationOwnerPopovers,e.shouldShowGroupAddNotificationIfRelevant,e.webhookServices,e.selectedWebhookService,e.accountDetailsPopup=new s,e.accountDetailsPopup.beforeAppearCallback=function(){e.loadTestDevicesProgress.isInProgress||e.loadTestDevicesProgress.isSuccess||v()},e.inviteUserConfig={login:"",role:undefined},e.inviteUserInputWithHints=new l,e.inviteUserProgress=new a,e.reinviteUserProgress=new a,e.roleChangeConfig={role:undefined,teamMember:undefined},e.changeRolePopup=new s,e.changeRolePopup.afterDismissCallback=function(){e.roleChangeConfig.role=undefined,e.roleChangeConfig.teamMember=undefined},e.changeRoleProgress=new a,e.removeUserProgress=new a,e.unsubscribeProgress=new a,e.transferOwnershipConfig={newOwner:undefined,shouldRemainServiceCredentialUser:!0},e.transferOwnershipPopup=new s,e.transferOwnershipPopup.afterDismissCallback=function(){e.transferOwnershipConfig.newOwner=undefined,e.transferOwnershipConfig.shouldRemainServiceCredentialUser=!0},e.transferOwnershipProgress=new a,e.potentialNewOwners,e.serviceCredentialUserProgress=new a,e.serviceCredentialUser,e.groupDetailsPopup=new s,e.groupDetailsPopup.afterDismissCallback=function(){e.selectedGroup=undefined,e.changeSelectedGroupRoleConfig.role=undefined},e.groupUserToRemove,e.changeSelectedGroupRoleConfig={role:undefined},e.changeSelectedGroupRoleProgress=new a,e.addGroupProgress=new a,e.addGroupConfig={group:undefined,role:undefined},e.removeGroupProgress=new a,e.roleCheatsheetPopup=new s,e.roleCheatsheetConfig={role:undefined,roles:undefined},e.roleCheatsheetPopup.beforeAppearCallback=function(){e.roleCheatsheetConfig.role=e.roleCheatsheetConfig.roles[0]},e.init=function(){e.app=i.getAppFromCurrentPath(),e.shouldShowGroupAddNotificationIfRelevant=r.getObject("TeamController::shouldShowGroupAddNotificationIfRelevant::"+e.app.slug),e.shouldShowGroupAddNotificationIfRelevant===undefined&&(e.shouldShowGroupAddNotificationIfRelevant=!0),g()},e.hideGroupAddNotification=function(){r.putObjectPermanent("TeamController::shouldShowGroupAddNotificationIfRelevant::"+e.app.slug,!1),e.shouldShowGroupAddNotificationIfRelevant=!1},e.popoverForAbilities=function(){return new p},e.fullDescriptionForRoleAbility=function(t,n){if(t){var i=e.roleAbilities[t][n.id]?"Can":"Can't";return i+=" ",i+=n.description}},e.testGitConnectionOfServiceCredentialUser=function(){e.testGitConnectionOfServiceCredentialUserProgress.start("Testing Git connection of service credential user, wait a sec...");var t="/app/"+e.app.slug+"/check-git-service-connection.json";n.get(t,{timeout:b.promise}).then(function(){e.testGitConnectionOfServiceCredentialUserProgress.success("Git connection of service credential user successfully tested.")},function(t){t.message.indexOf("access denied")>-1?t=t+"<br><ul>How to fix: <li>Make sure that the (git clone) URL (on the <a href='"+i.appPath(e.app)+"/settings' target='_blank'>Settings tab</a>) is exactly the same as the one printed on your git server/service! Please copy and paste from there, as APIs are case sensisitve, so caps do matter!</li><li>If you did rename or transfer your repository please copy paste the new git clone URL!</li></ul><br>":t.message.indexOf("moved permanently")>-1&&(t=t+"<br><br>Looks like that the repository was renamed or removed. Please make sure that the url on the <a href='"+i.appPath(e.app)+"/settings' target='_blank'>Settings page</a> is up-to-date."),e.testGitConnectionOfServiceCredentialUserProgress.error(new Error(t+" For more information check out this <a href='http://devcenter.bitrise.io/faq/github-pull-request-status-troubleshooting/#make-sure-to-select-a-service-credential-user-who-has-a-connected-github-account' target='_blank'>guide</a>."))})},e.potentialGroupsToAdd=function(){return e.app.owner&&"Organization"==e.app.owner.accountType?_.reject(e.app.owner.groups,function(t){return 0==t.users.length||_.any(e.team,function(e){return _.contains(e.groups,t)})}):[]},e.anyPotentialGroupAdded=function(){return e.app.owner&&"Organization"==e.app.owner.accountType?_.any(e.app.owner.groups,function(t){return 0!=t.users.length&&_.any(e.team,function(e){return _.contains(e.groups,t)})}):undefined},e.isTeamEmpty=function(){return _.every(e.team,function(e){return!(e.groups&&e.groups.length>0)&&0==e.teamMembers.length})},e.accountSelected=function(t){"Organization"==t.accountType?window.location=i.settingsPath(t):(e.selectedAccount=t,e.accountDetailsPopup.isVisible=!0)},e.selectedAccountTestDevices=function(){return e.selectedAccount?e.selectedAccount==e.app.owner?_.flatten(_.map(y(),function(e){return e.testDevices})):e.selectedAccount.testDevices:undefined},e.inviteUserInputWithHints.textUpdatedCallback=function(){e.inviteUserInputWithHints.canceler.resolve(),e.inviteUserInputWithHints.canceler=t.defer(),e.inviteUserInputWithHints.progress.start("Loading Users, wait a sec...");var i={filter:e.inviteUserConfig.login};n.post("/users/find",i,{timeout:e.inviteUserInputWithHints.canceler.promise}).then(function(t){e.inviteUserInputWithHints.canceler.resolve(),e.inviteUserInputWithHints.hints=_.map(t,function(t){return{text:t,selectedCallback:function(){e.inviteUserConfig.login=t,e.inviteUserInputWithHints.deactivate()}}}),e.inviteUserInputWithHints.progress.success()},function(t){e.inviteUserInputWithHints.progress.error(t)})},e.inviteUser=function(){e.inviteUserProgress.start("Sending invite, wait a sec...");var t=i.teamMemberInvitePath(e.app),r={login:e.inviteUserConfig.login,role:e.inviteUserConfig.role.id};n.post(t,r,{timeout:b.promise},"Error sending invite to User.").then(function(){e.inviteUserConfig.login="",e.inviteUserConfig.role=undefined,e.inviteUserProgress.success(),g()},function(t){e.inviteUserProgress.error(t)})},e.reinviteUser=function(t){e.reinviteUserProgress.start("Resending invite, wait a sec...");var r=i.teamMemberReinvitePath(e.app),o={login:t.email};n.post(r,o,{timeout:b.promise},"Error resending invite to User.").then(function(){e.reinviteUserProgress.success(),s.alertSuccess("Invite resent successfully!","Yay!")},function(t){e.reinviteUserProgress.error(t)})},e.removeUser=function(t){s.confirm(undefined,"Are you sure you want to remove the current User from this App's team?").then(function(){e.removeUserProgress.start("Removing user, wait a sec...");var r=i.teamMemberRemovePath(e.app);n["delete"](r,{params:{login:t.email},timeout:b.promise},"Error removing team member.").then(function(){e.removeUserProgress.success(),g()},function(t){e.removeUserProgress.error(t)})})},e.changeRoleOfTeamMemberSelected=function(t){e.roleChangeConfig.teamMember=t,e.roleChangeConfig.role=_.find(e.team,function(e){return _.contains(e.directTeamMembers,t)}),e.changeRolePopup.isVisible=!0},e.changeRole=function(){var t=i.teamMemberChangeRolePath(e.app),r={username:e.roleChangeConfig.teamMember.username,role:e.roleChangeConfig.role.id};n.put(t,r,{timeout:b.promise},"Error changing role.").then(function(){e.changeRoleProgress.success(),g(),e.changeRolePopup.isVisible=!1},function(t){e.changeRoleProgress.error(t)})},e.unsubscribe=function(){s.confirm(undefined,"Are you sure you want to unsubscribe from this App's team?").then(function(){e.unsubscribeProgress.start("Unsubscribing, wait a sec...");var t=i.teamMemberUnsubscribe(e.app);n["delete"](t,{timeout:b.promise},"Failed to unsubscribe User.").then(function(){window.location=i.dashboardPath()},function(t){e.unsubscribeProgress.error(t)})})},e.transferOwnershipSelected=function(){e.potentialNewOwners.length>0?e.transferOwnershipPopup.isVisible=!0:s.alertError("You can only transfer ownership to another App team member, or to one of the Organizations you are a member of.",undefined,"Oh, okay")},e.transferOwnership=function(){e.transferOwnershipProgress.start("Transferring ownership, wait a sec...");var t=i.teamMemberTransferOwnershipPath(e.app),r={};switch(null===e.app.serviceCredentialUser&&(r.should_remain_service_credential_user=e.transferOwnershipConfig.shouldRemainServiceCredentialUser),e.transferOwnershipConfig.newOwner.accountType){case"User":r.username=e.transferOwnershipConfig.newOwner.username;break;case"Organization":r.organization_slug=e.transferOwnershipConfig.newOwner.slug}n.put(t,r,{timeout:b.promise},"Error transferring ownership.").then(function(){location.reload()},function(t){e.transferOwnershipProgress.error(t)})},e.saveServiceCredentialUser=function(){e.serviceCredentialUserProgress.start("Saving service credential User, wait a sec..."),e.testGitConnectionOfServiceCredentialUserProgress.reset(),e.app.saveServiceCredentialUser(e.serviceCredentialUser,{timeout:b.promise}).then(function(){e.serviceCredentialUserProgress.success()},function(t){e.serviceCredentialUserProgress.error(t)})},
e.resetServiceCredentialUser=function(){e.serviceCredentialUser=e.app.serviceCredentialUser,e.serviceCredentialUserProgress.reset(),e.testGitConnectionOfServiceCredentialUserProgress.reset()},e.showGroupDetails=function(t){e.selectedGroup=t,e.groupDetailsPopup.isVisible=!0},e.addGroupWithRole=function(t){e.addGroupConfig.role=t,e.addGroup()},e.addGroup=function(){e.addGroupProgress.start("Adding Group, wait a sec...");var t=i.teamGroupAddPath(e.app),r={group_slug:e.addGroupConfig.group.slug,role:e.addGroupConfig.role.id};n.post(t,r,{timeout:b.promise},"Error adding Group.").then(function(){e.addGroupProgress.success(),e.addGroupConfig.group=undefined,e.addGroupConfig.role=undefined,g()},function(t){e.addGroupProgress.error(t)})},e.removeGroup=function(t){s.confirm(undefined,"Are you sure you want to remove the current Group from this App's team?").then(function(){e.removeGroupProgress.start("Removing user, wait a sec...");var r=i.teamGroupRemovePath(e.app),o={group_slug:t.slug};n["delete"](r,{params:o,timeout:b.promise},"Error removing Group.").then(function(){e.removeGroupProgress.success(),g()},function(t){e.removeGroupProgress.error(t)})})},e.groupRoleSelected=function(t){e.changeSelectedGroupRoleConfig.role=e.isRoleCurrentRoleOfGroup(t,e.selectedGroup)?undefined:t},e.isRoleCurrentRoleOfGroup=function(e,t){if(t)return _.contains(e.groups,t)},e.changeSelectedGroupRole=function(){e.changeSelectedGroupRoleProgress.start("Changing Group role, wait a sec...");var t=i.teamGroupRoleChangePath(e.app),r={group_slug:e.selectedGroup.slug,role:e.changeSelectedGroupRoleConfig.role.id};n.put(t,r,{timeout:b.promise},"Error changing Group role.").then(function(){e.changeSelectedGroupRoleConfig.role=undefined,e.changeSelectedGroupRoleProgress.success(),g(),e.groupDetailsPopup.isVisible=!1},function(t){e.changeSelectedGroupRoleProgress.error(t)})},e.$on("$destroy",function(){b.resolve()})}])}(),function(){"use strict";Bitrise.controller("TestDeviceManagementCtrl",["$scope","$http","Progress",function(e,t,n){function i(){e.deviceToRegister={title:null,device_identifier:null,device_type:"ios"}}function r(){return e.manageTestDeviceProgress.start(),t.get("/me/test_devices.json").then(function(t){if(e.testDevices=t.data,e.currentDeviceIdentifier){var n=_.find(e.testDevices,function(t){return t.device_identifier===e.currentDeviceIdentifier});e.isCurrentDeviceRegistered=!!n}return e.manageTestDeviceProgress.success(),t},function(t){return e.manageTestDeviceProgress.error(new Error("Error loading test devices.")),t})}function o(e){var n={title:e.title,device_identifier:e.device_identifier,device_type:e.device_type};return t.post("/me/test_devices.json",n).then(function(e){return e})}e.testDevices=null,e.deviceToRegister=null,e.addTestDeviceProgress=new n,e.manageTestDeviceProgress=new n,e.successfulRegistrationRedirect=null,e.currentDeviceIdentifier=null,e.isCurrentDeviceRegistered=!1,e.init=function(){i(),r()},e.setCurrentDeviceIdentifier=function(t){""===t&&(t=null),e.currentDeviceIdentifier=t},e.setDeviceToRegister=function(t,n){e.deviceToRegister.title=n,e.deviceToRegister.device_identifier=t},e.registerCurrentDevice=function(){e.addTestDeviceProgress.start(),o(e.deviceToRegister).then(function(){i(),e.addTestDeviceProgress.success(),e.successfulRegistrationRedirect?window.location=e.successfulRegistrationRedirect:r()},function(t){t.data.error_msg?e.addTestDeviceProgress.error(new Error(t.data.error_msg)):e.addTestDeviceProgress.error(new Error("Error registering test device."))})},e.removeDevice=function(n){e.manageTestDeviceProgress.start();var i="/me/test_devices/d/"+n.id+".json";return t["delete"](i).then(function(){return e.manageTestDeviceProgress.success(),r()},function(){e.manageTestDeviceProgress.error(new Error("Error removing test device."))})}}])}(),function(){"use strict";Bitrise.controller("TestimonialController",["$scope","$timeout",function(e,t){var n=1e4,i=null;e.init=function(){e.testimonials=[{testimonial:"Bitrise and fastlane are the missing piece in the iOS testing story.",name:"Radoslav Stankov",image:"rado",position:"ENGINEER",company:"PRODUCT HUNT",title:"Read more customer stories",url:"customers"},{testimonial:"Bitrise is easy, fun, packed with features, and the company support and communications are outstanding. We're never looking back.",name:"Justin Miller",image:"justin",position:"MOBILE LEAD",company:"MAPBOX",title:"Read Mapbox's customer story",url:"customers/mapbox"},{testimonial:"We can focus on shipping our code and Bitrise manages the rest. I really like the variety of steps and the workflow system: it's so powerful!",name:"Christoph Valentin",image:"christoph",position:"ENGINEER",company:"APPALOOSA",title:"Read Appaloosa's customer story",url:"customers/appaloosa"},{testimonial:"Bitrise is just simple. It has taken a process that can be convoluted and difficult for a company to maintain, to now being effortless.",name:"Peter Siegmann",image:"peter-siegmann",position:"ENGINEER",company:"PROLIFIC INTERACTIVE",title:"Read Prolific Interactive's customer story",url:"customers/prolificinteractive"}],e.selectedIndex=0,i=t(e.nextTestimonial,n)},e.nextTestimonial=function(){i&&(t.cancel(i),i=null),e.selectedIndex=(e.selectedIndex+1)%e.testimonials.length,i=t(e.nextTestimonial,n)},e.previousTestimonial=function(){i&&(t.cancel(i),i=null),e.selectedIndex=(e.selectedIndex+e.testimonials.length-1)%e.testimonials.length,i=t(e.nextTestimonial,n)}}])}(),function(){"use strict";angular.module("Bitrise").directive("title",["titleService",function(e){return{restrict:"E",scope:{},link:function(t,n){e.title=n.text(),t.$watch(function(){return e.title},function(e){n.text(e)})}}}]),angular.module("Bitrise").service("titleService",function(){return{title:undefined}})}(),function(){"use strict";Bitrise.controller("TriggersController",["$scope","$q","PopupV4","Trigger",function(e,t,n,i){function r(t){var n=e.filteredTriggers[t],i=_.indexOf(e.triggerMap,n);e.triggerMap.splice(i,1),e.triggerMap.splice(t,0,n)}function o(){e.triggerTypes.triggerIsPushRequestAllowed?e.filteredTriggers=_.filter(e.triggerMap,function(e){return!_.isUndefined(e.push_branch)}):e.triggerTypes.triggerIsPullRequestAllowed?e.filteredTriggers=_.filter(e.triggerMap,function(e){return!_.isUndefined(e.pull_request_source_branch)||!_.isUndefined(e.pull_request_target_branch)}):e.triggerTypes.triggerIsTagAllowed&&(e.filteredTriggers=_.filter(e.triggerMap,function(e){return!_.isUndefined(e.tag)})),e.hasPatternWithWorkflowIDWhichStartsWithUnderscore=_.some(e.filteredTriggers,function(e){return e.workflow.startsWith("_")})}function s(e){return e===undefined||""===e?"*":e}var a=t.defer(),l={on:{configureWithParameters:"ctrl::TriggersController::configureWithParameters",clearSelectedTrigger:"ctrl::TriggersController::clearSelectedTrigger"}};e.triggerMap,e.editedTriggerConfig,e.sortableTriggerOptions,e.addTriggerConfig,e.workflowIds,e.hasDuplicates=!1,e.hasPatternWithWorkflowIDWhichStartsWithUnderscore=!1,e.filteredTriggers,e.triggerTypes={triggerIsPullRequestAllowed:!1,triggerIsPushRequestAllowed:!1,triggerIsTagAllowed:!1};var c={pullRequestSourceBranchName:undefined,pullRequestTargetBranchName:undefined,pushBranchName:undefined,tag:undefined,selectedWorkflowID:undefined,index:undefined};e.init=function(){e.$on(l.on.configureWithParameters,function(t,n){n.triggerMap&&(e.triggerMap=n.triggerMap,e.changeTriggerType("triggerIsPushRequestAllowed")),n.workflowIds&&(e.workflowIds=_.filter(n.workflowIds,function(e){return!e.startsWith("_")}))}),e.$on(l.on.clearSelectedTrigger,function(){_.isNull(e.addTriggerConfig)||_.isUndefined(e.addTriggerConfig)||!e.addTriggerConfig.selectedWorkflowID||e.addTrigger(),_.isNull(e.editedTriggerConfig)||_.isUndefined(e.editedTriggerConfig)||!e.editedTriggerConfig.selectedWorkflowID||e.finishTriggerEdit(),e.triggerSelected(null)}),e.$on(l.on.addTrigger,function(t,n){e.addTrigger(n)})},e.$on("$destroy",function(){a.resolve()}),e.sortableTriggerOptions={"ui-floating":"true",start:function(){$("button.add-trigger").each(function(){$(this).addClass("drag-in-progress")})},sort:function(e,t){var n=$(e.target),i=e.pageY-n.offsetParent().offset().top-t.helper.outerHeight(!0)/2;t.helper.css({top:i+"px"})},stop:function(e,t){$("button.add-trigger").each(function(){$(this).removeClass("drag-in-progress")}),r(t.item.sortable.dropindex)},disabled:!1,axis:"y",helper:"clone"},e.changeTriggerType=function(t){e.triggerTypes.triggerIsPushRequestAllowed=!1,e.triggerTypes.triggerIsPullRequestAllowed=!1,e.triggerTypes.triggerIsTagAllowed=!1,e.triggerTypes[t]=!0,e.triggerSelected(null),o()},e.addTrigger=function(t){t===undefined&&(t=e.addTriggerConfig);var n={};e.triggerTypes.triggerIsPullRequestAllowed?t.pullRequestSourceBranchName&&!t.pullRequestTargetBranchName?n.pull_request_source_branch=t.pullRequestSourceBranchName:!t.pullRequestSourceBranchName&&t.pullRequestTargetBranchName?n.pull_request_target_branch=t.pullRequestTargetBranchName:(n.pull_request_source_branch=i.normalizedPattern(t.pullRequestSourceBranchName),n.pull_request_target_branch=i.normalizedPattern(t.pullRequestTargetBranchName)):e.triggerTypes.triggerIsPushRequestAllowed?n.push_branch=i.normalizedPattern(t.pushBranchName):e.triggerTypes.triggerIsTagAllowed&&(n.tag=t.tag?t.tag:"*"),n.workflow=t.selectedWorkflowID,e.triggerMap.splice(t.index,0,n),e.addTriggerConfig=null,e.sortableTriggerOptions.disabled=!1,o()},e.patternValidator=function(t,n){var i=e.editedTriggerConfig==t&&!_.isUndefined(n);e.triggerTypes.triggerIsPushRequestAllowed?e.hasDuplicates=_.any(e.filteredTriggers,function(r){return(!i||s(t.pushBranchName)!=s(e.filteredTriggers[n].push_branch))&&s(t.pushBranchName)==s(r.push_branch)}):e.triggerTypes.triggerIsPullRequestAllowed?e.hasDuplicates=_.any(e.filteredTriggers,function(r){return(!i||s(t.pullRequestSourceBranchName)!=s(e.filteredTriggers[n].pull_request_source_branch)||s(t.pullRequestTargetBranchName)!=s(e.filteredTriggers[n].pull_request_target_branch))&&(s(t.pullRequestSourceBranchName)==s(r.pull_request_source_branch)&&s(t.pullRequestTargetBranchName)==s(r.pull_request_target_branch))}):e.triggerTypes.triggerIsTagAllowed&&(e.hasDuplicates=_.any(e.filteredTriggers,function(r){return(!i||s(t.tag)!=s(e.filteredTriggers[n].tag))&&s(t.tag)==s(r.tag)}))},e.enterAddTriggerModeWithTrigger=function(t){e.editedTriggerConfig&&e.triggerSelected(null),e.sortableTriggerOptions.disabled=!0,e.addTriggerConfig=angular.copy(c),e.addTriggerConfig.index=_.isUndefined(t)?0:_.contains(e.triggerMap,t)?_.indexOf(e.triggerMap,t)+1:0,e.addTriggerConfig.triggerIsPushRequestAllowed=!0,1==e.workflowIds.length&&(e.addTriggerConfig.selectedWorkflowID=_.first(e.workflowIds))},e.triggerSelected=function(t){e.addTriggerConfig&&e.cancelAddTriggerMode(),e.hasDuplicates=!1,e.sortableTriggerOptions.disabled=!!t,e.editedTriggerConfig=t?{trigger:t,pullRequestSourceBranchName:t.pull_request_source_branch,pullRequestTargetBranchName:t.pull_request_target_branch,pushBranchName:t.push_branch,tag:t.tag,selectedWorkflowID:t.workflow}:null},e.cancelAddTriggerMode=function(){e.addTriggerConfig=null,e.sortableTriggerOptions.disabled=!1,e.hasDuplicates=!1},e.finishTriggerEdit=function(){var t=e.editedTriggerConfig.trigger;e.triggerTypes.triggerIsPullRequestAllowed?(delete t.tag,delete t.push_branch,e.editedTriggerConfig.pullRequestSourceBranchName&&!e.editedTriggerConfig.pullRequestTargetBranchName?(delete t.pull_request_target_branch,t.pull_request_source_branch=e.editedTriggerConfig.pullRequestSourceBranchName):!e.editedTriggerConfig.pullRequestSourceBranchName&&e.editedTriggerConfig.pullRequestTargetBranchName?(delete t.pull_request_source_branch,t.pull_request_target_branch=e.editedTriggerConfig.pullRequestTargetBranchName):(t.pull_request_source_branch=i.normalizedPattern(e.editedTriggerConfig.pullRequestSourceBranchName),t.pull_request_target_branch=i.normalizedPattern(e.editedTriggerConfig.pullRequestTargetBranchName))):e.triggerTypes.triggerIsPushRequestAllowed?(t.push_branch=i.normalizedPattern(e.editedTriggerConfig.pushBranchName),delete t.tag,delete t.pull_request_source_branch,delete t.pull_request_target_branch):e.triggerTypes.triggerIsTagAllowed&&(delete t.pull_request_source_branch,delete t.pull_request_target_branch,delete t.push_branch,t.tag=e.editedTriggerConfig.tag?e.editedTriggerConfig.tag:"*"),t.workflow=e.editedTriggerConfig.selectedWorkflowID,e.triggerSelected(null)},e.removeTrigger=function(t,i){i.stopPropagation(),i.preventDefault(),n.confirm("Are you sure?","Are you sure you want to delete the trigger pattern?").then(function(){var n=_.indexOf(e.triggerMap,t);e.triggerMap.splice(n,1),e.editedTriggerConfig&&e.triggerSelected(null),o()})}}])}(),function(){"use strict";Bitrise.controller("UpdateUserBasicInfoPopupController",["$scope","$q","routeService","http","Progress","PopupV4","User",function(e,t,n,i,r,o,s){function a(){e.user.setMetadataAtKeyWithValue("should_stop_asking_for_company_type_and_mobile_team_size",!0,{timeout:c.promise}).then(function(){e.updateUserAccountPopup.isVisible=!1},function(){})}function l(){e.loadBasicInfosProgress.start("Loading user information, wait a sec...");var t=n.userBasicInfoPath(e.user);i.get(t,{timeout:c.promise}).then(function(t){e.user.companyType=t.company_type,e.user.mobileTeamSize=t.mobile_team_size,t.company_type&&t.mobile_team_size?e.steps[1].skipSelected():((!t.company_type&&t.mobile_team_size||!t.company_type&&!t.mobile_team_size)&&(e.selectedStep=e.steps[0]),t.company_type&&!t.mobile_team_size&&(e.selectedStep=e.steps[1]),e.updateUserAccountPopup.isVisible=!0),e.loadBasicInfosProgress.success()},function(){e.loadBasicInfosProgress.error(new Error("Error loading user information, click here to try again"),l)})}var c=t.defer();e.user=new s,e.companyTypes=s.companyTypes(),e.mobileTeamSizes=s.mobileTeamSizes(),e.updateBasicInfoProgress=new r,e.loadBasicInfosProgress=new r,e.updateUserAccountPopup=new o,e.selectedStep,e.steps=[{title:function(){return"Great, just one more!<p>What is your company type?</p>"},skipAvailable:!0,skipSelected:function(){e.user.mobileTeamSize?a():e.selectedStep=e.steps[1]}},{title:function(){return"Great, just one more!<p>How big is your mobile dev team?</p>"},skipAvailable:!0,skipSelected:function(){a()}}],e.$on("$destroy",function(){c.resolve()}),e.init=function(t){2==t&&e.user.getMetadataWithKey("should_stop_asking_for_company_type_and_mobile_team_size",{timeout:c.promise}).then(function(e){e||l()},function(){})},e.updateBasicInfo=function(){e.updateBasicInfoProgress.start("Updating user data, wait a sec...");var t,n="/me/profile/basic_infos.json";switch(_.indexOf(e.steps,e.selectedStep)){case 0:t={company_type:e.user.companyType};break;case 1:t={mobile_team_size:e.user.mobileTeamSize}}i.post(n,t,{timeout:c.promise},"Failed to update user data").then(function(){switch(_.indexOf(e.steps,e.selectedStep)){case 0:e.steps[0].skipSelected();break;case 1:e.steps[1].skipSelected()}e.updateBasicInfoProgress.success()},function(t){e.updateBasicInfoProgress.error(t)})}}])}(),function(){"use strict";Bitrise.controller("UserEditController",["$scope","$rootScope","$q","routeService","$http","http","StyleGenerator","deviseService","Progress","PopupV4","App","User","Organization",function(e,t,n,i,r,o,s,a,l,c,u,d,h){function p(){e.editProfileFormData.username=e.user.username,e.editProfileFormData.email=e.user.email,e.editProfileFormData.password="",e.editProfileFormData.confirmPassword=""}function f(){e.loadBasicInfosProgress.start("Loading user information, wait a sec...");var t=i.userBasicInfoPath(e.user);o.get(t,{timeout:b.promise}).then(function(t){e.user.firstName=t.first_name,e.user.lastName=t.last_name,e.user.companyName=t.company_name,e.user.companyType=t.company_type,e.user.mobileTeamSize=t.mobile_team_size,e.editProfileFormData.firstName=e.user.firstName,e.editProfileFormData.lastName=e.user.lastName,e.editProfileFormData.companyName=e.user.companyName,e.editProfileFormData.companyType=e.user.companyType,e.editProfileFormData.mobileTeamSize=e.user.mobileTeamSize,e.loadBasicInfosProgress.success()},function(){e.loadBasicInfosProgress.error(new Error("Error loading user information, click here to try again"),f)})}function g(){e.loadAvailableStayReasonCategoriesProgress.start("Loading, wait a sec...");var t=i.availableStayReasonCategoriesPath(e.user);o.get(t,{timeout:b.promise}).then(function(t){S=t.available_stay_reason_categories,e.loadAvailableStayReasonCategoriesProgress.success()},function(){e.loadAvailableStayReasonCategoriesProgress.error(new Error("Error loading, click here to try again"),g)})}function m(){switch(e.reasonCategoryOfAccountDelete){case"Moving to competitor":return"competitor";case"Cost cutting":return"cost-cutting";default:return null}}function v(){var t={reason_category_of_account_delete:e.reasonCategoryOfAccountDelete,reason_of_account_delete:e.reasonOfAccountDelete};return n(function(e,n){r.post("/me/profile/send_account_delete_reason",t,{timeout:b.promise}).then(function(){e()},function(e){if(e){var t="Error cancelling account! Please try again";e.data.error_msg&&(t=e.data.error_msg),n(new Error(t))}})})}function y(){return r["delete"]("/users.json",{timeout:b.promise}).then(function(){window.location=""},function(t){if(t){var n="Error cancelling account! Please try again";t.data.error_msg&&(n=t.data.error_msg),e.deleteAccountProgress.error(new Error(n))}})}var b=n.defer(),w=n.defer(),C={on:{configureWithParameters:"ctrl::UserEditController::configureWithParameters"},emit:{updateStarted:"ctrl::UserEditController::updateStarted",updateFinishedWithSuccess:"ctrl::UserEditController::updateFinishedWithSuccess",updateFinishedWithError:"ctrl::UserEditController::updateFinishedWithError",cancelEditProfile:"ctrl::UserEditController::cancelEditProfile"}},A={email:{required:"email address not specified"},confirmPassword:{required:"you need to confirm your password"}};e.availableReasonsOfDeleting=["Moving to competitor","Project finished","Moving to another Bitrise user/organization account","Cost cutting","Product features","Technical issues","Bitrise UX or documentation","Other"],e.editProfileForm,e.editProfileFormData={username:undefined,email:undefined,password:"",confirmPassword:"",firstName:undefined,lastName:undefined,companyName:undefined,companyType:undefined,mobileTeamSize:undefined},e.user,e.currentPassword="";var S;e.loadBasicInfosProgress=new l,e.loadAvailableStayReasonCategoriesProgress=new l,e.companyTypes=d.companyTypes(),e.mobileTeamSizes=d.mobileTeamSizes(),e.updateProgress=new l,e.deleteAccountPopup=new c,e.confirmProfileModificationPopup=new c,e.deleteAccountPopup.afterAppearCallback=function(){S===undefined&&g(),e.loadOwnedApps(),e.loadSingleOwnerOrganizations()},e.deleteAccountPopup.afterDismissCallback=function(){w.resolve(),e.loadOwnedAppsProgress.reset(),e.reasonOfAccountDelete="",e.loadedOwnedApps=undefined},e.confirmProfileModificationPopup.afterDismissCallback=function(){e.currentPassword=""},e.loadOwnedAppsProgress=new l,e.loadedOwnedApps,e.loadSingleOwnerOrganizationsProgress=new l,e.singleOwnerOrganizations,e.ownedAppCount,e.reasonCategoryOfAccountDelete,e.reasonOfAccountDelete="",e.takeOfferProgress=new l,e.deleteAccountProgress=new l,e.init=function(){e.$on(C.on.configureWithParameters,function(t,n){n.user!==undefined&&(e.user=user),f()}),p()},e.$on("$destroy",function(){b.resolve(),w.resolve()}),e.updateSelected=function(){e.editProfileFormData.username!=e.user.username||e.editProfileFormData.email!=e.user.email||""!=e.editProfileFormData.password&&""!=e.editProfileFormData.confirmPassword?e.confirmProfileModificationPopup.isVisible=!0:e.update()},e.update=function(){if(!e.editProfileForm.$valid){var i=s.errorMessageForFormModel(e.editProfileForm,A,"User data invalid or not fully specified.");return void e.updateProgress.error(new Error(i))}e.$emit(C.emit.updateStarted),e.updateProgress.start("Updating user, wait a sec..."),n(function(t,n){if(e.editProfileFormData.username!=e.user.username||e.editProfileFormData.email!=e.user.email||""!=e.editProfileFormData.password&&""!=e.editProfileFormData.confirmPassword)a.updateUserWithData(e.user,{username:e.editProfileFormData.username,email:e.editProfileFormData.email,password:e.editProfileFormData.password,confirmPassword:e.editProfileFormData.confirmPassword,currentPassword:e.currentPassword,firstName:e.editProfileFormData.firstName,lastName:e.editProfileFormData.lastName,companyName:e.editProfileFormData.companyName,companyType:e.editProfileFormData.companyType,mobileTeamSize:e.editProfileFormData.mobileTeamSize},{timeout:b.promise}).then(t,n);else{var i={first_name:e.editProfileFormData.firstName,last_name:e.editProfileFormData.lastName,company_name:e.editProfileFormData.companyName,company_type:e.editProfileFormData.companyType,mobile_team_size:e.editProfileFormData.mobileTeamSize};o.post("/me/profile/basic_infos.json",i,{timeout:b.promise},"Failed to update user data").then(t,n)}}).then(function(){e.user.username!=e.editProfileFormData.username&&(e.user.username=e.editProfileFormData.username,t.$broadcast("ctrl::HeaderCtrl::updateUser")),e.updateProgress.success(),e.$emit(C.emit.updateFinishedWithSuccess,e.user.email!=e.editProfileFormData.email),f()},function(t){c.alertError("Update failed",t.message),e.updateProgress.reset(),e.$emit(C.emit.updateFinishedWithError,t.message)}),(e.editProfileFormData.username!=e.user.username||e.editProfileFormData.email!=e.user.email||""!=e.editProfileFormData.password&&""!=e.editProfileFormData.confirmPassword)&&(e.confirmProfileModificationPopup.isVisible=!1)},e.cancelEditProfile=function(){e.$emit(C.emit.cancelEditProfile)},e.loadOwnedApps=function(){w.resolve(),w=n.defer(),e.loadOwnedAppsProgress.start("Loading apps, wait a sec...");var t={user_role:"owner",only_direct:!0};r.get("/apps.json",{params:t,timeout:w.promise}).then(function(t){e.loadedOwnedApps=_.map(t.data.repositories,function(e){var t=new u;return t.slug=e.slug,t.title=e.title,t}),e.ownedAppCount=t.data.app_count,e.loadOwnedAppsProgress.success()},function(t){t&&e.loadOwnedAppsProgress.error(new Error("Woops... Error loading app list, click here to try again."),e.loadOwnedApps)})},e.loadSingleOwnerOrganizations=function(){e.loadSingleOwnerOrganizationsProgress.start("Loading organizations, wait a sec...");var t=i.userOrganizationsPath(e.user);o.get(t,{params:{only_single_owner:!0},timeout:b.promise}).then(function(t){e.singleOwnerOrganizations=_.map(t,function(e){var t=new h(e.slug);return t.name=e.name,t}),e.loadSingleOwnerOrganizationsProgress.success()},function(t){e.loadSingleOwnerOrganizationsProgress.error(t)})},e.deleteAccountOffer=function(){if(!_.contains(["Moving to competitor","Cost cutting"],e.reasonCategoryOfAccountDelete))return null;if(!_.contains(S,m()))return null;switch(e.reasonCategoryOfAccountDelete){case"Moving to competitor":return"<p>We\u2019d hate to lose you.</p><p><strong>Would $20 off for 3 months convince you to stay?</strong></p>";case"Cost cutting":return"<p>We understand that money can be tight at times, so we\u2019d love to help you out!</p><p><strong>Would $20 off for 6 months make a difference?</strong></p>"}},e.takeOffer=function(){e.takeOfferProgress.start("Wait a sec...");var n=i.stayWithLeaveReasonCategoryPath(e.user),r={reason_category:m()};o.post(n,r).then(function(){e.takeOfferProgress.success(),e.deleteAccountPopup.isVisible=!1,t.$emit("UserSettingsController::menuSelected","billing")},function(t){e.takeOfferProgress.error(t)})},e.deleteAccountConfirmed=function(){e.deleteAccountProgress.start("Cancelling account, wait a sec..."),v().then(function(){y()},function(){y()})}}])}(),function(){"use strict";Bitrise.controller("UserNotificationsController",["$scope","$q","$http","Progress",function(e,t,n,i){function r(){e.loadNotificationPreferencesProgress.start("Loading notification preferences, wait a sec..."),n.get("/me/profile/notification_preferences",{timeout:l.promise}).then(function(t){s=t.data.is_send_newsletter,a=t.data.is_send_platform_updates,e.loadNotificationPreferencesProgress.success()},function(t){if(t){var n="Failed to load notification preferences";t.data.error_msg&&(n=t.data.error_msg),e.loadNotificationPreferencesProgress.error(new Error(n))}})}function o(t,i){e.updateNotificationPreferencesProgress.start("Updating notification preferences, wait a sec...");var r={};null!==t&&(r.is_send_newsletter=t),null!==i&&(r.is_send_platform_updates=i),n.post("/me/profile/notification_preferences",r,{timeout:l.promise}).then(function(){e.updateNotificationPreferencesProgress.success(),null!==t&&(s=t),null!==i&&(a=i)},function(t){if(t){var n="Failed to update notification preferences";t.data.error_msg&&(n=t.data.error_msg),e.updateNotificationPreferencesProgress.error(new Error(n))}})}var s,a,l=t.defer();e.loadNotificationPreferencesProgress=new i,e.updateNotificationPreferencesProgress=new i,e.init=function(){r()},e.$on("$destroy",function(){l.resolve()}),e.shouldReceiveNewsletterEmailsGetterSetter=function(e){return e!==undefined&&o(e,null),s},e.shouldReceivePlatformUpdateEmailsGetterSetter=function(e){return e!==undefined&&o(null,e),a}}])}(),function(){"use strict";Bitrise.controller("UserReferralsController",["$scope","$q","http","accountService","routeService","Progress","PopupV4","User",function(e,t,n,i,r,o,s,a){function l(){c.loadProgress.isInProgress||c.loadProgress.start("Loading refer data, wait a sec..");var e=r.userReferralsPath(c.user);n.get(e,{timeout:u.promise},"Failed to load refer data.").then(function(e){c.referredUserDataMaps=_.map(e.user_datas,function(e){return{user:new a(e.username),hasAddedAnApp:e.has_added_an_app,hasGreenBuild:e.has_green_build,shouldShowStatuses:!1}}),c.referredUserDataMaps&&(c.referralBonusMinutesCount=5*_.filter(c.referredUserDataMaps,{hasGreenBuild:!0}).length),c.loadProgress.success()},function(e){c.loadProgress.error(e,l)})}var c=this,u=t.defer();c.user,c.referringURL,c.referredUserDataMaps,c.referralBonusMinutesCount=0,c.referralPrizes=[{value:"15",unit:"min/build",referralsCount:1,cssClass:"heart-count-1"},{value:"20",unit:"min/build",referralsCount:2,cssClass:"heart-count-2"},{value:"25",unit:"min/build",referralsCount:3,cssClass:"heart-count-3"},{value:"30",unit:"min/build",referralsCount:4,cssClass:"heart-count-4"},{value:"+",unit:"Bitrise t-shirt",referralsCount:5,cssClass:"t-shirt"}],c.loadProgress=new o,e.$on("$destroy",function(){u.resolve()}),c.init=function(){c.loadProgress.start("Loading refer data, wait a sec..")},e.$watch(function(){return i.account},function(e){e!==undefined&&(c.user=e,c.referringURL="https://www.bitrise.io?referrer="+c.user.slug,l())})}])}(),function(){"use strict";Bitrise.controller("UserSecurityEditController",["$scope","$q","http","routeService","Progress","PopupV4",function(e,t,n,i,r,o){function s(){e.loadTwoFactorAuthenticationSettingsProgress.start("Loading two-factor authentication settings, wait a sec...");var t=i.securityPartialPath(e.account)+"/two_factor_auth.json";n.get(t,{timeout:m.promise},"Error loading two-factor authentication settings!").then(function(t){e.isEnabledTwoFactorAuthentication=t.should_enabled,e.loadTwoFactorAuthenticationSettingsProgress.success()},function(t){e.loadTwoFactorAuthenticationSettingsProgress.error(t)})}function a(){e.loadTwoFactorAuthenticationConfigsProgress.start("Enabling two-factor authentication settings, wait a sec...");var t=i.securityPartialPath(e.account)+"/two_factor_auth.json";n.post(t,undefined,{timeout:m.promise},"Error enabling two-factor authentication settings!").then(function(t){e.qrCode=encodeURIComponent(t.qr_code),e.twoFactorAuthManualConfig.account2FASecret=t.account_2fa_secret,e.twoFactorAuthManualConfig.account=t.account,e.twoFactorAuthManualConfig.issuer=t.issuer,e.loadTwoFactorAuthenticationConfigsProgress.success()},function(t){e.loadTwoFactorAuthenticationConfigsProgress.error(t)})}function l(){e.saveTwoFactorAuthenticationSettingsProgress.start("Disabling two-factor authentication settings, wait a sec...");var t=i.securityPartialPath(e.account)+"/two_factor_auth.json";n["delete"](t,undefined,{timeout:m.promise},"Error disabling two-factor authentication settings!").then(function(){e.isEnabledTwoFactorAuthentication=!1,e.saveTwoFactorAuthenticationSettingsProgress.success()},function(t){e.saveTwoFactorAuthenticationSettingsProgress.error(t)})}function c(){e.loadBackupCodesProgress.start("Loading recovery codes, wait a sec...");var t=i.securityPartialPath(e.account)+"/backup_codes.json";n.post(t,undefined,{timeout:m.promise},"Error loading recovery codes!").then(function(t){e.backupCodes=t.backup_codes;var n="";_.each(e.backupCodes,function(t,i){return n+=t+(i!=e.backupCodes.length-1?"\r\n":"")});var i=new Blob([n],{type:"text/plain"});e.recoveryCodesDownloadURL=(window.URL||window.webkitURL).createObjectURL(i),e.loadBackupCodesProgress.success()},function(t){e.loadBackupCodesProgress.error(t)})}function u(){e.verifyGeneratedCodeFromScannedQRCodeProgress.start("Saving two-factor authentication settings, wait a sec...");var t=i.securityPartialPath(e.account)+"/qr_code.json",r={code:e.generatedCodeFormData.generatedCodeFromScannedQRCode};n.post(t,r,{timeout:m.promise},"Error saving two-factor authentication settings!").then(function(){c(),e.selectedStep=e.steps[1],e.verifyGeneratedCodeFromScannedQRCodeProgress.success()},function(t){e.verifyGeneratedCodeFromScannedQRCodeProgress.error(t)})}function d(){e.activateTwoFactorAuthenticationSettingsProgress.start("Activating two-factor authentication, wait a sec...");var t=i.securityPartialPath(e.account)+"/activate_two_factor_auth.json";n.post(t,undefined,{timeout:m.promise},"Error activating two-factor authentication!").then(function(){e.isEnabledTwoFactorAuthentication=!0,e.activateTwoFactorAuthenticationSettingsProgress.success()},function(t){e.activateTwoFactorAuthenticationSettingsProgress.error(t)})}function h(){e.loadPersonalAccessTokenProgress.start("Loading Personal access tokens, wait a sec...");var t=i.accessTokensPath(e.account);n.get(t,undefined,{timeout:m.promise},"Error loading personal access token!").then(function(t){e.accessTokens=t,e.loadPersonalAccessTokenProgress.success()},function(t){e.loadPersonalAccessTokenProgress.error(t)})}function p(){e.generateAndSavePersonalAccessTokenProgress.start("Saving Personal access token, wait a sec...");var t=i.accessTokensPath(e.account),r={description:e.newAccessTokenDescription};n.post(t,r,{timeout:m.promise},"Error saving Personal access token!").then(function(t){e.newPersonalAccessToken=t.token,e.generateAndSavePersonalAccessTokenProgress.success()},function(t){e.generateAndSavePersonalAccessTokenProgress.error(t)})}function f(){e.generateAndSavePersonalAccessTokenProgress.start("Updating Personal access token, wait a sec...");var t=i.personalAccessTokensPath(e.account,e.editedAccessToken.slug),r={description:e.newAccessTokenDescription};n.patch(t,r,{timeout:m.promise},"Error updating Personal access token!").then(function(){h(),e.generateAndSavePersonalAccessTokenProgress.success(),e.toggleGenerateNewPersonalAccessTokensPopupVisibility()},function(t){e.generateAndSavePersonalAccessTokenProgress.error(t)})}function g(t){e.deletePersonalAccessTokenProgress.start("Deleting Personal access token, wait a sec...");var r=i.personalAccessTokensPath(e.account,t);n["delete"](r,undefined,{timeout:m.promise},"Error deleting Personal access token!").then(function(){h(),e.deletePersonalAccessTokenProgress.success()},function(t){e.deletePersonalAccessTokenProgress.error(t)})}var m=t.defer();e.account=i.getAccountFromCurrentPath(),e.qrCode,e.twoFactorAuthManualConfig={account:"",account2FASecret:"",issuer:""},e.backupCodes,e.generatedCodeFormData={generatedCodeFromScannedQRCode:undefined},e.accessTokens,e.editedAccessToken,e.newPersonalAccessToken,e.newAccessTokenDescription,e.recoveryCodesDownloadURL,e.isBackupCodesInSafePlace=!1,e.isUserRegeneratedRecoveryCodes=!1,e.recoveryCodesCopied=!1,e.isVisibleCannotScanInfo=!1,e.isEnabledTwoFactorAuthentication=!1,e.isEnabledPersonalAccesssTokens=!1,e.loadBackupCodesProgress=new r,e.activateTwoFactorAuthenticationSettingsProgress=new r,e.verifyGeneratedCodeFromScannedQRCodeProgress=new r,e.loadTwoFactorAuthenticationSettingsProgress=new r,e.saveTwoFactorAuthenticationSettingsProgress=new r,e.loadTwoFactorAuthenticationConfigsProgress=new r,e.loadPersonalAccessTokenProgress=new r,e.generateAndSavePersonalAccessTokenProgress=new r,e.regenerateAndSavePersonalAccessTokenProgress=new r,e.deletePersonalAccessTokenProgress=new r,e.enableTwoFactorAuthenticationPopup=new o,e.enableTwoFactorAuthenticationPopup.afterDismissCallback=function(){e.isUserRegeneratedRecoveryCodes||e.isBackupCodesInSafePlace||l(),
e.qrCode='<?xml version="1.0" standalone="yes"?><svg width="1" height="1" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><rect x="0" y="0" width="1" height="1" style="fill:#fff"/></svg>',e.generatedCodeFormData.generatedCodeFromScannedQRCode=undefined,e.recoveryCodesCopied=!1,e.isBackupCodesInSafePlace=!1,e.isUserRegeneratedRecoveryCodes=!1,e.loadBackupCodesProgress.reset(),e.verifyGeneratedCodeFromScannedQRCodeProgress.reset(),e.loadTwoFactorAuthenticationSettingsProgress.reset(),e.saveTwoFactorAuthenticationSettingsProgress.reset(),s()},e.generateNewPersonalAccessTokensPopup=new o,e.generateNewPersonalAccessTokensPopup.afterDismissCallback=function(){e.editedAccessToken=undefined,e.newPersonalAccessToken=undefined,e.newAccessTokenDescription=undefined,e.loadPersonalAccessTokenProgress.isError&&e.loadPersonalAccessTokenProgress.reset(),e.deletePersonalAccessTokenProgress.isError&&e.deletePersonalAccessTokenProgress.reset(),e.generateAndSavePersonalAccessTokenProgress.isError&&e.generateAndSavePersonalAccessTokenProgress.reset(),e.regenerateAndSavePersonalAccessTokenProgress.isError&&e.regenerateAndSavePersonalAccessTokenProgress.reset(),h()},e.selectedStep,e.steps=[{title:function(){return"1. Scan this barcode"},sidenote:function(){return"Download the free <a href='https://support.google.com/accounts/answer/1066447?hl=en'>Google Authenticator</a> app on your mobile device, click add and then scan this QR code to set up your account:"},skipAvailable:!0,skipSelected:function(){e.enableTwoFactorAuthenticationPopup.isVisible=!1},continueSelected:function(){u()}},{title:function(){return"2. Save your two-factor recovery codes"},sidenote:function(){return"Recovery codes are used to access your account when you cannot recive your authentication codes."},skipAvailable:!1,continueSelected:function(){e.isUserRegeneratedRecoveryCodes||d(),e.enableTwoFactorAuthenticationPopup.isVisible=!1}}],e.$on("$destroy",function(){m.resolve()}),e.init=function(){s(),h()},e.shouldEnableTwoFactorAuthentication=function(t){t?(e.selectedStep=e.steps[0],e.enableTwoFactorAuthenticationPopup.isVisible=!0,a()):o.confirm("Are you sure you want to disable two-factor authentication?",undefined,undefined,undefined,!0,"error").then(function(){l()},function(){})},e.regenerateRecoveryCodes=function(){o.confirm("Are you sure you want to generate new recovery codes?","When you generate new recovery codes, you must download or copy the new codes. <p><b>Your old codes won't work anymore.</b></p>",undefined,undefined,!0,"error").then(function(){e.selectedStep=e.steps[1],e.isUserRegeneratedRecoveryCodes=!0,e.enableTwoFactorAuthenticationPopup.isVisible=!0,c()},function(){})},e.toggleGenerateNewPersonalAccessTokensPopupVisibility=function(t){t&&(e.editedAccessToken=t,e.newAccessTokenDescription=t.description),e.generateNewPersonalAccessTokensPopup.isVisible=!e.generateNewPersonalAccessTokensPopup.isVisible},e.generateOrUpdatePersonalAccessToken=function(){if(e.editedAccessToken&&e.editedAccessToken.description==e.newAccessTokenDescription)return void(e.generateNewPersonalAccessTokensPopup.isVisible=!1);e.editedAccessToken?f():p()},e.regeneratePersonalAccessToken=function(){e.generateAndSavePersonalAccessTokenProgress.start("Regenerating Personal access token, wait a sec...");var t=i.regeneratePersonalAccessTokenPath(e.account,e.editedAccessToken.slug);n.patch(t,undefined,{timeout:m.promise},"Error regenerating Personal access token!").then(function(t){e.newPersonalAccessToken=t.token,h(),e.generateAndSavePersonalAccessTokenProgress.success()},function(t){e.generateAndSavePersonalAccessTokenProgress.error(t)})},e.deletePersonalAccessTokenSelected=function(e){o.confirm("Are you sure you want to delete this token?","Any applications or scripts using this token will no longer be able to access the Bitrise API. You cannot undo this action.",undefined,undefined,!0,"error").then(function(){g(e)},function(){})}}])}(),function(){"use strict";Bitrise.controller("UserSettingsController",["$scope","$rootScope","$location","$http","$timeout","http","accountService","routeService","osService","StyleGenerator","DateService","accountSelectorService","Progress","PopupV4","User","Plan","Organization",function(e,t,n,i,r,o,s,a,l,c,u,d,h,p,f,g,m){function v(t){e.selectedPartial!=t&&(e.partialLoaderProgress.start("Loading, wait a sec..."),n.path(t.anchorURL),e.isSidebarOpenOnSmallScreenSize=!1,e.selectedPartial=t,window.scrollTo(0,0))}function y(){e.$broadcast("ctrl::UserEditController::configureWithParameters",e.user),e.$on("ctrl::UserEditController::updateStarted",function(){e.loadUserDataProgress.start("Updating user, wait a sec...")}),e.$on("ctrl::UserEditController::updateFinishedWithSuccess",function(t,n){e.loadUserDataProgress.success("User update successful!"+(n?" A confirmation link has been sent to your new email. You must confirm your changes before your email changes.":""))}),e.$on("ctrl::UserEditController::updateFinishedWithError",function(){e.loadUserDataProgress.error(new Error("Error updating user."))}),e.$on("ctrl::UserEditController::cancelEditProfile",function(){e.menuSelected(_.first(e.menus))})}function b(){e.loadUserDataProgress.start("Loading, wait a sec..."),i.get("/me/profile.json").then(function(t){e.user.slug=t.data.slug,e.user.username=t.data.username,e.user.email=t.data.email,e.user.unconfirmedEmail=t.data.unconfirmed_email,e.user.avatarURL=t.data.gravatar_url,s.account=e.user,t.data.still_active_higher_plan?(e.user.currentPlan=new g,e.user.currentPlan.configureWithId(t.data.still_active_higher_plan.id),e.user.currentPlan.name=t.data.still_active_higher_plan.name,e.user.currentPlan.basicPrice=t.data.still_active_higher_plan.price,e.user.currentPlan.expiresAt=u.dateFromString(t.data.still_active_higher_plan.expires_at),t.data.still_active_higher_plan.container_count&&(e.user.currentPlan.containerCount=t.data.still_active_higher_plan.container_count),e.user.pendingPlan=new g,e.user.pendingPlan.configureWithId(t.data.pending_lower_plan.id),e.user.pendingPlan.basicPrice=t.data.pending_lower_plan.price,t.data.pending_lower_plan.container_count&&(e.user.pendingPlan.containerCount=t.data.pending_lower_plan.container_count)):(e.user.currentPlan=new g,e.user.currentPlan.configureWithId(t.data.active_plan.id),e.user.currentPlan.name=t.data.active_plan.name,e.user.currentPlan.basicPrice=t.data.active_plan.price,e.user.currentPlan.expiresAt=u.dateFromString(t.data.active_plan.expires_at)),"concrete-hobby"!=e.user.currentPlan.id&&(e.menus=_.without(e.menus,_.find(e.menus,{id:"referrals"}))),e.loadUserDataProgress.shouldHandleSuccessAsSeparateState=!1,e.loadUserDataProgress.success(),e.loadUserDataProgress.shouldHandleSuccessAsSeparateState=!0,x&&(x=!1,e.createOrganizationSelected())},function(){e.loadUserDataProgress.error(new Error("Error loading user info."))})}function w(){e.user.organizations=undefined,e.loadOrganizationsProgress.start("Loading organizations, wait a sec..."),o.get("/me/profile/organizations.json",undefined,undefined,"Error loading Organizations.").then(function(t){e.user.organizations=_.map(t,function(t){var n=new m(t.slug);return n.name=t.name,n.avatarURL=t.avatar_url,n.members=_.times(t.member_count-1,function(){return new f}),n.members.push(e.user),n}),e.loadOrganizationsProgress.success()},function(t){e.loadOrganizationsProgress.error(t)})}function C(){e.serviceConnectionProgress.start("Loading service connection statuses, wait a sec..."),i.get("/me/identities").then(function(t){e.services.github.isConnected=t.data.github.is_connected,e.services.github.isError=t.data.github.is_error,e.services.github.accountURL=t.data.github.account_url,e.services.bitbucket.isConnected=t.data.bitbucket.is_connected,e.services.bitbucket.isError=t.data.bitbucket.is_error,e.services.bitbucket.accountURL=t.data.bitbucket.account_url,e.services.gitlab.isConnected=t.data.gitlab.is_connected,e.services.gitlab.isError=t.data.gitlab.is_error,e.services.gitlab.accountURL=t.data.gitlab.account_url,e.services.xamarin.isConnected=t.data.xamarin.is_connected,e.services.xamarin.isError=t.data.xamarin.is_error,e.services.xamarin.accountURL=t.data.xamarin.account_url,e.serviceConnectionErrors=_.map(_.pick(e.services,function(e){return e.isConnected&&e.isError}),function(e,t){switch(t){case"github":return new Error("There is an error with your GitHub account (e. g. you may have revoked Bitrise's access to it). Please disconnect it and connect it again.");case"bitbucket":return new Error("There is an error with your Bitbucket account (e. g. you may have revoked Bitrise's access to it). Please disconnect it and connect it again.");case"gitlab":return new Error("There is an error with your Gitlab account (e. g. you may have revoked Bitrise's access to it). Please disconnect it and connect it again.")}}),e.serviceConnectionProgress.success()},function(t){e.serviceConnectionProgress.error(new Error(t.data.error_msg))})}function A(t,n){if(n!==undefined)if(n)switch(t){case e.services.xamarin:e.xamarinConnectionPopup.isVisible=!0;break;default:e.connectService(t)}else S(t);return t.isConnected}function S(t){e.serviceConnectionProgress.start("Disconnecting service, wait a sec...");var n="/me/identities/"+t.id;i["delete"](n).then(function(){t.isConnected=!1,t.isError=!1,e.serviceConnectionProgress.success(),C()},function(t){e.serviceConnectionProgress.error(new Error(t.data.error_msg))})}var $={username:{required:"username not specified"},password:{required:"password not specified"}},x=!1;e.osService=l,e.user=new f,e.isSidebarOpenOnSmallScreenSize=!1,e.menus=[{id:"overview",name:"Overview",partialURL:"/me/profile/partial_overview",anchorURL:"/overview",cssClass:"overview"},{id:"security",name:"Security",partialURL:"/me/profile/security",anchorURL:"/security",cssClass:"security"},{id:"billing",name:"Billing",partialURL:"/me/profile/partial_billing",anchorURL:"/"+a.billingAnchor(),cssClass:"billing"},{id:"test-devices",name:"Test devices",partialURL:"/me/profile/partial_test_devices",anchorURL:"/test_devices",cssClass:"test-devices"},{id:"notifications",name:"Notifications",partialURL:"/me/profile/partial_account_notifications",anchorURL:"/notifications",cssClass:"notifications"},{id:"referrals",name:"Referrals",partialURL:"/me/profile/partial_referrals",anchorURL:"/referrals",cssClass:"referrals"}],e.selectedMenu;var k=_.map(e.menus,function(e){return{id:e.id,url:e.partialURL,anchorURL:e.anchorURL}}).concat([{id:"edit-profile",url:"/me/profile/partial_edit_profile",anchorURL:"/edit_profile",onLoadCallback:y}]);e.selectedPartial,e.services={github:{id:"github",isConnected:undefined,isError:undefined,accountURL:undefined,connect:undefined},bitbucket:{id:"bitbucket",isConnected:undefined,isError:undefined,accountURL:undefined,connect:undefined},gitlab:{id:"gitlab",isConnected:undefined,isError:undefined,accountURL:undefined,connect:undefined},xamarin:{id:"xamarin",isConnected:undefined,isError:undefined,accountURL:undefined,connect:function(){if(!e.xamarinConnectionForm.$valid){var t=c.errorMessageForFormModel(e.xamarinConnectionForm,$,"Xamarin account data not fully specified.");return void e.serviceConnectionProgress.error(new Error(t))}var n={username:e.xamarinConnectionFormData.username,password:e.xamarinConnectionFormData.password};i.post("/me/profile/authenticate_xamarin",n).then(function(t){t.data.success?(e.services.xamarin.isConnected=!0,e.xamarinConnectionPopup.isVisible=!1,e.serviceConnectionProgress.success(),C()):e.serviceConnectionProgress.error(new Error(t.data.message))},function(t){e.serviceConnectionProgress.error(new Error(t.data.error_msg))})}}},e.serviceConnectionErrors,e.partialLoaderProgress=new h,e.loadUserDataProgress=new h(!0),e.loadOrganizationsProgress=new h,e.serviceConnectionProgress=new h,e.xamarinConnectionPopup=new p,e.xamarinConnectionPopup.afterDismissCallback=function(){e.xamarinConnectionFormData.username="",e.xamarinConnectionFormData.password=""},e.xamarinConnectionForm,e.xamarinConnectionFormData={username:"",password:""},e.init=function(){e.$on("ctrl::CreateOrganizationController::organizationCreated",function(){w()}),b(),C(),w(),n.path()=="/"+a.createOrganizationAnchor()&&(x=!0,n.path(""));var t=_.find(e.menus,function(e){return e.anchorURL==n.path()});t||(t=_.first(e.menus)),e.menuSelected(t)},e.menuSelected=function(e){v(_.find(k,function(t){return t.id==e.id}))},t.$on("UserSettingsController::menuSelected",function(t,n){var i=_.find(e.menus,{id:n});e.menuSelected(i)}),e.editProfileSelected=function(){v(_.find(k,function(e){return"edit-profile"==e.id}))},e.switchProfileSelected=function(){d.showWithParameters({selectCallback:function(e){window.location=a.settingsPath(e)}})},e.connectService=function(t){e.serviceConnectionProgress.start("Connecting service, wait a sec..."),t.connect()},e.isGithubConnectedGetterSetter=function(t){return A(e.services.github,t)},e.isBitbucketConnectedGetterSetter=function(t){return A(e.services.bitbucket,t)},e.isGitlabConnectedGetterSetter=function(t){return A(e.services.gitlab,t)},e.isXamarinConnectedGetterSetter=function(t){return A(e.services.xamarin,t)},e.createOrganizationSelected=function(){e.$broadcast("ctrl::CreateOrganizationController::createOrganizationSelected")},e.$on("$locationChangeSuccess",function(){n.path()=="/"+a.createOrganizationAnchor()&&(n.path(""),e.createOrganizationSelected())})}]).directive("clickOnCtrlK",["$document","$parse",function(e){return{restrict:"A",link:function(t,n){function i(e){(e.ctrlKey||e.metaKey)&&75==e.keyCode&&(e.preventDefault(),n[0].click())}e.bind("keydown",i),t.$on("$destroy",function(){e.unbind("keydown",i)})}}}])}(),function(){"use strict";Bitrise.controller("UserTestDevicesController",["$scope","$q","$http","http","routeService","cookieService","PopupV4","Progress","Device",function(e,t,n,i,r,o,s,a,l){function c(){e.loadDevicesProgress.start("Loading test devices, wait a sec..."),n.get("/me/profile/partial_test_devices.json",{timeout:u.promise}).then(function(t){e.currentDevice=undefined,e.testDevices=_.map(t.data.test_devices,function(n){var i=new l(!0);return i.databaseId=n.id,i.deviceId=n.device_identifier,i.name=n.title,t.data.current_device_identifier==n.device_identifier&&(e.currentDevice=i),i}),e.currentDevice||(e.currentDevice=new l(!1)),e.isMobileSafari=t.data.is_current_request_from_mobile_safari,e.loadDevicesProgress.success()},function(){e.loadDevicesProgress.error(new Error("Error loading devices, click here to try again."),c)})}var u=t.defer(),d=t.defer(),h={on:{configureWithParameters:"ctrl::UserTestDevicesController::configureWithParameters"}};e.user,e.loadDevicesProgress=new a,e.testDevices,e.currentDevice,e.isMobileSafari,e.deleteDeviceProgress=new a(!0),e.registerDeviceProgress=new a(!0),e.clearCurrentDeviceInfoProgress=new a,e.manualDeviceRegisterPopup=new s,e.manualDeviceRegisterPopup.afterDismissCallback=function(){e.manualDeviceRegisterFormData.name="",e.manualDeviceRegisterFormData.deviceId="",d.resolve()},e.manualDeviceRegisterProgress=new a,e.manualDeviceRegisterForm,e.manualDeviceRegisterFormData={name:"",deviceId:""},e.init=function(){e.$on(h.on.configureWithParameters,function(t,n){n.user!==undefined&&(e.user=n.user)}),c()},e.$on("$destroy",function(){u.resolve(),d.resolve()}),e.deleteDevice=function(t){e.registerDeviceProgress.reset(),e.deleteDeviceProgress.start("Deleting device, wait a sec..."),t["delete"]({timeout:u.promise}).then(function(){e.deleteDeviceProgress.success("Device successfully deleted"),c()},function(t){e.deleteDeviceProgress.error(t)})},e.registerDevice=function(t){e.deleteDeviceProgress.reset(),e.registerDeviceProgress.start("Registering device, wait a sec..."),t.register({timeout:u.promise}).then(function(){e.registerDeviceProgress.success("Device successfully registered"),c()},function(t){e.registerDeviceProgress.error(t)})},e.manuallyRegisterDevice=function(){d.resolve(),d=t.defer(),e.manualDeviceRegisterProgress.start("Registering device, wait a sec...");var n=new l(!1);n.deviceId=e.manualDeviceRegisterFormData.deviceId,n.name=e.manualDeviceRegisterFormData.name,n.register({timeout:d.promise}).then(function(){e.manualDeviceRegisterProgress.success(),e.deleteDeviceProgress.reset(),e.registerDeviceProgress.success("Device successfully registered"),e.manualDeviceRegisterPopup.isVisible=!1,c()},function(t){e.manualDeviceRegisterProgress.error(t)})},e.clearCurrentDeviceInfo=function(){e.clearCurrentDeviceInfoProgress.start("Wait a sec...");var t=r.clearDeviceInfoPath(e.user);i["delete"](t,{timeout:u.promise}).then(function(){o.remove("device_info"),location.reload()},function(t){e.clearCurrentDeviceInfoProgress.error(t)})}}])}(),function(){"use strict";Bitrise.controller("WorkflowWizardCtrl",["$scope","$http","routeService","PopupV3","PopupV4","BitriseSteplibV3","Step","Build","Progress","UIHelper","workflowEditorService",function(e,t,n,i,r,o,s,a,l,c,u){function d(){e.loadBitriseSteplibProgress.start("Loading Bitrise Steplib, wait a sec..."),o.fetchData().then(function(){_.each(e.serviceStepSelectionTodos,function(t){"serviceStepSelection"==t.type&&(t.steps=[],_.each(o.latestSteps,function(n){"xcode-archive"==n.id&&-1!==e.availableProjectTypeTags.indexOf("ios")&&_.isUndefined(y)&&(y=n),n.projectTypeTags&&0==_.intersection(e.availableProjectTypeTags,n.projectTypeTags).length||_.contains(n.typeTags,t.stepTypeTag)&&_.isNull(n.deprecatedAt)&&t.steps.push(n)}))}),e.loadBitriseSteplibProgress.success()},function(){e.loadBitriseSteplibProgress.error(new Error("Error loading Bitrise Steplib, click here to try again."),d)})}function h(){return 1==e.triggerSpecificationTodo.workflowIds.length?e.triggerSpecificationTodo.workflowIds[0]:_.contains(e.triggerSpecificationTodo.workflowIds,"primary")?"primary":void 0}function p(){e.saveWorkflowProgress.start("Saving Workflow, wait a sec...");var n="/app/"+g+"/workflow/wizard.json",i={cloned_workflow_id:e.triggerSpecificationTodo.clonedWorkflowId,branch:e.triggerSpecificationTodo.branch};_.each(e.serviceStepSelectionTodos,function(e){e.selectedStep&&(i[e.id]={},i[e.id][e.selectedStep.id+"@"+e.selectedStep.actualVersion]=e.selectedStep.strippedDataHash(o.defaultDataHashForStep(e.selectedStep)))}),_.isUndefined(y)||(i.archive={},i.archive[y.id+"@"+y.actualVersion]=y.strippedDataHash(o.defaultDataHashForStep(y))),t.post(n,i).then(function(){e.saveWorkflowProgress.success()},function(){e.saveWorkflowProgress.error(new Error("Error saving Workflow, click here to try again."),p)})}function f(){e.activeTodo=e.todos[0],e.triggerSpecificationTodo.branch="develop",e.triggerSpecificationTodo.clonedWorkflowId=h(),e.triggerSpecificationTodo.isComplete=!1,e.codeSigningTodo.isComplete=!1,e.isFileUploadViewActive=!1,_.each(e.serviceStepSelectionTodos,function(e){_.each(e.steps,function(e){e.resetToSaved()}),e.selectedStep=null,e.isComplete=!1})}var g,m,v,y,b=400;e.workflowIds=null,e.todos=[{id:"kickoff",title:"Kickoff",isComplete:!1},{id:"triggerSpecificationTodo",title:"Branch",isComplete:!1,branch:"develop",workflowIds:[],clonedWorkflowId:null},{id:"deploy",title:"Deploy",isComplete:!1,type:"serviceStepSelection",stepTypeTag:"deploy",useText:"deployment",steps:[],selectedStep:null},{id:"codesigning",title:"Code Signing",isComplete:!1},{id:"ready",title:"Ready"}],e.kickoffTodo=_.find(e.todos,function(e){return"kickoff"==e.id}),e.triggerSpecificationTodo=_.find(e.todos,function(e){return"triggerSpecificationTodo"==e.id}),e.serviceStepSelectionTodos=_.filter(e.todos,function(e){return"serviceStepSelection"==e.type}),e.codeSigningTodo=_.find(e.todos,function(e){return"codesigning"==e.id}),e.readyTodo=_.find(e.todos,function(e){return"ready"==e.id}),e.isCodeSigningAvailable,e.hasBuildCert=!1,e.hasProvProfileDocument=!1,e.isFileUploadViewActive=!1,e.availableProjectTypeTags=null,e.activeTodo=null,e.abortPopup=new i("popup-abort-workflow-wizard",e),e.loadBitriseSteplibProgress=new l,e.saveWorkflowProgress=new l,e.tryAgainProgress=new l,e.buildConfigProgress=new l,e.codeSigningBashCommand='bash -l -c "$(curl -sfL https://raw.githubusercontent.com/bitrise-tools/codesigndoc/master/_scripts/install_wrap.sh)"',e.init=function(t,n,i,r,o){if(g=t,m=n,v=o,e.triggerSpecificationTodo.workflowIds=i,e.triggerSpecificationTodo.clonedWorkflowId=h(),e.triggerSpecificationTodo.clonedWorkflowId||(e.triggerSpecificationTodo.title="Branch & Workflow"),e.availableProjectTypeTags=r,e.isCodeSigningAvailable=-1!==e.availableProjectTypeTags.indexOf("ios")||-1!==e.availableProjectTypeTags.indexOf("xamarin"),!e.isCodeSigningAvailable){var s=e.todos.indexOf(e.codeSigningTodo);e.todos.splice(s,1)}e.activeTodo=_.first(e.todos),e.$on("ProvProfileDocumentUploadCtrl::provProfileDocumentsLoaded",function(t,n){e.hasProvProfileDocument=n.length>0,e.hasProvProfileDocument&&(e.isFileUploadViewActive=!0)}),e.$on("BuildCertificateUploadCtrl::buildCertLoaded",function(t,n){e.hasBuildCert=null!=n,e.hasBuildCert&&(e.isFileUploadViewActive=!0)}),d()},e.todoSkipped=function(t){e.stepSelectedForTodo(null,t)},e.stepSelectedForTodo=function(t,n){n.selectedStep=t,n.isComplete=null==t||0==e.emptyRequiredChangeableInputs(t.inputs).length,n.isComplete&&e.todoCompleted(n)},e.emptyRequiredChangeableInputs=function(e){return _.filter(e,function(e){return e.isRequired&&!e.isDontChangeValue&&""==e.savedState.value})},e.checkWorkflowID=function(t){if(_.contains(e.triggerSpecificationTodo.workflowIds,t))return void r.confirm(undefined,"Are you sure you want to overwrite <b>"+e.triggerSpecificationTodo.branch+"</b> workflow?").then(function(){e.todoCompleted(e.triggerSpecificationTodo)});e.todoCompleted(e.triggerSpecificationTodo)},e.checkTodoSelectedStepInputs=function(t){_.every(_.filter(t.selectedStep.inputs,function(e){return e.isRequired&&!e.isDontChangeValue}),function(e){return!_.isEmpty(e.value)})?e.todoCompleted(t):r.alertError("Please fill in all the required fields to proceed.")},e.todoCompleted=function(t){var n=_.indexOf(e.todos,t)+1;t.isComplete=!0,e.activeTodo=e.todos[n],c.scrollToTopOfElementRelativeToElement($("section.todo")[n],$(".page-workflow_wizard")[0],500,!0,b),e.isCodeSigningAvailable&&!e.codeSigningTodo.isComplete||_.every(e.serviceStepSelectionTodos,function(e){return e.isComplete})&&p()},e.tryAgain=function(){e.tryAgainProgress.start("Clearing previously selected settings, wait a sec...");var n="/app/"+g+"/workflow/wizard.json",i={cloned_workflow_id:e.triggerSpecificationTodo.clonedWorkflowId,branch:e.triggerSpecificationTodo.branch};t["delete"](n,{params:i}).then(function(){e.tryAgainProgress.success(),f(),c.scrollToTopOfElementRelativeToElement($("header.todos")[0],$(".page-workflow_wizard")[0],null,!0,b)},function(){e.tryAgainProgress.error(new Error("Error while clearing previously selected settings."))})},e.startBuild=function(){e.buildConfigProgress.start("Preparing Build, please wait...");var t={branch:e.triggerSpecificationTodo.branch,workflow_id:e.triggerSpecificationTodo.clonedWorkflowId};a.startNewBuild(g,m,t).then(function(e){window.location=n.buildDetailsPath(new a(e))},function(t){e.buildConfigProgress.error(new Error("Failed to start Build: "+t.message))},function(t){e.buildConfigProgress.error(new Error("Failed to start Build: "+t))})},e.showWorkflowEditor=function(){u.show(g,v)}}])}(),function(){"use strict";Bitrise.controller("XamarinAdminDashboardCtrl",["$scope","$http","$q","$timeout","DateService","Progress","App","Build","Pagination",function(e,t,n,i,r,o,s,a,l){var c=null;e.typeFilters=[{id:"alpha-failing",name:"Alpha failing",cssClass:"channel"},{id:"beta-failing",name:"Beta failing",cssClass:"channel"},{id:"succeeding",name:"Succeeding",cssClass:"succeeding"},{id:"failing",name:"Failing",cssClass:"failing"}],e.appsByUsernames=null,e.selectedPage=1,e.titleAndUsernameFilter="",e.selectedTypeFilter=null,e.loadAppsProgress=new o,e.appPagination=new l,e.init=function(){e.loadApps()},e.loadApps=function(){c&&c.resolve("Load apps cancelled by another app load request"),c=n.defer(),e.loadAppsProgress.start("Loading apps, hang tight for a sec..."),e.appsByUsernames={};var i="/xamarin_apps.json",o={page:e.selectedPage};e.titleAndUsernameFilter.length>0&&("@"==e.titleAndUsernameFilter[0]?o.username_filter=e.titleAndUsernameFilter.substring(1):"#"==e.titleAndUsernameFilter[0]?o.title_filter=e.titleAndUsernameFilter.substring(1):o.title_filter=e.titleAndUsernameFilter),e.selectedTypeFilter&&(o.type_filter=e.selectedTypeFilter.id);var l="Woops... Error loading apps, click here to try again.";return t.get(i,{params:o,timeout:c.promise}).then(function(t){if(c=null,e.appPagination.configureWithPageDatas(t.data.pages,e.selectedPage),e.appsByUsernames=_.mapObject(t.data.user_app_count,function(e){return{apps:[],appCount:e}}),!_.every(t.data.repositories,function(t){var n=new s;if(t.last_stable_build_status!==undefined){var i=new a;i.binarySizes=t.last_stable_build_artifact_sizes,i.buildNumber=t.last_stable_build_build_number,i.startedAt=r.dateFromString(t.last_stable_build_started_at),i.environmentPrepareStartedAt=r.dateFromString(t.last_stable_build_environment_prepare_started_at),i.environmentPreparedAt=r.dateFromString(t.last_stable_build_environment_prepared_at),i.finishedAt=r.dateFromString(t.last_stable_build_finished_at),i.status=t.last_stable_build_status,i.isOnHold=t.last_stable_build_is_on_hold,n.lastStableBuild=i,n.representativeBuild=n.lastStableBuild}else n.representativeBuild=null;if(t.last_alpha_build_status!==undefined){var o=new a;o.startedAt=r.dateFromString(t.last_alpha_build_started_at),o.environmentPrepareStartedAt=r.dateFromString(t.last_alpha_build_environment_prepare_started_at),o.environmentPreparedAt=r.dateFromString(t.last_alpha_build_environment_prepared_at),o.finishedAt=r.dateFromString(t.last_alpha_build_finished_at),o.status=t.last_alpha_build_status,o.isOnHold=t.last_alpha_build_is_on_hold,n.lastAlphaBuild=o}if(t.last_beta_build_status!==undefined){var l=new a;l.startedAt=r.dateFromString(t.last_beta_build_started_at),l.environmentPrepareStartedAt=r.dateFromString(t.last_beta_build_environment_prepare_started_at),l.environmentPreparedAt=r.dateFromString(t.last_beta_build_environment_prepared_at),l.finishedAt=r.dateFromString(t.last_beta_build_finished_at),l.status=t.last_beta_build_status,l.isOnHold=t.last_beta_build_is_on_hold,n.lastBetaBuild=l}return n.slug=t.slug,n.title=t.title,n.teamMemberCount=t.team_member_count,n.stackId=t.stack_identifier,n.isValidated=1==t.status,e.appsByUsernames[t.username].apps.push(n),!0}))return e.loadAppsProgress.error(new Error(l)),void(e.appsByUsernames={});e.loadAppsProgress.success()},function(t){t&&t.data&&e.loadAppsProgress.error(new Error(l))})},e.filterChanged=function(){e.selectedPage=1,e.loadApps()},e.typeFilterSelected=function(t){e.selectedTypeFilter=e.selectedTypeFilter==t?null:t,e.filterChanged()},e.pageSelected=function(t){e.selectedPage!=t&&(e.selectedPage=t,e.loadApps())}}])}(),function(){"use strict";Bitrise.controller("XamarinEnsureUserLoggedInCtrl",["$scope","$http","Progress",function(e,t,n){function i(){e.$emit("XamarinEnsureUserLoggedInCtrl::loginFinished")}e.xamarinProgress=new n,e.xamarin={},e.isXamarinAuthenticationSkipped=!1,e.init=function(){e.$emit("XamarinEnsureUserLoggedInCtrl::ready")},e.authenticateXamarin=function(){e.xamarinProgress.start("Authenticating Xamarin account, wait a sec..."),e.xamarin.error=null,t({method:"POST",data:{username:e.xamarin.username,password:e.xamarin.password},url:"/me/profile/authenticate_xamarin"}).success(function(t,n){200==n?t.success?(e.xamarinProgress.success(),i()):e.xamarinProgress.error(new Error(t.message)):e.xamarinProgress.error(new Error("Failed to login to Xamarin!"))}).error(function(t){e.xamarinProgress.error(new Error(t.error_msg))})},e.skipLogin=function(){e.isXamarinAuthenticationSkipped=!0,e.$emit("XamarinEnsureUserLoggedInCtrl::loginFinished")}}])}(),function(){"use strict";Bitrise.controller("YMLEditorController",["$scope","$q","http","Progress","PopupV4",function(e,t,n,i,r){function o(){return!_.isEqual(d.yml,u)}function s(){var e=ace.edit("yml-editor"),t=e.getSession(),n=e.renderer;e.setTheme("ace/theme/monokai"),t.setMode("ace/mode/yaml"),e.setReadOnly(!1),e.setShowPrintMargin(!1),e.setShowInvisibles(!1),e.$blockScrolling=Infinity,e.setOptions({vScrollBarAlwaysVisible:!0,tabSize:2}),e.setValue(d.yml),e.focus(),e.gotoLine(1),t.setUndoManager(new ace.UndoManager),t.setUseWrapMode(!0),t.setUseSoftTabs(!0),n.setShowGutter(!0)}function a(){d.ymlProgress.start("Loading bitrise.yml, wait a sec...");var e="/api/app/"+d.app.slug+"/config.yml";n.get(e,{timeout:h.promise},"Error loading bitrise.yml").then(function(e){d.yml=e,u=angular.copy(d.yml),s(),d.ymlProgress.success()},function(e){r.alertError(undefined,e.message),d.ymlProgress.reset()})}function l(){d.ymlProgress.start("Saving bitrise.yml, wait a sec...");var e="/api/app/"+d.app.slug+"/config.json",i={app_config_datastore_yaml:d.yml};return t(function(t,o){n.post(e,i,{timeout:h.promise},"Error saving bitrise.yml").then(function(){d.ymlProgress.success(),r.alertSuccess("App Config saved successfully").then(function(){a(),t()})},function(e){d.ymlProgress.error(e),r.alertError(undefined,e).then(function(){o(e)})})})}function c(){return t(function(e,t){return d.ymlProgress.isError?void t():o()?void r.confirm(undefined,"Your bitrise.yml have unsaved changes. Do you want to save?","Save","Cancel",undefined,"confirm-save").then(function(){l().then(e,t)},t):void e()})}var u,d=this,h=t.defer();d.app,d.yml,d.ymlProgress=new i,e.init=function(){e.$on("ctrl::YMLEditorController::configureWithParameters",function(e,t){t.app!==undefined&&(d.app=t.app),a()}),e.$on("ctrl::YMLEditorController::leave",function(e,t,n){c().then(t,n)}),e.$on("ctrl::YMLEditorController::saveChanges",function(e,t,n){return l().then(t,n)}),e.$on("ctrl::YMLEditorController::discardChanges",function(){u&&(d.yml=angular.copy(u),d.ymlProgress.reset())})},e.$on("$destroy",function(){h.resolve(),window.onbeforeunload=null}),$(window).on("beforeunload",function(e){if(o())return e.returnValue="Your bitrise.yml has unsaved changes.",e.returnValue})}])}(),angular.module("siyfion.sfTypeahead",[]).directive("sfTypeahead",function(){return{restrict:"AC",require:"?ngModel",scope:{options:"=",datasets:"=",suggestionKey:"@"},link:function(e,t,n,i){function r(){if(c)t.typeahead(e.options,e.datasets),c=!1;else{var n=t.val();t.typeahead("destroy"),t.typeahead(e.options,e.datasets),i.$setViewValue(n),t.triggerHandler("typeahead:opened")}}function o(e,t){var n=-1;return angular.forEach(e,function(e,i){angular.equals(t,e)&&(n=i)}),n>=0}function s(t,n){e.$apply(function(){var t=angular.isDefined(e.suggestionKey)?n[e.suggestionKey]:n;i.$setViewValue(t)})}var a=e.options||{},l=(angular.isArray(e.datasets)?e.datasets:[e.datasets])||[],c=!0;r(),e.$watch("options",r),angular.isArray(e.datasets)?e.$watchCollection("datasets",r):e.$watch("datasets",r),i.$parsers.push(function(e){var t=angular.isObject(e);return!1===a.editable?(i.$setValidity("typeahead",t),t?e:undefined):e}),i.$formatters.push(function(n){if(angular.isObject(n)){var r=!1;return $.each(l,function(s,c){function u(c){o(c,n)?(i.$setViewValue(n),r=!0):i.$setViewValue(!1===a.editable?undefined:n),(r||s===l.length-1)&&setTimeout(function(){e.$apply(function(){t.typeahead("val",p)})},0)}var d=c.source,h=c.displayKey||"value",p=(angular.isFunction(h)?h(n):n[h])||"";return!r&&(p?void d(p,u):void u([]))}),""}return null==n&&t.typeahead("val",null),n}),t.bind("typeahead:selected",function(t,n,i){s(t,n,i),e.$emit("typeahead:selected",n,i)}),t.bind("typeahead:autocompleted",function(t,n,i){s(t,n,i),e.$emit("typeahead:autocompleted",n,i)}),t.bind("typeahead:opened",function(){e.$emit("typeahead:opened")}),t.bind("typeahead:closed",function(){e.$emit("typeahead:closed")}),t.bind("typeahead:cursorchanged",function(t,n,i){e.$emit("typeahead:cursorchanged",t,n,i)})}}}),function(){window.stringStartsWith=function(e,t,n){return null==n&&(n=!0),n||(e=e.toLowerCase()),0===e.indexOf(t)},window.stringEndsWith=function(e,t,n){var i;return null==n&&(n=!0),n||(e=e.toLowerCase()),(i=e.lastIndexOf(t))>=0&&i===e.length-t.length}}.call(this),"undefined"==typeof JKL&&(JKL=function(){}),JKL.ParseXML=function(e,t,n){return this.http=new JKL.ParseXML.HTTP(e,t,n,!1),this},JKL.ParseXML.VERSION="0.22",JKL.ParseXML.MIME_TYPE_XML="text/xml",JKL.ParseXML.MAP_NODETYPE=["","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE"],JKL.ParseXML.prototype.async=function(e,t){this.callback_func=e,this.callback_arg=t},JKL.ParseXML.prototype.onerror=function(e){this.onerror_func=e};JKL.ParseXML.prototype.parse=function(){
if(this.http){if(this.onerror_func&&this.http.onerror(this.onerror_func),this.callback_func){var e=this,t=function(){if(e.http){var t=e.parseResponse();e.callback_func(t,e.callback_arg)}};this.http.async(t)}if(this.http.load(),!this.callback_func){return this.parseResponse()}}},JKL.ParseXML.prototype.setOutputArrayAll=function(){this.setOutputArray(!0)},JKL.ParseXML.prototype.setOutputArrayAuto=function(){this.setOutputArray(null)},JKL.ParseXML.prototype.setOutputArrayNever=function(){this.setOutputArray(!1)},JKL.ParseXML.prototype.setOutputArrayElements=function(e){this.setOutputArray(e)},JKL.ParseXML.prototype.setOutputArray=function(e){if("string"==typeof e&&(e=[e]),e&&"object"==typeof e)if(e.length<0)e=!1;else{for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;e=t,e["*"]&&(e=!0)}this.usearray=e},JKL.ParseXML.prototype.parseResponse=function(){var e=this.http.documentElement();return this.parseDocument(e)},JKL.ParseXML.prototype.parseDocument=function(e){if(e){var t=this.parseElement(e);1==this.usearray?t=[t]:0==this.usearray||null==this.usearray||this.usearray[e.nodeName]&&(t=[t]);var n={};return n[e.nodeName]=t,n}},JKL.ParseXML.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,n={};if(e.attributes&&e.attributes.length){t={};for(var i=0;i<e.attributes.length;i++){var r=e.attributes[i].nodeName;if("string"==typeof r){var o=e.attributes[i].nodeValue;o&&("undefined"==typeof n[r]&&(n[r]=0),n[r]++,this.addNode(t,r,n[r],o))}}}if(e.childNodes&&e.childNodes.length){var s=!0;t&&(s=!1);for(var i=0;i<e.childNodes.length&&s;i++){var a=e.childNodes[i].nodeType;3!=a&&4!=a&&(s=!1)}if(s){t||(t="");for(var i=0;i<e.childNodes.length;i++)t+=e.childNodes[i].nodeValue}else{t||(t={});for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes[i].nodeName;if("string"==typeof r){var o=this.parseElement(e.childNodes[i]);o&&("undefined"==typeof n[r]&&(n[r]=0),n[r]++,this.addNode(t,r,n[r],o))}}}}return t}},JKL.ParseXML.prototype.addNode=function(e,t,n,i){1==this.usearray?(1==n&&(e[t]=[]),e[t][e[t].length]=i):0==this.usearray?1==n&&(e[t]=i):null==this.usearray?1==n?e[t]=i:2==n?e[t]=[e[t],i]:e[t][e[t].length]=i:this.usearray[t]?(1==n&&(e[t]=[]),e[t][e[t].length]=i):1==n&&(e[t]=i)},JKL.ParseXML.Text=function(e,t,n){return this.http=new JKL.ParseXML.HTTP(e,t,n,!0),this},JKL.ParseXML.Text.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.Text.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.Text.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.Text.prototype.parseResponse=function(){return this.http.responseText()},JKL.ParseXML.JSON=function(e,t,n){return this.http=new JKL.ParseXML.HTTP(e,t,n,!0),this},JKL.ParseXML.JSON.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.JSON.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.JSON.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.JSON.prototype.parseResponse=function(){var text=this.http.responseText();if(void 0!==text&&text.length){var data=eval("("+text+")");return data}},JKL.ParseXML.DOM=function(e,t,n){return this.http=new JKL.ParseXML.HTTP(e,t,n,!1),this},JKL.ParseXML.DOM.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.DOM.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.DOM.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.DOM.prototype.parseResponse=function(){return this.http.documentElement()},JKL.ParseXML.CSV=function(e,t,n){return this.http=new JKL.ParseXML.HTTP(e,t,n,!0),this},JKL.ParseXML.CSV.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.CSV.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.CSV.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.CSV.prototype.parseResponse=function(){var e=this.http.responseText();return this.parseCSV(e)},JKL.ParseXML.CSV.prototype.parseCSV=function(e){e=e.replace(/\r\n?/g,"\n");for(var t=0,n=e.length,i=[];t<n;){for(var r=[];t<n;){if('"'==e.charAt(t)){for(var o=e.indexOf('"',t+1);o<n&&o>-1&&'"'==e.charAt(o+1);)o=e.indexOf('"',o+2);if(o<0);else{if(","==e.charAt(o+1)){var s=e.substr(t+1,o-t-1);s=s.replace(/""/g,'"'),r[r.length]=s,t=o+2;continue}if("\n"==e.charAt(o+1)||n==o+1){var s=e.substr(t+1,o-t-1);s=s.replace(/""/g,'"'),r[r.length]=s,t=o+2;break}}}var a=e.indexOf(",",t),l=e.indexOf("\n",t);if(l<0&&(l=n),!(a>-1&&a<l)){r[r.length]=e.substr(t,l-t),t=l+1;break}r[r.length]=e.substr(t,a-t),t=a+1}r.length>=0&&(i[i.length]=r)}if(!(i.length<0))return i},JKL.ParseXML.CSVmap=function(e,t,n){return this.http=new JKL.ParseXML.HTTP(e,t,n,!0),this},JKL.ParseXML.CSVmap.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.CSVmap.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.CSVmap.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.CSVmap.prototype.parseCSV=JKL.ParseXML.CSV.prototype.parseCSV,JKL.ParseXML.CSVmap.prototype.parseResponse=function(){var e=this.http.responseText(),t=this.parseCSV(e);if(t&&!(t.length<0)){for(var n=t.shift(),i=[],r=0;r<t.length;r++){for(var o={},s=0;s<n.length&&s<t[r].length;s++)o[n[s]]=t[r][s];i[i.length]=o}return i}},JKL.ParseXML.LoadVars=function(e,t,n){return this.http=new JKL.ParseXML.HTTP(e,t,n,!0),this},JKL.ParseXML.LoadVars.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.LoadVars.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.LoadVars.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.LoadVars.prototype.parseResponse=function(){var e=this.http.responseText();e=e.replace(/\r\n?/g,"\n");for(var t={},n=e.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("=");if(r>-1){var o=decodeURIComponent(n[i].substr(0,r).replace("+","%20")),s=decodeURIComponent(n[i].substr(r+1).replace("+","%20"));t[o]=s}else t[n[i]]=""}return t},JKL.ParseXML.HTTP=function(e,t,n,i){return this.url=e,this.query="string"==typeof t?t:"",this.method=n||("string"==typeof t?"POST":"GET"),this.textmode=!!i,this.req=null,this.xmldom_flag=!1,this.onerror_func=null,this.callback_func=null,this.already_done=null,this},JKL.ParseXML.HTTP.REQUEST_TYPE="application/x-www-form-urlencoded",JKL.ParseXML.HTTP.ACTIVEX_XMLDOM="Microsoft.XMLDOM",JKL.ParseXML.HTTP.ACTIVEX_XMLHTTP="Microsoft.XMLHTTP",JKL.ParseXML.HTTP.EPOCH_TIMESTAMP="Thu, 01 Jun 1970 00:00:00 GMT",JKL.ParseXML.HTTP.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.HTTP.prototype.async=function(e){this.async_func=e},JKL.ParseXML.HTTP.prototype.load=function(){if(window.ActiveXObject){var e=JKL.ParseXML.HTTP.ACTIVEX_XMLHTTP;"GET"!=this.method||this.textmode||(e=JKL.ParseXML.HTTP.ACTIVEX_XMLDOM),this.req=new ActiveXObject(e)}else window.XMLHttpRequest&&(this.req=new XMLHttpRequest);var t=!!this.async_func;if("undefined"!=typeof this.req.send&&this.req.open(this.method,this.url,t),"undefined"!=typeof this.req.setRequestHeader&&this.req.setRequestHeader("Content-Type",JKL.ParseXML.HTTP.REQUEST_TYPE),"undefined"==typeof this.req.overrideMimeType||this.textmode||this.req.overrideMimeType(JKL.ParseXML.MIME_TYPE_XML),t){var n=this;n.already_done=!1;var i=function(){if(4==n.req.readyState){n.checkResponse()&&(n.already_done||(n.already_done=!0,n.async_func()))}};this.req.onreadystatechange=i}if("undefined"!=typeof this.req.send?this.req.send(this.query):"undefined"!=typeof this.req.load&&(this.req.async=t,this.req.load(this.url)),!t){this.checkResponse()}},JKL.ParseXML.HTTP.prototype.checkResponse=function(){return this.req.parseError&&0!=this.req.parseError.errorCode?(this.onerror_func&&this.onerror_func(this.req.parseError.reason),!1):!(this.req.status-0>0&&200!=this.req.status&&206!=this.req.status&&304!=this.req.status)||(this.onerror_func&&this.onerror_func(this.req.status),!1)},JKL.ParseXML.HTTP.prototype.documentElement=function(){if(this.req)return this.req.responseXML?this.req.responseXML.documentElement:this.req.documentElement},JKL.ParseXML.HTTP.prototype.responseText=function(){if(this.req){if(navigator.appVersion.match("KHTML")){var e=escape(this.req.responseText);if(!e.match("%u")&&e.match("%"))return decodeURIComponent(e)}return this.req.responseText}},$(document).ready(function(){document.body.addEventListener("DOMSubtreeModified",function(){_.each($("*[btf-markdown] a"),function(e){$(e).attr("target","_blank")})})}),StatusPage="undefined"==typeof StatusPage?{}:StatusPage,StatusPage.page=function(e){if(e=e||{},!e.page)throw new Error("A pageId is required to initialize.");this.apiKey=e.apiKey||null,this.error=e.error||this.error,this.format=e.format||"json",this.pageId=e.page,this.version=e.version||"v2",this.secure=!("secure"in e)||e.secure,this.protocol=this.secure?"https":"http",this.host=e.host||"hosted.statuspage.io",this.host_with_port_and_protocol=e.test?"":this.protocol+"://"+this.host},StatusPage.page.prototype.serialize=function(e,t){var n=[],i={sms:"email_sms",webhook:"endpoint"};for(var r in e)if("to_sentence"!==r){var o=r;r=r in i?i[r]:r;var s=t?t+"["+r+"]":r,a=e[o];n.push("object"==typeof a?this.serialize(a,s):encodeURIComponent(s)+"="+encodeURIComponent(a))}return n.join("&")},StatusPage.page.prototype.createStatusPageCORSRequest=function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n},StatusPage.page.prototype.executeRequestAndCallbackWithResponse=function(e){if(!e.path)throw new Error("A path is required to make a request");var t=e.path,n=e.method||"GET",i=e.success||null,r=e.error||this.error,o=this.host_with_port_and_protocol.replace("hosted",this.pageId)+"/api/"+this.version+"/"+t+"."+this.format,s=this.createStatusPageCORSRequest(n,o);if(s)if(this.apiKey&&(console.log("!!! API KEY IN USE - REMOVE BEFORE DEPLOYING TO PRODUCTION !!!"),console.log("!!! API KEY IN USE - REMOVE BEFORE DEPLOYING TO PRODUCTION !!!"),console.log("!!! API KEY IN USE - REMOVE BEFORE DEPLOYING TO PRODUCTION !!!"),s.setRequestHeader("Authorization","OAuth "+this.apiKey)),s.onload=function(){var e=JSON.parse(s.responseText);i&&i(e)},s.error=r,"POST"===n||"DELETE"===n){var a=e.data||{};s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(this.serialize(a))}else s.send()},StatusPage.page.prototype.get=function(e,t){if(t=t||{},!e)throw new Error("Path is required.");if(!t.success)throw new Error("Success Callback is required.");var n=t.success||{},i=t.error||{};this.executeRequestAndCallbackWithResponse({path:e,success:n,error:i,method:"GET"})},StatusPage.page.prototype.post=function(e,t){if(t=t||{},!e)throw new Error("Path is required.");var n={};if("subscribers"===e){if(!t.subscriber)throw new Error("Subscriber is required to post.");n.subscriber=t.subscriber}else{if(!t.data)throw new Error("Data is required to post.");n=t.data}var i=t.success||{},r=t.error||{};this.executeRequestAndCallbackWithResponse({data:n,path:e,success:i,error:r,method:"POST"})},StatusPage.page.prototype["delete"]=function(e,t){if(t=t||{},!e)throw new Error("Path is required.");if(!t.subscriber)throw new Error("Data is required to delete.");var n={};"subscribers"===e?n.subscriber=t.subscriber:n=t.data;var i=t.success||{},r=t.error||{};this.executeRequestAndCallbackWithResponse({data:n,path:e,success:i,error:r,method:"DELETE"})},StatusPage.page.prototype.error=function(){console.log("There was an error with your request")},StatusPage.page.prototype.summary=function(e){this.get("summary",e)},StatusPage.page.prototype.status=function(e){this.get("status",e)},StatusPage.page.prototype.components=function(e){this.get("components",e)},StatusPage.page.prototype.incidents=function(e){switch(e.filter){case"unresolved":this.get("incidents/unresolved",e);break;case"resolved":this.get("incidents/resolved",e);break;default:this.get("incidents",e)}},StatusPage.page.prototype.scheduled_maintenances=function(e){switch(e.filter){case"active":this.get("scheduled-maintenances/active",e);break;case"upcoming":this.get("scheduled-maintenances/upcoming",e);break;default:this.get("scheduled-maintenances",e)}},StatusPage.page.prototype.subscribe=function(e){if(!e||!e.subscriber)throw new Error("A subscriber object is required.");this.post("subscribers",e)},StatusPage.page.prototype.unsubscribe=function(e){if(!e||!e.subscriber)throw new Error("A subscriber object is required.");if(!e.subscriber.id)throw new Error("You must supply a subscriber.id in order to cancel a subscription.");this["delete"]("subscribers",e)},$(window).load(function(){new StatusPage.page({page:"1q8r4n02vb2k"}).status({success:function(e){$(".status-page").text(e.status.description),$(".status-page").addClass(e.status.indicator)}})}),function(){function e(e){var t=n;e&&(n[e]||(n[e]={}),t=n[e]),t.define&&t.define.packaged||(i.original=t.define,t.define=i,t.define.packaged=!0),t.require&&t.require.packaged||(o.original=t.require,t.require=o,t.require.packaged=!0)}var t="ace",n=function(){return this}();if(n||"undefined"==typeof window||(n=window),t||"undefined"==typeof requirejs){var i=function(e,t,n){if("string"!=typeof e)return void(i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()));2==arguments.length&&(n=t),i.modules[e]||(i.payloads[e]=n,i.modules[e]=null)};i.modules={},i.payloads={};var r=function(e,t,n){if("string"==typeof t){var i=a(e,t);if(i!=undefined)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var r=[],s=0,l=t.length;s<l;++s){var c=a(e,t[s]);if(c==undefined&&o.original)return;r.push(c)}return n&&n.apply(null,r)||!0}},o=function(e,t){var n=r("",e,t);return n==undefined&&o.original?o.original.apply(this,arguments):n},s=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return s(e,n[0])+"!"+s(e,n[1])}if("."==t.charAt(0)){var i=e.split("/").slice(0,-1).join("/");for(t=i+"/"+t;-1!==t.indexOf(".")&&r!=t;){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},a=function(e,t){t=s(e,t);var n=i.modules[t];if(!n){if("function"==typeof(n=i.payloads[t])){var o={},a={id:t,uri:"",exports:o,packaged:!0};o=n(function(e,n){return r(t,e,n)},o,a)||a.exports,i.modules[t]=o,delete i.payloads[t]}n=i.modules[t]=o||n}return n};e(t)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(){"use strict";function e(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function t(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1}var n={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=n.exec.call(/()??/,"")[1]===undefined,r=function(){var e=/^/g;return n.test.call(e,""),!e.lastIndex}();r&&i||(RegExp.prototype.exec=function(o){var s,a,l=n.exec.apply(this,arguments);if("string"==typeof o&&l){if(!i&&l.length>1&&t(l,"")>-1&&(a=RegExp(this.source,n.replace.call(e(this),"g","")),n.replace.call(o.slice(l.index),a,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===undefined&&(l[e]=undefined)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)(s=this._xregexp.captureNames[c-1])&&(l[s]=l[c]);!r&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},r||(RegExp.prototype.test=function(e){var t=n.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function e(){}function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function n(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=d.call(arguments,1),r=function(){if(this instanceof r){var e=n.apply(this,i.concat(d.call(arguments)));return Object(e)===e?e:this}return n.apply(t,i.concat(d.call(arguments)))};return n.prototype&&(e.prototype=n.prototype,r.prototype=new e,e.prototype=null),r});var i,r,o,s,a,l=Function.prototype.call,c=Array.prototype,u=Object.prototype,d=c.slice,h=l.bind(u.toString),p=l.bind(u.hasOwnProperty);if((a=p(u,"__defineGetter__"))&&(i=l.bind(u.__defineGetter__),r=l.bind(u.__defineSetter__),o=l.bind(u.__lookupGetter__),s=l.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];if(n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),n.length,t+1==n.length)return!0}()){var f=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?f.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(d.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var i=this.slice(e,e+t),r=d.call(arguments,2),o=r.length;if(e===n)o&&this.push.apply(this,r);else{var s=Math.min(t,n-e),a=e+s,l=a+o-s,c=n-a,u=n-s;if(l<a)for(var h=0;h<c;++h)this[l+h]=this[a+h];else if(l>a)for(h=c;h--;)this[l+h]=this[a+h];if(o&&e===u)this.length=u,this.push.apply(this,r);else for(this.length=u+o,h=0;h<o;++h)this[e+h]=r[h]}return i};Array.isArray||(Array.isArray=function(e){return"[object Array]"==h(e)});var g=Object("a"),m="a"!=g[0]||!(0 in g);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=E(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=arguments[1],r=-1,o=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError;for(;++r<o;)r in n&&e.call(i,n[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=E(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0,r=Array(i),o=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)s in n&&(r[s]=e.call(o,n[s],s,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=E(this),i=m&&"[object String]"==h(this)?this.split(""):n,r=i.length>>>0,o=[],s=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in i&&(t=i[a],e.call(s,t,a,n)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=E(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var o=0;o<i;o++)if(o in n&&!e.call(r,n[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=E(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var o=0;o<i;o++)if(o in n&&e.call(r,n[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=E(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;o<i;o++)o in n&&(r=e.call(void 0,r,n[o],o,t));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=E(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,o=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do{o in this&&(r=e.call(void 0,r,n[o],o,t))}while(o--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=m&&"[object String]"==h(this)?this.split(""):E(this),i=t.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=n(arguments[1])),r=r>=0?r:Math.max(0,i+r);r<i;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=m&&"[object String]"==h(this)?this.split(""):E(this),i=t.length>>>0;if(!i)return-1;var r=i-1;for(arguments.length>1&&(r=Math.min(r,n(arguments[1]))),r=r>=0?r:i-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:u)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(p(e,t)){var n,i,r;if(n={enumerable:!0,configurable:!0},a){var l=e.__proto__;e.__proto__=u;var i=o(e,t),r=s(e,t);if(e.__proto__=l,i||r)return i&&(n.get=i),r&&(n.set=r),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var v;v=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=v();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var i=function(){};i.prototype=e,n=new i,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var y=t({}),b="undefined"==typeof document||t(document.createElement("div"));if(!y||!b)var w=Object.defineProperty}if(!Object.defineProperty||w){Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if(w)try{return w.call(Object,e,t,n)}catch(e){}if(p(n,"value"))if(a&&(o(e,t)||s(e,t))){var l=e.__proto__;e.__proto__=u,delete e[t],e[t]=n.value,e.__proto__=l}else e[t]=n.value;else{if(!a)throw new TypeError("getters & setters can not be defined on this javascript engine");p(n,"get")&&i(e,t,n.get),p(n,"set")&&r(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)p(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";p(e,t);)t+="?";e[t]=!0;var n=p(e,t);return delete e[t],n}),!Object.keys){var _=!0,C=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],A=C.length;for(var S in{toString:null})_=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var n in e)p(e,n)&&t.push(n);if(_)for(var i=0,r=A;i<r;i++){var o=C[i];p(e,o)&&t.push(o)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var $="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||$.trim()){$="["+$+"]";var x=new RegExp("^"+$+$+"*"),k=new RegExp($+$+"*$");String.prototype.trim=function(){return String(this).replace(x,"").replace(k,"")}}var E=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t){"use strict";if(t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===e)return!0;return!1},t.importCssString=function(e,n,i){if(i=i||document,n&&t.hasCssString(n,i))return null;var r;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */"),i.createStyleSheet?(r=i.createStyleSheet(),r.cssText=e,n&&(r.owningElement.id=n)):(r=t.createElement("style"),r.appendChild(i.createTextNode(e)),n&&(r.id=n),t.getDocumentHead(i).appendChild(r))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var i=t.createElement("link");i.rel="stylesheet",i.href=e,t.getDocumentHead(n).appendChild(i)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=e.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},"undefined"==typeof document)return void(t.importCssString=function(){});window.pageYOffset!==undefined?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t){"use strict";e("./fixoldbrowsers");var n=e("./oop"),i=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i["return"],i.escape=i.esc,i.del=i["delete"],i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((i.match(/rv:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||undefined,t.isChrome=parseFloat(i.split(" Chrome/")[1])||undefined,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t){"use strict";function n(e,t,n){var i=l(t);if(!o.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),s.altGr){if(3==(3&i))return;s.altGr=0}if(18===n||17===n){var c="location"in t?t.location:t.keyLocation;if(17===n&&1===c)1==s[n]&&(a=t.timeStamp);else if(18===n&&3===i&&2===c){var u=t.timeStamp-a;u<50&&(s.altGr=!0)}}}if(n in r.MODIFIER_KEYS&&(n=-1),8&i&&n>=91&&n<=93&&(n=-1),!i&&13===n){var c="location"in t?t.location:t.keyLocation;if(3===c&&(e(t,i,-n),t.defaultPrevented))return}if(o.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&e(t,i,n)}function i(){s=Object.create(null)}var r=e("./keys"),o=e("./useragent"),s=null,a=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var i=function(){n.call(e,window.event)};n._wrapper=i,e.attachEvent("on"+t,i)}},t.removeListener=function(e,t,n){if(e.removeEventListener)return e.removeEventListener(t,n,!1);e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,i){function r(e){n&&n(e),
i&&i(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",r,!0),t.removeListener(document,"dragstart",r,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",r,!0),t.addListener(document,"dragstart",r,!0),r},t.addTouchMoveListener=function(e,n){if("ontouchmove"in e){var i,r;t.addListener(e,"touchstart",function(e){var t=e.changedTouches[0];i=t.clientX,r=t.clientY}),t.addListener(e,"touchmove",function(e){var t=1,o=e.changedTouches[0];e.wheelX=-(o.clientX-i)/t,e.wheelY=-(o.clientY-r)/t,i=o.clientX,r=o.clientY,n(e)})}},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;e.wheelDeltaX!==undefined?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,i,r){function s(e){if(0!==t.getButton(e)?d=0:e.detail>1?++d>4&&(d=1):d=1,o.isIE){var s=Math.abs(e.clientX-l)>5||Math.abs(e.clientY-c)>5;u&&!s||(d=1),u&&clearTimeout(u),u=setTimeout(function(){u=null},n[d-1]||600),1==d&&(l=e.clientX,c=e.clientY)}if(e._clicks=d,i[r]("mousedown",e),d>4)d=0;else if(d>1)return i[r](h[d],e)}function a(e){d=2,u&&clearTimeout(u),u=setTimeout(function(){u=null},n[d-1]||600),i[r]("mousedown",e),i[r](h[d],e)}var l,c,u,d=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",s),o.isOldIE&&t.addListener(e,"dblclick",a)})};var l=!o.isMac||!o.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(t.getModifierString=function(e){return r.KEY_MODS[l(e)]},t.addCommandKeyListener=function(e,r){var a=t.addListener;if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var l=null;a(e,"keydown",function(e){l=e.keyCode}),a(e,"keypress",function(e){return n(r,e,l)})}else{var c=null;a(e,"keydown",function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=n(r,e,e.keyCode);return c=e.defaultPrevented,t}),a(e,"keypress",function(e){c&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),c=null)}),a(e,"keyup",function(e){s[e.keyCode]=null}),s||(i(),a(window,"focus",i))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+1;t.addListener(n,"message",function r(o){o.data==i&&(t.stopPropagation(o),t.removeListener(n,"message",r),e())}),n.postMessage(i,"*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var n=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;n={};for(var i in t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t){"use strict";var n=e("../lib/event"),i=e("../lib/useragent"),r=e("../lib/dom"),o=e("../lib/lang"),s=i.isChrome<18,a=i.isIE,l=function(e,t){function l(e){if(!g){if(g=!0,k)t=0,n=e?0:d.value.length-1;else var t=e?2:1,n=2;try{d.setSelectionRange(t,n)}catch(e){}g=!1}}function c(){g||(d.value=h,i.isWebKit&&w.schedule())}function u(){clearTimeout(z),z=setTimeout(function(){m&&(d.style.cssText=m,m=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},i.isOldIE?200:0)}var d=r.createElement("textarea");d.className="ace_text-input",i.isTouchPad&&d.setAttribute("x-palm-disable-auto-cap",!0),d.setAttribute("wrap","off"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck",!1),d.style.opacity="0",i.isOldIE&&(d.style.top="-1000px"),e.insertBefore(d,e.firstChild);var h="\x01\x01",p=!1,f=!1,g=!1,m="",v=!0;try{var y=document.activeElement===d}catch(e){}n.addListener(d,"blur",function(e){t.onBlur(e),y=!1}),n.addListener(d,"focus",function(e){y=!0,t.onFocus(e),l()}),this.focus=function(){if(m)return d.focus();var e=d.style.top;d.style.position="fixed",d.style.top="0px",d.focus(),setTimeout(function(){d.style.position="","0px"==d.style.top&&(d.style.top=e)},0)},this.blur=function(){d.blur()},this.isFocused=function(){return y};var b=o.delayedCall(function(){y&&l(v)}),w=o.delayedCall(function(){g||(d.value=h,y&&l())});i.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,b.schedule())}),c(),y&&t.onFocus();var _=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!d.setSelectionRange&&d.createTextRange&&(d.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},_=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&t.text==e.value}),i.isOldIE){var C=!1,A=function(e){if(!C){var t=d.value;if(!g&&t&&t!=h){if(e&&t==h[0])return S.schedule();P(t),C=!0,c(),C=!1}}},S=o.delayedCall(A);n.addListener(d,"propertychange",A);var $={13:1,27:1};n.addListener(d,"keyup",function(e){if(!g||d.value&&!$[e.keyCode]||setTimeout(O,0),(d.value.charCodeAt(0)||0)<129)return S.call();g?I():R()}),n.addListener(d,"keydown",function(){S.schedule(50)})}var x=function(){p?p=!1:_(d)?(t.selectAll(),l()):k&&l(t.selection.isEmpty())},k=null;this.setInputHandler=function(e){k=e},this.getInputHandler=function(){return k};var E=!1,P=function(e){k&&(e=k(e),k=null),f?(l(),e&&t.onPaste(e),f=!1):e==h.charAt(0)?E?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==h?e=e.substr(2):e.charAt(0)==h.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),E&&(E=!1)},F=function(){if(!g){var e=d.value;P(e),c()}},D=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!s){var r=a||n?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!n)return D(e,t,!0)}}},T=function(e,i){var r=t.getCopyText();if(!r)return n.preventDefault(e);D(e,r)?(i?t.onCut():t.onCopy(),n.preventDefault(e)):(p=!0,d.value=r,d.select(),setTimeout(function(){p=!1,c(),l(),i?t.onCut():t.onCopy()}))},B=function(e){T(e,!0)},L=function(e){T(e,!1)},M=function(e){var r=D(e);"string"==typeof r?(r&&t.onPaste(r,e),i.isIE&&setTimeout(l),n.preventDefault(e)):(d.value="",f=!0)};n.addCommandKeyListener(d,t.onCommandKey.bind(t)),n.addListener(d,"select",x),n.addListener(d,"input",F),n.addListener(d,"cut",B),n.addListener(d,"copy",L),n.addListener(d,"paste",M),"oncut"in d&&"oncopy"in d&&"onpaste"in d||n.addListener(e,"keydown",function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:L(e);break;case 86:M(e);break;case 88:B(e)}});var R=function(){g||!t.onCompositionStart||t.$readOnly||(g={},g.canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(I,0),t.on("mousedown",O),g.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},I=function(){if(g&&t.onCompositionUpdate&&!t.$readOnly){var e=d.value.replace(/\x01/g,"");if(g.lastValue!==e&&(t.onCompositionUpdate(e),g.lastValue&&t.undo(),g.canUndo&&(g.lastValue=e),g.lastValue)){var n=t.selection.getRange();t.insert(g.lastValue),t.session.markUndoGroup(),g.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},O=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=g;g=!1;var r=setTimeout(function(){r=null;var e=d.value.replace(/\x01/g,"");g||(e==n.lastValue?c():!n.lastValue&&e&&(c(),P(e)))});k=function(e){return r&&clearTimeout(r),(e=e.replace(/\x01/g,""))==n.lastValue?"":(n.lastValue&&r&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",O),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range),i.isChrome&&i.isChrome>=53&&F()}},N=o.delayedCall(I,50);n.addListener(d,"compositionstart",R),i.isGecko?n.addListener(d,"text",function(){N.schedule()}):(n.addListener(d,"keyup",function(){N.schedule()}),n.addListener(d,"keydown",function(){N.schedule()})),n.addListener(d,"compositionend",O),this.getElement=function(){return d},this.setReadOnly=function(e){d.readOnly=e},this.onContextMenu=function(e){E=!0,l(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,o){if(o||!i.isOldIE){m||(m=d.style.cssText),d.style.cssText=(o?"z-index:100000;":"")+"height:"+d.style.height+";"+(i.isIE?"opacity:0.1;":"");var s=t.container.getBoundingClientRect(),a=r.computedStyle(t.container),l=s.top+(parseInt(a.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),h=s.bottom-l-d.clientHeight-2,p=function(e){d.style.left=e.clientX-c-2+"px",d.style.top=Math.min(e.clientY-l-2,h)+"px"};p(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(z),i.isWin&&!i.isOldIE&&n.capture(t.container,p,u))}},this.onContextMenuClose=u;var z,U=function(e){t.textInput.onContextMenu(e),u()};n.addListener(d,"mouseup",U),n.addListener(d,"mousedown",function(e){e.preventDefault(),u()}),n.addListener(t.renderer.scroller,"contextmenu",U),n.addListener(d,"contextmenu",U)};t.TextInput=l}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";function n(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function i(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}function r(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}e("../lib/dom"),e("../lib/event"),e("../lib/useragent");(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,r=e.getButton();if(0!==r){var o=i.getSelectionRange(),s=o.isEmpty();return i.$blockScrolling++,(s||1==r)&&i.selection.moveToPosition(n),i.$blockScrolling--,void(2==r&&i.textInput.onContextMenu(e.domEvent))}return this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var o=r(this.$clickSelection,n);n=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[e](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==s&&a<=0)t=this.$clickSelection.end,o.end.row==i.row&&o.end.column==i.column||(i=o.start);else if(1==a&&s>=0)t=this.$clickSelection.start,o.start.row==i.row&&o.start.column==i.column||(i=o.end);else if(-1==s&&1==a)i=o.end,t=o.start;else{var l=r(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>0||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session,r=i.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor;return i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed)||n<200?(this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor;if(i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed)||n<200)return this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(n.prototype),t.DefaultHandlers=n}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t){"use strict";function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var i=(e("./lib/oop"),e("./lib/dom"));(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){i.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(n.prototype),t.Tooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t){"use strict";function n(e){function t(){var t=d.getDocumentPosition().row,i=l.$annotations[t];if(!i)return n();if(t==a.session.getLength()){var r=a.renderer.pixelToScreenCoordinates(0,d.y).row,s=d.$pos;if(r>a.session.documentToScreenRow(s.row,s.column))return n()}if(h!=i)if(h=i.text.join("<br/>"),c.setHtml(h),c.show(),a._signal("showGutterTooltip",c),a.on("mousewheel",n),e.$tooltipFollowsMouse)o(d);else{var u=d.domEvent.target,p=u.getBoundingClientRect(),f=c.getElement().style;f.left=p.right+"px",f.top=p.bottom+"px"}}function n(){u&&(u=clearTimeout(u)),h&&(c.hide(),h=null,a._signal("hideGutterTooltip",c),a.removeEventListener("mousewheel",n))}function o(e){c.setPosition(e.x,e.y)}var a=e.editor,l=a.renderer.$gutterLayer,c=new i(a.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(a.isFocused()&&0==t.getButton()){if("foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,i=a.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return a.selectAll(),t.preventDefault();e.$clickSelection=a.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var u,d,h;e.editor.setDefaultHandler("guttermousemove",function(i){var s=i.domEvent.target||i.domEvent.srcElement;if(r.hasCssClass(s,"ace_fold-widget"))return n();h&&e.$tooltipFollowsMouse&&o(i),d=i,u||(u=setTimeout(function(){u=null,d&&!e.isMousePressed?t():n()},50))}),s.addListener(a.renderer.$gutter,"mouseout",function(){d=null,h&&!u&&(u=setTimeout(function(){u=null,n()},50))}),a.on("changeSession",n)}function i(e){a.call(this,e)}var r=e("../lib/dom"),o=e("../lib/oop"),s=e("../lib/event"),a=e("../tooltip").Tooltip;o.inherits(i,a),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();e+=15,t+=15,e+r>n&&(e-=e+r-n),t+o>i&&(t-=20+o),a.prototype.setPosition.call(this,e,t)}}.call(i.prototype),t.GutterHandler=n}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";var n=e("../lib/event"),i=e("../lib/useragent"),r=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t){"use strict";function n(e){function t(e,t){var n=Date.now(),r=!t||e.row!=t.row,o=!t||e.column!=t.column;if(!k||r||o)m.$blockScrolling+=1,m.moveCursorToPosition(e),m.$blockScrolling-=1,k=n,E={x:b,y:w};else{i(E.x,E.y,b,w)>c?k=null:n-k>=l&&(m.renderer.scrollCursorIntoView(),k=null)}}function n(e,t){var n=Date.now(),i=m.renderer.layerConfig.lineHeight,r=m.renderer.layerConfig.characterWidth,o=m.renderer.scroller.getBoundingClientRect(),s={x:{left:b-o.left,right:o.right-b},y:{top:w-o.top,bottom:o.bottom-w}},l=Math.min(s.x.left,s.x.right),c=Math.min(s.y.top,s.y.bottom),u={row:e.row,column:e.column};l/r<=2&&(u.column+=s.x.left<s.x.right?-3:2),c/i<=1&&(u.row+=s.y.top<s.y.bottom?-1:1);var d=e.row!=u.row,h=e.column!=u.column,p=!t||e.row!=t.row;d||h&&!p?x?n-x>=a&&m.renderer.scrollCursorIntoView(u):x=n:x=null}function u(){var e=A;A=m.renderer.screenToTextCoordinates(b,w),t(A,e),n(A,e)}function d(){C=m.selection.toOrientedRange(),y=m.session.addMarker(C,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(_),u(),_=setInterval(u,20),F=0,o.addListener(document,"mousemove",p)}function h(){clearInterval(_),m.session.removeMarker(y),y=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(C),m.$blockScrolling-=1,m.isFocused()&&!$&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),C=null,A=null,F=0,x=null,k=null,o.removeListener(document,"mousemove",p)}function p(){null==D&&(D=setTimeout(function(){null!=D&&y&&h()},20))}function f(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function g(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],i=s.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return i&&t.indexOf(r)>=0?o="copy":n.indexOf(r)>=0?o="move":t.indexOf(r)>=0&&(o="copy"),o}var m=e.editor,v=r.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(t){e[t]=this[t]},this),m.addEventListener("mousedown",this.onMouseDown.bind(e));var y,b,w,_,C,A,S,$,x,k,E,P=m.container,F=0;this.onDragStart=function(e){if(this.cancelDrag||!P.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}C=m.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",s.isOpera&&(m.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),s.isOpera&&m.container.removeChild(v),n.clearData(),n.setData("Text",m.session.getTextRange()),$=!0,this.setState("drag")},this.onDragEnd=function(e){if(P.draggable=!1,$=!1,this.setState(null),!m.getReadOnly()){var t=e.dataTransfer.dropEffect;S||"move"!=t||m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!m.getReadOnly()&&f(e.dataTransfer))return b=e.clientX,w=e.clientY,y||d(),F++,e.dataTransfer.dropEffect=S=g(e),o.preventDefault(e)},this.onDragOver=function(e){if(!m.getReadOnly()&&f(e.dataTransfer))return b=e.clientX,w=e.clientY,y||(d(),F++),null!==D&&(D=null),e.dataTransfer.dropEffect=S=g(e),o.preventDefault(e)},this.onDragLeave=function(e){if(--F<=0&&y)return h(),S=null,o.preventDefault(e)},this.onDrop=function(e){if(A){var t=e.dataTransfer;if($)switch(S){case"move":C=C.contains(A.row,A.column)?{start:A,end:A}:m.moveText(C,A);break;case"copy":C=m.moveText(C,A,!0)}else{var n=t.getData("Text");C={start:A,end:m.session.insert(A,n)},m.focus(),S=null}return h(),o.preventDefault(e)}},o.addListener(P,"dragstart",this.onDragStart.bind(e)),o.addListener(P,"dragend",this.onDragEnd.bind(e)),o.addListener(P,"dragenter",this.onDragEnter.bind(e)),o.addListener(P,"dragover",this.onDragOver.bind(e)),o.addListener(P,"dragleave",this.onDragLeave.bind(e)),o.addListener(P,"drop",this.onDrop.bind(e));var D=null}function i(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}var r=e("../lib/dom"),o=e("../lib/event"),s=e("../lib/useragent"),a=200,l=200,c=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=s.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(){var e=this.editor.container;if(s.isIE&&"dragReady"==this.state){var t=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);t>3&&e.dragDrop()}if("dragWait"===this.state){var t=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);t>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),t.getDragDelay()){if(s.isWebKit){this.cancelDrag=!0;t.container.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype),t.DragdropHandler=n}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";var n=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var i=n.getDocumentHead(),r=document.createElement("script");r.src=e,i.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t){"use strict";var n={},i=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],o=this._defaultHandlers[e];if(n.length||o){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=r),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return o&&!t.defaultPrevented?o(t,this):void 0}},n._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},n.once=function(e,t){var n=this;t&&this.addEventListener(e,function i(){n.removeEventListener(e,i),t.apply(null,arguments)})},n.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var o=r.indexOf(t);-1!=o&&r.splice(o,1)}n[e]=t},n.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t){n[e];i&&this.setDefaultHandler(e,i.pop())}else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},n.on=n.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"no use strict";function n(){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function i(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var r=e("./oop"),o=e("./event_emitter").EventEmitter,s={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];if(!i)return n('misspelled option "'+e+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(e,t);i.handlesSet||(this["$"+e]=t),i&&i.set&&i.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}},a=function(){this.$defaultOptions={}};(function(){r.implement(this,o),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)}),r.implement(e,s),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=n,this.reportError=i}).call(a.prototype),t.AppConfig=a}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,n){"no use strict";function i(i){if(l&&l.document){c.packaged=i||e.packaged||n.packaged||l.define&&define.packaged;for(var o={},s="",a=document.currentScript||document._currentScript,u=a&&a.ownerDocument||document,d=u.getElementsByTagName("script"),h=0;h<d.length;h++){
var p=d[h],f=p.src||p.getAttribute("src");if(f){for(var g=p.attributes,m=0,v=g.length;m<v;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(o[r(y.name.replace(/^data-ace-/,""))]=y.value)}var b=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(s=b[1])}}s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var w in o)"undefined"!=typeof o[w]&&t.set(w,o[w])}}function r(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var o=e("./lib/lang"),s=(e("./lib/oop"),e("./lib/net")),a=e("./lib/app_config").AppConfig;n.exports=t=new a;var l=function(){return this||"undefined"!=typeof window&&window}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);c[e]=t},t.all=function(){return o.copyObject(c)},t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var i="snippets"==t?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var s=c[t+"Path"];return null==s?s=c.basePath:"/"==i&&(t=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var r,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{r=e(n)}catch(e){}if(r&&!t.$loading[n])return i&&i(r);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var a=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach(function(t){t&&t(e)})})};if(!t.get("packaged"))return a();s.loadScript(t.moduleUrl(n,o),a)}},i(!0),t.init=i}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t){"use strict";var n=e("../lib/event"),i=e("../lib/useragent"),r=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,a=e("./dragdrop_handler").DragdropHandler,l=e("../config"),c=function(e){var t=this;this.editor=e,new r(this),new o(this),new a(this);var s=function(){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},l=e.renderer.getMouseEventTarget();n.addListener(l,"click",this.onMouseEvent.bind(this,"click")),n.addListener(l,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener([l,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),n.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var c=e.renderer.$gutter;n.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(l,"mousedown",s),n.addListener(c,"mousedown",s),i.isIE&&e.renderer.scrollBarV&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",s),n.addListener(e.renderer.scrollBarH.element,"mousedown",s)),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),o=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new s(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var r=this.editor.renderer;r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=null);var o=this,a=function(e){if(e){if(i.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new s(e,o.editor),o.$mouseMoved=!0}},l=function(e){clearInterval(u),c(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",null==r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=!0,r.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e)},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});o.$onCaptureMouseMove=a,o.releaseMouse=n.capture(this.editor.container,a,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(c.prototype),l.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=c}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t){"use strict";function n(e){e.on("click",function(t){var n=t.getDocumentPosition(),i=e.session,r=i.getFoldAt(n.row,n.column,1);r&&(t.getAccelKey()?i.removeFold(r):i.expandFold(r),t.stop())}),e.on("gutterclick",function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){n=o.start.row;var s=i.getFoldAt(n,i.getLine(n).length,1);s?i.removeFold(s):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}})}t.FoldHandler=n}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t){"use strict";var n=e("../lib/keys"),i=e("../lib/event"),r=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),t==undefined?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r))&&o.command&&(s="null"==o.command||a.exec(o.command,this.$editor,o.args,r),s&&r&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),s)););return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,i){var r=n.keyCodeToString(i);this.$callKeyboardHandlers(t,r,i,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(r.prototype),t.KeyBinding=r}),ace.define("ace/range",["require","exports","module"],function(e,t){"use strict";var n=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(i.row,i.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(i.row,i.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=n,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/lang"),r=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){n.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+e);var t=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();i&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new o(i,0,n,this.session.getLine(n).length):new o(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column),o=r.match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=o[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);return r?void this.moveCursorTo(r.end.row,r.end.column):(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length?(this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,t)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return void this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o=i.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do{t--,r=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(i.row>0||e>0)&&i.row++,this.moveCursorTo(i.row,i.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(e){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(e.start==undefined){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(s.prototype),t.Selection=s}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t){"use strict";var n=e("./config"),i=2e3,r=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],i=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,d=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==d?c.token=c.token[0]:d-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:d-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=d>1?this.$applyToken:c.token),d>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+r+1)}):(d=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[r]=l,r+=d,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,o=n.length;r<o;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;r<o;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e})},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),e}),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else var n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],u=0,d=0,h={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);h.type==p?h.value+=v:(h.type&&c.push(h),h={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(l[y+1]!==undefined){f=o[s[y]],p=f.onMatch?f.onMatch(g,r,n):f.token,f.next&&(r="string"==typeof f.next?f.next:f.next(r,n),o=this.states[r],o||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),s=this.matchMappings[r],u=m,a=this.regExps[r],a.lastIndex=m);break}if(g)if("string"==typeof p)f&&!1===f.merge||h.type!==p?(h.type&&c.push(h),h={type:p,value:g}):h.value+=g;else if(p){h.type&&c.push(h),h={type:null,value:""};for(var y=0;y<p.length;y++)c.push(p[y])}if(u==e.length)break;if(u=m,d++>i){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)h.type&&c.push(h),h={value:e.substring(u,u+=2e3),type:"overflow"};r="start",n=[];break}}return h.type&&c.push(h),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=n.reportError}).call(r.prototype),t.Tokenizer=r}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t){"use strict";var n=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,r,o){var s="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else{r=[];for(var l in s)r.push(t+l)}if(this.addRules(s,t),i)for(var c=Array.prototype[o?"push":"unshift"],a=0;a<r.length;a++)c.apply(this.$rules[r[a]],n.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(o){var s=r[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var d=l.stateName;d||(d=l.token,"string"!=typeof d&&(d=d[0]||""),r[d]&&(d+=i++)),r[d]=u,l.next=d,n(d)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var h in l.rules)r[h]?r[h].push&&r[h].push.apply(r[h],l.rules[h]):r[h]=l.rules[h];var p="string"==typeof l?l:"string"==typeof l.include?l.include:"";if(p&&(c=r[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter(function(e){return!e.next})),s.splice.apply(s,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var i=0,r=this.$rules;Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return Object.keys(e).forEach(function(t){var o=e[t];n&&(o=o.toLowerCase());for(var s=o.split(i||"|"),a=s.length;a--;)r[s[a]]=t}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(n.prototype),t.Behaviour=n}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t){"use strict";var n=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(n!==undefined)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(n.prototype),t.TokenIterator=n}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t){"use strict";var n,i=e("../../lib/oop"),r=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),a=["text","paren.rparen","punctuation.operator"],l=["text","paren.rparen","punctuation.operator","comment"],c={},u=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,c.rangeCount!=e.multiSelect.rangeCount&&(c={rangeCount:e.multiSelect.rangeCount})),c[t])return n=c[t];n=c[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,
maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},d=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},h=function(){this.add("braces","insertion",function(e,t,i,r,o){var a=i.getCursorPosition(),l=r.doc.getLine(a.row);if("{"==o){u(i);var c=i.getSelectionRange(),p=r.doc.getTextRange(c);if(""!==p&&"{"!==p&&i.getWrapBehavioursEnabled())return d(c,p,"{","}");if(h.isSaneInsertion(i,r))return/[\]\}\)]/.test(l[a.column])||i.inMultiSelectMode?(h.recordAutoInsert(i,r,"}"),{text:"{}",selection:[1,1]}):(h.recordMaybeInsert(i,r,"{"),{text:"{",selection:[1,1]})}else if("}"==o){u(i);var f=l.substring(a.column,a.column+1);if("}"==f){var g=r.$findOpeningBracket("}",{column:a.column+1,row:a.row});if(null!==g&&h.isAutoInsertedClosing(a,l,o))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){u(i);var m="";h.isMaybeInsertedClosing(a,l)&&(m=s.stringRepeat("}",n.maybeInsertedBrackets),h.clearMaybeInsertedClosing());var f=l.substring(a.column,a.column+1);if("}"===f){var v=r.findMatchingBracket({row:a.row,column:a.column+1},"}");if(!v)return null;var y=this.$getIndent(r.getLine(v.row))}else{if(!m)return void h.clearMaybeInsertedClosing();var y=this.$getIndent(l)}var b=y+r.getTabString();return{text:"\n"+b+"\n"+y+m,selection:[1,b.length,1,b.length]}}h.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){u(i);if("}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,i,r){if("("==r){u(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return d(o,s,"(",")");if(h.isSaneInsertion(n,i))return h.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){u(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var p=i.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==p&&h.isAutoInsertedClosing(a,l,r))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o){u(n);if(")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2))return r.end.column++,r}}),this.add("brackets","insertion",function(e,t,n,i,r){if("["==r){u(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return d(o,s,"[","]");if(h.isSaneInsertion(n,i))return h.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){u(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var p=i.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==p&&h.isAutoInsertedClosing(a,l,r))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o){u(n);if("]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2))return r.end.column++,r}}),this.add("string_dquotes","insertion",function(e,t,n,i,r){if('"'==r||"'"==r){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;u(n);var o=r,s=n.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return d(s,a,o,o);if(!a){var l=n.getCursorPosition(),c=i.doc.getLine(l.row),h=c.substring(l.column-1,l.column),p=c.substring(l.column,l.column+1),f=i.getTokenAt(l.row,l.column),g=i.getTokenAt(l.row,l.column+1);if("\\"==h&&f&&/escape/.test(f.type))return null;var m,v=f&&/string|escape/.test(f.type),y=!g||/string|escape/.test(g.type);if(p==o)(m=v!==y)&&/string\.end/.test(g.type)&&(m=!1);else{if(v&&!y)return null;if(v&&y)return null;var b=i.$mode.tokenRe;b.lastIndex=0;var w=b.test(h);b.lastIndex=0;var _=b.test(h);if(w||_)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;m=!0}return{text:m?o+o:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){u(n);if(i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o)return r.end.column++,r}})};h.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new o(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",a)){var r=new o(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",a))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",l)},h.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},h.recordAutoInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+o.substr(r.column),n.autoInsertedBrackets++},h.recordMaybeInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=o.substr(0,r.column)+i,n.maybeInsertedLineEnd=o.substr(r.column),n.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},i.inherits(h,r),t.CstyleBehaviour=h}),ace.define("ace/unicode",["require","exports","module"],function(e,t){"use strict";function n(e){var n=/\w{4}/g;for(var i in e)t.packages[i]=e[i].replace(n,"\\u$&")}t.packages={},n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t){"use strict";var n=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,r=e("./behaviour/cstyle").CstyleBehaviour,o=e("../unicode"),s=e("../lib/lang"),a=e("../token_iterator").TokenIterator,l=e("../range").Range,c=function(){this.HighlightRules=i};(function(){this.$defaultBehaviour=new r,this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){function r(e){for(var t=n;t<=i;t++)e(o.getLine(t),t)}var o=t.doc,a=!0,l=!0,c=Infinity,u=t.getTabSize(),d=!1;if(this.lineCommentStart){
if(Array.isArray(this.lineCommentStart))var h=this.lineCommentStart.map(s.escapeRegExp).join("|"),p=this.lineCommentStart[0];else var h=s.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;h=new RegExp("^(\\s*)(?:"+h+") ?"),d=t.getUseSoftTabs();var f=function(e,t){var n=e.match(h);if(n){var i=n[1].length,r=n[0].length;y(e,i,r)||" "!=n[0][r-1]||r--,o.removeInLine(t,i,r)}},g=p+" ",m=function(e,t){a&&!/\S/.test(e)||(y(e,c,c)?o.insertInLine({row:t,column:c},g):o.insertInLine({row:t,column:c},p))},v=function(e){return h.test(e)},y=function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%u!=0)return!1;for(var i=0;" "==e.charAt(n++);)i++;return u>2?i%u!=u-1:i%u==0}}else{if(!this.blockComment)return!1;var p=this.blockComment.start,b=this.blockComment.end,h=new RegExp("^(\\s*)(?:"+s.escapeRegExp(p)+")"),w=new RegExp("(?:"+s.escapeRegExp(b)+")\\s*$"),m=function(e,t){v(e,t)||a&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},b),o.insertInLine({row:t,column:c},p))},f=function(e,t){var n;(n=e.match(w))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(h))&&o.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(h.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}var _=Infinity;r(function(e,t){var n=e.search(/\S/);-1!==n?(n<c&&(c=n),l&&!v(e,t)&&(l=!1)):_>e.length&&(_=e.length)}),c==Infinity&&(c=_,a=!1,l=!1),d&&c%u!=0&&(c=Math.floor(c/u)*u),r(l?f:m)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,c=new a(t,i.row,i.column),u=c.getCurrentToken(),d=(t.selection,t.selection.toOrientedRange());if(u&&/comment/.test(u.type)){for(var h,p;u&&/comment/.test(u.type);){var f=u.value.indexOf(r.start);if(-1!=f){var g=c.getCurrentTokenRow(),m=c.getCurrentTokenColumn()+f;h=new l(g,m,g,m+r.start.length);break}u=c.stepBackward()}for(var c=new a(t,i.row,i.column),u=c.getCurrentToken();u&&/comment/.test(u.type);){var f=u.value.indexOf(r.end);if(-1!=f){var g=c.getCurrentTokenRow(),m=c.getCurrentTokenColumn()+f;p=new l(g,m,g,m+r.end.length);break}u=c.stepForward()}p&&t.remove(p),h&&(t.remove(h),o=h.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);d.start.row==o&&(d.start.column+=s),d.end.row==o&&(d.end.column+=s),t.selection.fromOrientedRange(d)}},this.getNextLineIndent=function(e,t){return this.$getIndent(t)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<n.length;t++)!function(e){var i=n[t],r=e[i];e[n[t]]=function(){return this.$delegator(i,arguments,r)}}(this)},this.$delegator=function(e,t,n){var i=t[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var o=i.split(this.$embeds[r]);if(!o[0]&&o[1]){t[0]=o[1];var s=this.$modes[this.$embeds[r]];return s[e].apply(s,t)}}var a=n.apply(this,t);return n?a:undefined},this.transformAction=function(e,t){if(this.$behaviour){var n=this.$behaviour.getBehaviours();for(var i in n)if(n[i][t]){var r=n[i][t].apply(this,arguments);if(r)return r}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],o=0,s=r.length;o<s;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;a<l;a++)if(/keyword|support|storage/.test(r[o].token[a])){var i=r[o].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){return(this.$keywordList||this.$createKeywordList()).map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(c.prototype),t.Mode=c}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t){"use strict";t.applyDelta=function(e,t){var n=t.start.row,i=t.start.column,r=e[n]||"";switch(t.action){case"insert":if(1===t.lines.length)e[n]=r.substring(0,i)+t.lines[0]+r.substring(i);else{var o=[n,1].concat(t.lines);e.splice.apply(e,o),e[n]=r.substring(0,i)+e[n],e[n+t.lines.length-1]+=r.substring(i)}break;case"remove":var s=t.end.column,a=t.end.row;n===a?e[n]=r.substring(0,i)+r.substring(s):e.splice(n,a-n+1,r.substring(0,i)+e[a].substring(s))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}function t(t,n,i){var r="insert"==t.action,o=(r?1:-1)*(t.end.row-t.start.row),s=(r?1:-1)*(t.end.column-t.start.column),a=t.start,l=r?a:t.end;return e(n,a,i)?{row:n.row,column:n.column}:e(l,n,!i)?{row:n.row+o,column:n.column+(n.row==l.row?s:0)}:{row:a.row,column:a.column}}n.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(r.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./apply_delta").applyDelta,r=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=e("./anchor").Anchor,a=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){n.implement(this,r),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();e===undefined?e=n:e<0?e=0:e>=n&&(e=n-1,t=undefined);var i=this.getLine(e);return t==undefined&&(t=i.length),t=Math.min(Math.max(t,0),i.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,s=n?this.getLine(r).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new o(r,s,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);return t?this.insert(e.start,t):e.start},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),i(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length,r=e.start.row,o=e.start.column,s=0,a=0;;){s=a,a+=t-1;var l=n.slice(s,a);if(a>i){e.lines=l,e.start.row=r+s,e.start.column=o;break}l.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:e.action,lines:l},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,o=n.length;r<o;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)r+=n[s].length+i;return r+e.column}}).call(a.prototype),t.Document=a}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,r=function(e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,n=t.currentLine,i=-1,r=t.doc,o=n;t.lines[n];)n++;var s=r.getLength(),a=0;for(t.running=!1;n<s;){t.$tokenizeRow(n),i=n;do{n++}while(t.lines[n]);if(++a%5==0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n,o<=i&&t.fireUpdateEvent(o,i)}}};(function(){n.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(r.prototype),t.BackgroundTokenizer=r}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){"use strict";var n=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),r=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,r,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;l<=a;l++){var c=this.cache[l];null==c&&(c=n.getMatchOffsets(r.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new i(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(r),this.clazz,o)}}}).call(r.prototype),t.SearchHighlight=r}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t){"use strict";function n(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var i=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,o,s=0,a=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<a.length;c++){if(i=a[c],-1==(r=i.range.compareStart(t,n)))return void e(null,t,n,s,l);if(o=e(null,i.start.row,i.start.column,s,l),(o=!o&&e(i.placeholder,i.start.row,i.start.column,s))||0===r)return;l=!i.sameRow,s=i.end.column}e(null,t,n,s,l)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(n=this.folds[r],-1==(i=n.range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){r=this.folds;var s=r.indexOf(i);for(0===s&&(this.start.column+=n),s;s<r.length;s++){if(i=r[s],i.start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var r=i.fold,o=this.folds,s=this.foldData,a=o.indexOf(r),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column,o=o.splice(a,o.length-a);var c=new n(s,o);return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(n.prototype),t.FoldLine=n}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("./range").Range,i=n.comparePoints,r=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});for(var n,r=t[0],o=1;o<t.length;o++){n=r,r=t[o];var s=i(n.end,r.start);s<0||(0!=s||n.isEmpty()||r.isEmpty())&&(i(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(o,1),e.push(r),r=n,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var o=[],s=i;s<r;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,n=e.end;else var n=e.start,t=e.end;for(var i=t.row,r=n.row,o=r-i,s=-t.column+n.column,a=this.ranges,l=0,c=a.length;l<c;l++){var u=a[l];if(!(u.end.row<i)){if(u.start.row>i)break;if(u.start.row==i&&u.start.column>=t.column&&(u.start.column==t.column&&this.$insertRight||(u.start.column+=s,u.start.row+=o)),u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$insertRight)continue;u.end.column==t.column&&s>0&&l<c-1&&u.end.column>u.start.column&&u.end.column==a[l+1].start.column&&(u.end.column-=s),u.end.column+=s,u.end.row+=o}}}if(0!=o&&l<c)for(;l<c;l++){var u=a[l];u.start.row+=o,u.end.row+=o}}}).call(r.prototype),t.RangeList=r}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t){"use strict";function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function i(e,t){n(e.start,t),n(e.end,t)}function r(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function o(e,t){r(e.start,t),r(e.end,t)}var s=(e("../range").Range,e("../range_list").RangeList),a=e("../lib/oop"),l=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};a.inherits(l,s),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new l(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);i(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,o=-1;r<this.subFolds.length&&1==(o=this.subFolds[r].range.compare(t,n));r++);var s=this.subFolds[r];if(0==o)return s.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,a=r,o=-1;a<this.subFolds.length&&1==(o=this.subFolds[a].range.compare(t,n));a++);this.subFolds[a];if(0==o)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(r,a-r,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return o(e,this.start)}}.call(l.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t){"use strict";function n(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o];if(s.range.contains(e,t)){if(1==n&&s.range.isEnd(e,t))continue;if(-1==n&&s.range.isStart(e,t))continue;return s}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var s=i[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=i[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(e)))break;if(2!=s){if(42==s)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){o=i.folds[a];var l=o.range.compareEnd(e,t);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,t-s.end.column):1==n?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0),i;i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0),i;i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?i-=t-a:i=0);break}s>=e&&(i-=a>=e?s-a:s-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,i=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column;if(!(a<c||a==c&&l<=u-2))throw new Error("The range has to be at least 2 characters width");var d=this.getFoldAt(a,l,1),h=this.getFoldAt(c,u,-1);if(d&&h==d)return d.addSubFold(n);d&&!d.range.isStart(a,l)&&this.removeFold(d),h&&!h.range.isEnd(c,u)&&this.removeFold(h);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){n.addSubFold(e)}));for(var f=0;f<i.length;f++){var g=i[f];if(c==g.start.row){g.addFold(n),s=!0;break}if(a==g.end.row){if(g.addFold(n),s=!0,!n.sameRow){var m=i[f+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return s||(g=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,o=t.folds;if(1==o.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);o=s.folds,o.shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),t)this.removeFolds(r);else for(var o=r;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);if(r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk(function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}},t,n),s},this.getDisplayLine=function(e,t,n,i){var r=this.getFoldLine(e);if(r)return this.getFoldDisplayLine(r,e,t,n,i);var o;return o=this.doc.getLine(e),o.substring(i||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new r(e,n)})},this.toggleFold=function(e){var t,n,i=this.selection,r=i.getRange();if(r.isEmpty()){var o=r.start;if(t=this.getFoldAt(o.row,o.column))return void this.expandFold(t);(n=this.findMatchingBracket(o))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(o.row,o.column)||r}else{var s=this.getFoldsInRange(r);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())return void this.expandFold(t);var a="...";if(!r.isMultiLine()){if(a=this.getTextRange(r),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),o=r.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var a=new i,l=new RegExp(o.type.replace(/\..*/,"\\."));if(1!=n){do{o=r.stepBackward()}while(o&&l.test(o.type));r.stepForward()}if(a.start.row=r.getCurrentTokenRow(),a.start.column=r.getCurrentTokenColumn()+2,r=new s(this,e,t),-1!=n){do{o=r.stepForward()}while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return a.end.row=r.getCurrentTokenRow(),a.end.column=r.getCurrentTokenColumn()+o.value.length-2,a}},this.foldAll=function(e,t,n){n==undefined&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength(),e=e||0;for(var r=e;r<t;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var o=this.getFoldWidgetRange(r);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){r=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=n)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!e||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=e)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement
;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,o=this.getFoldAt(e,-1===r?0:i.length,r);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var t=this.$toggleFoldWidget(e,{});if(!t){var n=this.getParentFoldRangeData(e,!0);if(t=n.range||n.firstRange){e=t.start.row;var i=this.getFoldAt(e,this.getLine(e).length,1);i?this.removeFold(i):this.addFold("...",t)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=e("../range").Range,r=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=n}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t){"use strict";function n(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],e);if(!a)return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(s[2],e);if(!a)return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do{a=s.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;c=a.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var d=c.charAt(l);if(d==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else d==e&&(o+=1);l+=1}do{a=s.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=n}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/lang"),r=e("./config"),o=e("./lib/event_emitter").EventEmitter,s=e("./selection").Selection,a=e("./mode/text").Mode,l=e("./range").Range,c=e("./document").Document,u=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,h=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++h.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new c(e)),this.setDocument(e),this.selection=new s(this),r.resetOptions(this),this.setMode(t),r._signal("session",this)};(function(){function e(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}n.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,o=e[r];if(t>o)n=r+1;else{if(!(t<o))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||e.ignore||(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t)o=i.length-1,r=this.getLine(e).length;else for(var o=0;o<i.length&&!((r+=i[o].value.length)>=t);o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){t===undefined&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new l(e,0,t,Infinity);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var r=/\s/;else var r=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(r));o++}for(var s=t;s<n.length&&n.charAt(s).match(r);)s++;return new l(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,r.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(n.addEventListener!==undefined){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new u(n);var r=this;this.bgTokenizer.addEventListener("update",function(e){r._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){r.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:Infinity,a=t.length,l=0;l<a;l++){if(l>s){if((l=o.end.row+1)>=a)break;o=this.$foldData[r++],s=o?o.start.row:Infinity}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=e.length-1;-1!=i;i--){var r=e[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=0;i<e.length;i++){var r=e[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function i(e){return t?"insert"!==e.action:"insert"===e.action}var r,o,s=e[0];i(s)?r=l.fromPoints(s.start,s.end):r=l.fromPoints(s.start,s.start);for(var a=1;a<e.length;a++)s=e[a],i(s)?(o=s.start,-1==r.compare(o.row,o.column)&&r.setStart(o),o=s.end,1==r.compare(o.row,o.column)&&r.setEnd(o),!0):(o=s.start,-1==r.compare(o.row,o.column)&&(r=l.fromPoints(s.start,s.start)),!1);if(null!=n){0===l.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var c=n.compareRange(r);1==c?r.setStart(n.start):-1==c&&r.setEnd(n.end)}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),o=l.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row,a=s?-e.end.column:e.start.column-e.end.column;a&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=a),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=a)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,i),r.length){var c=e.start,u=o.start,s=u.row-c.row,a=u.column-c.column;this.addFolds(r.map(function(e){return e=e.clone(),e.start.row==c.row&&(e.start.column+=a),e.end.row==c.row&&(e.end.column+=a),e.start.row+=s,e.end.row+=s,e}))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new l(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;s<i&&" "==o.charAt(s);++s);s<i&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){var i=this.getRowFoldStart(e+n);if(i<0)return 0;var r=i-e}else if(n>0){var i=this.getRowFoldEnd(t+n);if(i>this.doc.getLength()-1)return 0;var r=i-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var r=t-e+1}var o=new l(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(e){return e=e.clone(),e.start.row+=r,e.end.row+=r,e}),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+r,a),s.length&&this.addFolds(s),r},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,o=i.row,s=r.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=this.getFoldLine(r.row),d=0;if(u){u.addRemoveChars(r.row,r.column,i.column-r.column),u.shiftRow(-a);var h=this.getFoldLine(o);h&&h!==u&&(h.merge(u),u=h),d=c.indexOf(u)+1}for(d;d<c.length;d++){var u=c[d];u.start.row>=r.row&&u.shiftRow(-a)}s=o}else{var p=Array(a);p.unshift(o,0);var f=t?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,p);var c=this.$foldData,u=this.getFoldLine(o),d=0;if(u){var g=u.range.compareInside(i.row,i.column);0==g?(u=u.split(i.row,i.column))&&(u.shiftRow(a),u.addRemoveChars(s,0,r.column-i.column)):-1==g&&(u.addRemoveChars(o,0,r.column-i.column),u.shiftRow(a)),d=c.indexOf(u)+1}for(d;d<c.length;d++){var u=c[d];u.start.row>=o&&u.shiftRow(a)}}else{a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a);var u=this.getFoldLine(o);u&&u.addRemoveChars(o,i.column,a)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,i,r=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,a=this.$wrapLimit,l=e;for(t=Math.min(t,r.length-1);l<=t;)i=this.getFoldLine(l,i),i?(n=[],i.walk(function(e,t,i,o){var s;if(null!=e){s=this.$getDisplayTokens(e,n.length),s[0]=c;for(var a=1;a<s.length;a++)s[a]=h}else s=this.$getDisplayTokens(r[t].substring(o,i),n.length);n=n.concat(s)}.bind(this),i.end.row,r[i.end.row].length+1),s[i.start.row]=this.$computeWrapSplits(n,a,o),l=i.end.row+1):(n=this.$getDisplayTokens(r[l]),s[l]=this.$computeWrapSplits(n,a,o),l++)};var t=1,s=2,c=3,h=4,p=9,f=10,g=11,m=12;this.$computeWrapSplits=function(e,t,n){function i(){var t=0;if(0===y)return t;if(v)for(var i=0;i<e.length;i++){var r=e[i];if(r==f)t+=1;else{if(r!=g){if(r==m)continue;break}t+=n}}return d&&!1!==v&&(t+=n),Math.min(t,y)}function r(t){var n=e.slice(l,t),r=n.length;n.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),o.length||(b=i(),o.indent=b),u+=r,o.push(u),l=t}if(0==e.length)return[];for(var o=[],a=e.length,l=0,u=0,d=this.$wrapAsCode,v=this.$indentedSoftWrap,y=t<=Math.max(2*n,8)||!1===v?0:Math.floor(t/2),b=0;a-l>t-b;){var w=l+t-b;if(e[w-1]>=f&&e[w]>=f)r(w);else if(e[w]!=c&&e[w]!=h){for(var _=Math.max(w-(t-(t>>2)),l-1);w>_&&e[w]<c;)w--;if(d){for(;w>_&&e[w]<c;)w--;for(;w>_&&e[w]==p;)w--}else for(;w>_&&e[w]<f;)w--;w>_?r(++w):(w=l+t,e[w]==s&&w--,r(w-b))}else{for(w;w!=l-1&&e[w]!=c;w--);if(w>l){r(w);continue}for(w=l+t;w<e.length&&e[w]==h;w++);if(w==e.length)break;r(w)}}return o},this.$getDisplayTokens=function(n,i){var r,o=[];i=i||0;for(var a=0;a<n.length;a++){var l=n.charCodeAt(a);if(9==l){r=this.getScreenTabSize(o.length+i),o.push(g);for(var c=1;c<r;c++)o.push(m)}else 32==l?o.push(f):l>39&&l<48||l>57&&l<64?o.push(p):l>=4352&&e(l)?o.push(t,s):o.push(t)}return o},this.$getStringScreenWidth=function(t,n,i){if(0==n)return[0,0];null==n&&(n=Infinity),i=i||0;var r,o;for(o=0;o<t.length&&(r=t.charCodeAt(o),9==r?i+=this.getScreenTabSize(i):r>=4352&&e(r)?i+=2:i+=1,!(i>n));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:undefined},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var n,i,r=0,o=0,s=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var s=l[c],r=this.$docRowCache[c],d=e>l[u-1];else var d=!u;for(var h=this.getLength()-1,p=this.getNextFoldLine(r),f=p?p.start.row:Infinity;s<=e&&(a=this.getRowLength(r),!(s+a>e||r>=h));)s+=a,++r>f&&(r=p.end.row+1,p=this.getNextFoldLine(r,p),f=p?p.start.row:Infinity),d&&(this.$docRowCache.push(r),this.$screenRowCache.push(s));if(p&&p.start.row<=r)n=this.getFoldDisplayLine(p),r=p.start.row;else{if(s+a<=e||r>h)return{row:h,column:this.getLine(h).length};n=this.getLine(r),p=null}var g=0;if(this.$useWrapMode){var m=this.$wrapData[r];if(m){var v=Math.floor(e-s);i=m[v],v>0&&m.length&&(g=m.indent,o=m[v-1]||m[m.length-1],n=n.substring(o))}}return o+=this.$getStringScreenWidth(n,t-g)[1],this.$useWrapMode&&o>=i&&(o=i-1),p?p.idxToPosition(o):{row:r,column:o}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i=0,r=null,o=null;(o=this.getFoldAt(e,t,1))&&(e=o.start.row,t=o.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var a=l[c],i=this.$screenRowCache[c],d=e>l[u-1];else var d=!u;for(var h=this.getNextFoldLine(a),p=h?h.start.row:Infinity;a<e;){if(a>=p){if((s=h.end.row+1)>e)break;h=this.getNextFoldLine(s,h),p=h?h.start.row:Infinity}else s=a+1;i+=this.getRowLength(a),a=s,d&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var f="";h&&a>=p?(f=this.getFoldDisplayLine(h,e,t),r=h.start.row):(f=this.getLine(e).substring(0,t),r=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[r];if(m){for(var v=0;f.length>=m[v];)i++,v++;f=f.substring(m[v-1]||0,f.length),g=v>0?m.indent:0}}return{row:i,column:g+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=0,t=this.$foldData[r++],o=t?t.start.row:Infinity;i<n;){var s=this.$wrapData[i];e+=s?s.length+1:1,i++,i>o&&(i=t.end.row+1,t=this.$foldData[r++],o=t?t.start.row:Infinity)}else{e=this.getLength();for(var a=this.$foldData,r=0;r<a.length;r++)t=a[r],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];n||(n=Infinity),i=i||0;var r,o;for(o=0;o<t.length&&(r=t.charAt(o),!((i+="\t"===r?this.getScreenTabSize(i):e.getCharacterWidth(r))>n));o++);return[i,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(h.prototype),e("./edit_session/folding").Folding.call(h.prototype),e("./edit_session/bracket_match").BracketMatch.call(h.prototype),r.defineOptions(h.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=h}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){"use strict";function n(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}var i=e("./lib/lang"),r=e("./lib/oop"),o=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach(function(e,n,r){if(e.start)i=e;else{var s=e.offset+(r||0);if(i=new o(n,s,n,s+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start))return i=null,!1}return!0}),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var d=a.offset||0;d<=u;d++){for(var h=0;h<c;h++)if(-1==r[d+h].search(a[h]))continue e;var p=r[d],f=r[d+c-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[c-1])[0].length;l&&l.end.row===d&&l.end.column>g||(s.push(l=new o(d,g,d+c-1,m)),c>2&&(d=d+c-2))}}else for(var v=0;v<r.length;v++)for(var y=i.getMatchOffsets(r[v],a),h=0;h<y.length;h++){var b=y[h];s.push(new o(v,b.offset,v,b.offset+b.length))}if(n){for(var w=n.start.column,_=n.start.column,v=0,h=s.length-1;v<h&&s[v].start.column<w&&s[v].start.row==n.start.row;)v++;for(;v<h&&s[h].end.column>_&&s[h].end.row==n.end.row;)h--;for(s=s.slice(v,h+1),v=0,h=s.length;v<h;v++)s[v].start.row+=n.start.row,s[v].end.row+=n.start.row}return s},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r;if(t.$isMultiLine)var s=n.length,a=function(t,i,a){var l=t.search(n[0]);if(-1!=l){for(var c=1;c<s;c++)if(t=e.getLine(i+c),-1==t.search(n[c]))return;var u=t.match(n[s-1])[0].length,d=new o(i,l,i+s-1,u);return 1==n.offset?(d.start.row--,d.start.column=Number.MAX_VALUE):a&&(d.start.column+=a),!!r(d)||void 0}};else if(t.backwards)var a=function(e,t,o){for(var s=i.getMatchOffsets(e,n),a=s.length-1;a>=0;a--)if(r(s[a],t,o))return!0};else var a=function(e,t,o){for(var s=i.getMatchOffsets(e,n),a=0;a<s.length;a++)if(r(s[a],t,o))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){
r=e,l.forEach(a)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var r=e.needle;if(!e.needle)return e.re=!1;e.regExp||(r=i.escapeRegExp(r)),e.wholeWord&&(r=n(r,e));var o=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(r),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(r,o);try{var s=new RegExp(r,o)}catch(e){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(e){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(e,t){var n=1==t.backwards,i=0!=t.skipCurrent,r=t.range,o=t.start;o||(o=r?r[n?"end":"start"]:e.selection.getRange()),o.start&&(o=o[i!=n?"end":"start"]);var s=r?r.start.row:0,a=r?r.end.row:e.getLength()-1;return{forEach:n?function(n){var i=o.row;if(!n(e.getLine(i).substring(0,o.column),i)){for(i--;i>=s;i--)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=a,s=o.row;i>=s;i--)if(n(e.getLine(i),i))return}}:function(n){var i=o.row;if(!n(e.getLine(i).substr(o.column),i,o.column)){for(i+=1;i<=a;i++)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=s,a=o.row;i<=a;i++)if(n(e.getLine(i),i))return}}}}}).call(s.prototype),t.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t){"use strict";function n(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function i(e,t){n.call(this,e,t),this.$singleCommand=!1}var r=e("../lib/keys"),o=e("../lib/useragent"),s=r.KEY_MODS;i.prototype=n.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==e)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(n==undefined&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach(function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")},this),i+=" "}var o=this.parseKeys(e),a=s[o.hashId]+o.key;this._addCommandToBinding(i+a,t,n)},this)},this._addCommandToBinding=function(t,n,i){var r,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(r=o[t].indexOf(n))&&o[t].splice(r,1):o[t]=[o[t]],"number"!=typeof i&&(i=i||n.isDefault?-100:e(n));var s=o[t];for(r=0;r<s.length;r++){var a=s[r],l=e(a);if(l>i)break}s.splice(r,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=r.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=s[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=s[t]+n,o=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:o}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(n.prototype),t.HashHandler=n,t.MultiHashHandler=i}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,r=e("../lib/event_emitter").EventEmitter,o=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(o,i),function(){n.implement(this,r),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t){"use strict";function n(e,t){return{win:e,mac:t}}var i=e("../lib/lang"),r=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","F4"),exec:function(e){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:n("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()),l=a.replace(/\n\s*/," ").length,c=e.session.doc.getLine(n.row),u=n.row+1;u<=r.row+1;u++){var d=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(u)));0!==d.length&&(d=" "+d),c+=d}r.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),c),l>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+l)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===t&&i[s].end.column===n||r.push(new o(i[s].end.row,i[s].end.column,t,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./lib/lang"),o=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,a=e("./mouse/mouse_handler").MouseHandler,l=e("./mouse/fold_handler").FoldHandler,c=e("./keyboard/keybinding").KeyBinding,u=e("./edit_session").EditSession,d=e("./search").Search,h=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,f=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,m=e("./config"),v=e("./token_iterator").TokenIterator,y=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new f(o.isMac?"mac":"win",g),this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new c(this),this.$mouseHandler=new a(this),new l(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new u("")),m.resetOptions(this),m._signal("editor",this)};(function(){n.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&this.curOp.command.scrollIntoView!==undefined&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;m.loadModule(["keybinding",e],function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var i=new h(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var i=t.$mode.getMatching(e.session);i&&(t.$bracketHighlight=t.addMarker(i,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new v(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,s=0,a=i.stepBackward();if("<"==a.value){do{a=r,(r=i.stepForward())&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--)}while(r&&s>=0)}else{do{r=a,a=i.stepBackward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--)}while(a&&s<=0);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=i.getCurrentTokenRow(),c=i.getCurrentTokenColumn(),u=new h(l,c,l,c+r.value.length),d=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&d!=undefined&&0!==u.compareRange(d.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),u&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:Infinity;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){
this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(m.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new h(e.row,e.column,e.row,Infinity);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var t=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(t,"ace_selection",n)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,i=t.end.column+1,r=e.getLine(t.start.row),o=r.length,s=r.substring(Math.max(n,0),Math.min(i,o));if(!(n>=0&&/^[\w\d]/.test(s)||i<=o&&/[\w\d]$/.test(s))&&(s=r.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(s))){return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s})}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var r=i.length;r--;){var o=i[r];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[r])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(r.row),"insertion",this,n,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new h.fromPoints(r,r);s.end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),a=n.getLine(r.row),d=i.checkOutdent(u,a,e);n.insert(r,e);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new h(r.row,c+o.selection[0],r.row,c+o.selection[1])):this.selection.setSelectionRange(new h(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(e)){var p=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},p)}d&&i.autoOutdent(u,n,r.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new h(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new h(e.row,t-2,e.row,t)),this.session.replace(i,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"\t")}if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"\t")}}var o=e.getLine(t.start.row),s=t.start,a=e.getTabSize(),l=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var c=a-l%a,u=r.stringRepeat(" ",c);else{for(var c=l%a;" "==o[t.start.column-1]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),u="\t"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var i=new h(0,0,0,0),r=e.first;r<=e.last;r++){var o=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t){return{value:r[0],start:r.index,end:r.index+r[0].length}}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new h(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),s!==o.end&&n<s?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),l+=e,l/=Math.pow(10,a);var c=l.toFixed(a),u=new h(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var d=u;s[u].moveBy(a,0),n=this.$getSelectedRows(s[u]);for(var h=n.first,p=n.last;++u<c;){l&&s[u].moveBy(l,0);var f=this.$getSelectedRows(s[u]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(u--,a=this.session.$moveLines(h,p,t?0:e),t&&-1==e&&(d=u+1);d<=u;)s[d].moveBy(a,0),d++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,!0===t?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new v(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(d[o.value[u]])switch(a=d[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===r.value?c[o.value]++:"</"===r.value&&c[o.value]--,-1===c[o.value]&&(s="tag",l=!0));l||(r=o,o=i.stepForward(),u=0)}while(o&&!l);if(s){var p,f;if("bracket"===s)(p=this.session.getBracketRange(n))||(p=new h(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1),f=p.start,(t||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(p=this.session.getBracketRange(f)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(p=new h(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2),0===p.compare(n.row,n.column)){l=!1;do{o=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&p.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?c[g]++:"</"===r.value&&c[g]--,0===c[g]&&(l=!0)))}while(r&&!l)}o&&o.type.indexOf("tag-name")&&(f=p.start,f.row==n.row&&Math.abs(f.column-n.column)<2&&(f=p.end))}f=p&&p.cursor||f,f&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var r=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(r)||this.$search.$options.needle,e||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,i),o):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",function(){i=!0}),s=this.renderer.on("beforeRender",function(){i&&(t=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;i=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null,null!=i&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(y.prototype),m.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=y}),ace.define("ace/undomanager",["require","exports","module"],function(e,t){"use strict";var n=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++){for(var r=e[i],o={group:r.group,deltas:new Array(r.length)},s=0;s<r.deltas.length;s++){var a=r.deltas[s];o.deltas[s]=t(a)}n[i]=o}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(n.prototype),t.UndoManager=n}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/dom"),i=e("../lib/oop"),r=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,s=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,o=this.$annotations[i];o||(o=this.$annotations[i]={text:[]});var s=n.text;s=s?r.escapeHTML(s):n.html||"",-1===o.text.indexOf(s)&&o.text.push(s);var a=n.type;"error"==a?o.className=" ace_error":"warning"==a&&" ace_error"!=o.className?o.className=" ace_warning":"info"!=a||o.className||(o.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){for(var t=this.session,i=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),o=t.getNextFoldLine(i),s=o?o.start.row:Infinity,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,u=t.$firstLineNumber,d=0,h=t.gutterRenderer||this.$renderer,p=null,f=-1,g=i;;){if(g>s&&(g=o.end.row+1,o=t.getNextFoldLine(g,o),s=o?o.start.row:Infinity),g>r){for(;this.$cells.length>f+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}p=this.$cells[++f],p||(p={element:null,textNode:null,foldWidget:null},p.element=n.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[f]=p);var m="ace_gutter-cell ";l[g]&&(m+=l[g]),c[g]&&(m+=c[g]),this.$annotations[g]&&(m+=this.$annotations[g].className),p.element.className!=m&&(p.element.className=m);var v=t.getRowLength(g)*e.lineHeight+"px";if(v!=p.element.style.height&&(p.element.style.height=v),a){var y=a[g];null==y&&(y=a[g]=t.getFoldWidget(g))}if(y){p.foldWidget||(p.foldWidget=n.createElement("span"),p.element.appendChild(p.foldWidget));var m="ace_fold-widget ace_"+y;"start"==y&&g==s&&g<o.end.row?m+=" ace_closed":m+=" ace_open",p.foldWidget.className!=m&&(p.foldWidget.className=m);var v=e.lineHeight+"px";p.foldWidget.style.height!=v&&(p.foldWidget.style.height=v)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var b=d=h?h.getText(t,g):g+u;b!=p.textNode.data&&(p.textNode.data=b),g++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(d=t.getLength()+u);var w=h?h.getWidth(t,d,e):d.toString().length*e.characterWidth,_=this.$padding||this.$computePadding();(w+=_.left+_.right)===this.gutterWidth||isNaN(w)||(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(s.prototype),t.Gutter=s}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t){"use strict";var n=e("../range").Range,i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,i){return(e?1:0)|(t?2:0)|(n?4:0)|(i?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,e),s=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,s,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,i,r,o,s){for(var a=this.session,l=i.start.row,c=i.end.row,u=l,d=0,h=0,p=a.getScreenLastRowColumn(u),f=new n(u,i.start.column,u,h);u<=c;u++)f.start.row=f.end.row=u,f.start.column=u==l?i.start.column:a.getRowWrapIndent(u),
f.end.column=p,d=h,h=p,p=u+1<c?a.getScreenLastRowColumn(u+1):u==c?0:i.end.column,this.drawSingleLineMarker(t,f,r+(u==l?" ace_start":"")+" ace_br"+e(u==l||u==l+1&&i.start.column,d<h,h>p,u==c),o,u==c?0:1,s)},this.drawMultiLineMarker=function(e,t,n,i,r){var o=this.$padding,s=i.lineHeight,a=this.$getTop(t.start.row,i),l=o+t.start.column*i.characterWidth;r=r||"",e.push("<div class='",n," ace_br1 ace_start' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",l,"px;",r,"'></div>"),a=this.$getTop(t.end.row,i);var c=t.end.column*i.characterWidth;if(e.push("<div class='",n," ace_br12' style='","height:",s,"px;","width:",c,"px;","top:",a,"px;","left:",o,"px;",r,"'></div>"),!((s=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var u=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,u?" ace_br"+u:"","' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",o,"px;",r,"'></div>")}},this.drawSingleLineMarker=function(e,t,n,i,r,o){var s=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",o||"","'></div>")},this.drawFullLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,i)-o),e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")}}).call(r.prototype),t.Marker=r}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("../lib/dom"),r=e("../lib/lang"),o=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){n.implement(this,o),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+r.stringRepeat(this.TAB_CHAR,n)+"</span>"):t.push(r.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",o="",s="";if(this.showInvisibles){i+=" ace_invisible",o=" ace_invisible_space",s=" ace_invisible_tab";var a=r.stringRepeat(this.SPACE_CHAR,this.tabSize),l=r.stringRepeat(this.TAB_CHAR,this.tabSize)}else var a=r.stringRepeat(" ",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+i+o+"'>"+a+"</span>",this.$tabStrings["\t"]="<span class='"+i+s+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e),this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<i;a++){var l=this.session.getFoldLine(a);if(l){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var a=i,l=this.session.getNextFoldLine(a),c=l?l.start.row:Infinity;;){if(a>c&&(a=l.end.row+1,l=this.session.getNextFoldLine(a,l),c=l?l.start.row:Infinity),a>r)break;var u=o[s++];if(u){var d=[];this.$renderLine(d,a,!this.$useLineGroups(),a==c&&l),u.style.height=e.lineHeight*this.session.getRowLength(a)+"px",u.innerHTML=d.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var r=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(e.lastRow>t.lastRow){var r=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(e,t,n){for(var r=this.element.ownerDocument.createDocumentFragment(),o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:Infinity;;){if(o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:Infinity),o>n)break;var l=i.createElement("div"),c=[];if(this.$renderLine(c,o,!1,o==a&&s),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",r.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)r.appendChild(l.firstChild);o++}return r},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,i=e.lastRow,r=n,o=this.session.getNextFoldLine(r),s=o?o.start.row:Infinity;;){if(r>s&&(r=o.end.row+1,o=this.session.getNextFoldLine(r,o),s=o?o.start.row:Infinity),r>i)break;this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(t,r,!1,r==s&&o),this.$useLineGroups()&&t.push("</div>"),r++}this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){var o=this,s=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(e,n,i,s){if(n)return o.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+r.stringRepeat(o.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("\t"==e){var a=o.session.getScreenTabSize(t+s);return t+=a-1,o.$tabStrings[a]}if("\u3000"==e){var l=o.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",c=o.showInvisibles?o.SPACE_CHAR:"";return t+=1,"<span class='"+l+"' style='width:"+2*o.config.characterWidth+"px'>"+c+"</span>"}return i?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+o.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*o.config.characterWidth+"px'>"+e+"</span>")},l=i.replace(s,a);if(this.$textToken[n.type])e.push(l);else{var c="ace_"+n.type.replace(/\./g," ace_"),u="";"fold"==n.type&&(u=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",c,"'",u,">",l,"</span>")}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);return i<=0||i>=n?t:" "==t[0]?(i-=i%this.tabSize,e.push(r.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),t.substr(i)):"\t"==t[0]?(e.push(r.stringRepeat(this.$tabStrings["\t"],i)),t.substr(i)):t},this.$renderWrappedLine=function(e,t,n,i){for(var o=0,s=0,a=n[0],l=0,c=0;c<t.length;c++){var u=t[c],d=u.value;if(0==c&&this.displayIndentGuides){if(o=d.length,!(d=this.renderIndentGuide(e,d,a)))continue;o-=d.length}if(o+d.length<a)l=this.$renderToken(e,l,u,d),o+=d.length;else{for(;o+d.length>=a;)l=this.$renderToken(e,l,u,d.substring(0,a-o)),d=d.substring(a-o),o=a,i||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(r.stringRepeat("\xa0",n.indent)),s++,l=0,a=n[s]||Number.MAX_VALUE;0!=d.length&&(o+=d.length,l=this.$renderToken(e,l,u,d))}}},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var o=1;o<t.length;o++)i=t[o],r=i.value,n=this.$renderToken(e,n,i,r)},this.$renderLine=function(e,t,n,i){if(i||0==i||(i=this.session.getFoldLine(t)),i)var r=this.$getFoldLineTokens(t,i);else var r=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),r.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,r,o,n):this.$renderSimpleLine(e,r)}this.showInvisibles&&(i&&(t=i.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var i=0,o=0;o+e[i].value.length<t;)if(o+=e[i].value.length,++i==e.length)return;if(o!=t){var s=e[i].value.substring(t-o);s.length>n-t&&(s=s.substring(0,n-t)),r.push({type:e[i].type,value:s}),o=t+s.length,i+=1}for(;o<n&&i<e.length;){var s=e[i].value;s.length+o>n?r.push({type:e[i].type,value:s.substring(0,n-o)}):r.push(e[i]),o+=s.length,i+=1}}var i=this.session,r=[],o=i.getTokens(e);return t.walk(function(e,t,s,a,l){null!=e?r.push({type:"fold",value:e}):(l&&(o=i.getTokens(t)),o.length&&n(o,a,s))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(s.prototype),t.Text=s}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";var n,i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),n===undefined&&(n=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(n?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||n||(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+n.column*this.config.characterWidth,top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;t!==undefined&&0!==t.length||(t=[{cursor:null}]);for(var n=0,r=t.length;n<r;n++){var o=this.getPixelPosition(t[n].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&n>1)){var s=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,o,e,t[n],this.session):(s.left=o.left+"px",s.top=o.top+"px",s.width=e.characterWidth+"px",s.height=e.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),t.Cursor=r}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,s=32768,a=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)};(function(){n.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};n.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>s?(this.coeff=s/e,e=s):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t){"use strict";var n=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;n.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t){var n=e("../lib/oop"),i=e("../lib/dom"),r=e("../lib/lang"),o=e("../lib/useragent"),s=e("../lib/event_emitter").EventEmitter,a=0,l=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),a||this.$testFractionalRect(),this.$measureNode.innerHTML=r.stringRepeat("X",a),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){n.implement(this,s),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=i.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;a=t>0&&t<1?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",o.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===a){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var t={height:e.height,width:e.width/a}}else var t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/a};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.innerHTML=r.stringRepeat(e,a),this.$main.getBoundingClientRect().width/a},this.getCharacterWidth=function(e){var t=this.charSizes[e];return t===undefined&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(l.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t){"use strict";var n=e("./lib/oop"),i=e("./lib/dom"),r=e("./config"),o=e("./lib/useragent"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,h=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,f=e("./lib/event_emitter").EventEmitter
;i.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}',"ace_editor.css");var g=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!o.isOldIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var f=this.$textLayer=new l(this.content);this.canvas=f.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var r=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return i&&(e||o.height!=i)&&(o.height=i,r|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(e||o.width!=n)&&(r|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(r|=this.CHANGE_FULL)),o.$dirty=!n||!i,r&&this._signal("resize",s),r},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var i=this.textarea.style,r=this.lineHeight;if(t<0||t>e.height-r)return void(i.top=i.left="0");var o=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(s)[0]+2,r+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,i.height=r+"px",i.width=o+"px",i.left=Math.min(n,this.$size.scrollerWidth-o)+"px",i.top=Math.min(t,this.$size.height-r)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return void(this.$changes|=e);if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender"))},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength(),r=i*this.lineHeight,o=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-o-2*this.$padding<0),a=this.$horizScroll!==s;a&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var l=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var c=this.scrollTop%this.lineHeight,u=t.scrollerHeight+this.lineHeight,d=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=d;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,r-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,o+2*this.$padding-t.scrollerWidth+h.right)));var p=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+d<0||this.scrollTop>h.top),f=l!==p;f&&(this.$vScroll=p,this.scrollBarV.setVisible(p));var g,m,v=Math.ceil(u/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),b=y+v,w=this.lineHeight;y=e.screenToDocumentRow(y,0);var _=e.getFoldLine(y);_&&(y=_.start.row),g=e.documentToScreenRow(y,0),m=e.getRowLength(y)*w,b=Math.min(e.screenToDocumentRow(b,0),e.getLength()-1),u=t.scrollerHeight+e.getRowLength(b)*w+m,c=this.scrollTop-g*w;var C=0;return this.layerConfig.width!=o&&(C=this.CHANGE_H_SCROLL),(a||f)&&(C=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),f&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:y,firstRowScreen:g,lastRow:b,lineHeight:w,characterWidth:this.characterWidth,minHeight:u,maxHeight:r,offset:c,gutterOffset:w?Math.max(0,Math.ceil((c+t.height-t.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},C},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===Infinity?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&l+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,i=this.STEPS,r=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<i;++n)r.push(o(n/this.STEPS,e,t-e));return r},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}),o=r.top;t&&(o-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(o),!1!==n&&this.animateScrolling(s,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval(function(){o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},
this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),o=Math.round(i);return{row:r,column:o,side:i-o>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+Math.round(i.column*this.characterWidth),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(o.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.importCssString(n.cssText,n.cssClass,o.container.ownerDocument),o.theme&&i.removeCssClass(o.container,o.theme.cssClass);var r="padding"in n?n.padding:"padding"in(o.theme||{})?4:o.$padding;o.$padding&&r!=o.$padding&&o.setPadding(r),o.$theme=n.cssClass,o.theme=n,i.addCssClass(o.container,n.cssClass),i.setCssClass(o.container,"ace_dark",n.isDark),o.$size&&(o.$size.width=0,o.$updateSizeAsync()),o._dispatchEvent("themeLoaded",{theme:n}),t&&t()}var o=this;if(this.$themeId=e,o._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var s=e||this.$options.theme.initialValue;r.loadModule(["theme",s],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),r.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=g}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("../lib/net"),r=e("../lib/event_emitter").EventEmitter,o=e("../config"),s=function(t,n,i,r){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),o.get("packaged")||!e.toUrl)r=r||o.moduleUrl(n,"worker");else{var s=this.$normalizePath;r=r||s(e.toUrl("ace/worker/worker.js",null,"_"));var a={};t.forEach(function(t){a[t]=s(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(r)}catch(e){if(!(e instanceof window.DOMException))throw e;var l=this.$workerBlob(r),c=window.URL||window.webkitURL,u=c.createObjectURL(l);this.$worker=new Worker(u),c.revokeObjectURL(u)}this.$worker.postMessage({init:!0,tlns:a,module:n,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,r),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new n;return r.append(t),r.getBlob("application/javascript")}}}).call(s.prototype);var a=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,s=!1,a=Object.create(r),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),i&&(s?setTimeout(c):c())},this.setEmitSync=function(e){s=e};var c=function(){var e=l.messageBuffer.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};a.postMessage=function(e){l.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],function(e){for(i=new e[n](a);l.messageBuffer.length;)c()})};a.prototype=s.prototype,t.UIWorkerClient=a,t.WorkerClient=s}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t){"use strict";var n=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,r=e("./lib/oop"),o=function(e,t,n,i,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,i),this.setup=function(){var e=this,t=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=i.addMarker(new n(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var i="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=i),r&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};this.doc.insertMergedLines(l,e.lines)}else if("remove"===e.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};this.doc.remove(new n(l.row,l.column,l.row,l.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,i=function(i,r){t.removeMarker(i.markerId),i.markerId=t.addMarker(new n(i.row,i.column,i.row,i.column+e.length),r,null,!1)};i(this.pos,this.mainClass);for(var r=this.others.length;r--;)i(this.others[r],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t){function n(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent,i=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&o.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)return void e.editor.textInput.onContextMenu(e.domEvent);if(!a&&!i&&!l)return void(0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());if(0===c){var u,d=e.editor,h=d.selection,p=d.inMultiSelectMode,f=e.getDocumentPosition(),g=h.getCursor(),m=e.inSelection()||h.isEmpty()&&n(f,g),v=e.x,y=e.y,b=function(e){v=e.clientX,y=e.clientY},w=d.session,_=d.renderer.pixelToScreenCoordinates(v,y),C=_;if(d.$mouseHandler.$enableJumpToDef)a&&i||l&&i?u=s?"block":"add":i&&d.$blockSelectEnabled&&(u="block");else if(l&&!i){if(u="add",!p&&s)return}else i&&d.$blockSelectEnabled&&(u="block");if(u&&o.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&m)return;if(!p){var A=h.toOrientedRange();d.addSelectionMarker(A)}var S=h.rangeList.rangeAtPoint(f);d.$blockScrolling++,d.inVirtualSelectionMode=!0,s&&(S=null,A=h.ranges[0]||A,d.removeSelectionMarker(A)),d.once("mouseup",function(){var e=h.toOrientedRange();S&&e.isEmpty()&&n(S.cursor,e.cursor)?h.substractPoint(e.cursor):(s?h.substractPoint(A.cursor):A&&(d.removeSelectionMarker(A),h.addRange(A)),h.addRange(e)),d.$blockScrolling--,d.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),d.inVirtualSelectionMode=!0;var $,x=[],k=function(){var e=d.renderer.pixelToScreenCoordinates(v,y),t=w.screenToDocumentPosition(e.row,e.column);n(C,e)&&n(t,h.lead)||(C=e,d.$blockScrolling++,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(x),x=h.rectangularRangeBlock(C,_),d.$mouseHandler.$clickSelection&&1==x.length&&x[0].isEmpty()&&(x[0]=d.$mouseHandler.$clickSelection.clone()),x.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers(),d.$blockScrolling--)};d.$blockScrolling++,p&&!l?h.toSingleRange():!p&&l&&($=h.toOrientedRange(),d.addSelectionMarker($)),s?_=w.documentToScreenPosition(h.lead):h.moveToPosition(f),d.$blockScrolling--,C={row:-1,column:-1};var E=function(){clearInterval(F),d.removeSelectionMarkers(x),x.length||(x=[h.toOrientedRange()]),d.$blockScrolling++,$&&(d.removeSelectionMarker($),h.toSingleRange($));for(var e=0;e<x.length;e++)h.addRange(x[e]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null,d.$blockScrolling--},P=k;r.capture(d.container,b,E);var F=setInterval(function(){P()},20);return e.preventDefault()}}}var r=e("../lib/event"),o=e("../lib/useragent");t.onMouseDown=i}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t){function n(e,t,n){return f.$options.wrap=!0,f.$options.needle=t,f.$options.backwards=-1==n,f.find(e)}function i(e,t){return e.row==t.row&&e.column==t.column}function r(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",c),e.commands.addCommands(h.defaultCommands),o(e))}function o(e){function t(){i&&(e.renderer.setMouseCursor(""),i=!1)}var n=e.textInput.getElement(),i=!1;u.addListener(n,"keydown",function(n){var r=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);e.$blockSelectEnabled&&r?i||(e.renderer.setMouseCursor("crosshair"),i=!0):i&&t()}),u.addListener(n,"keyup",t),u.addListener(n,"blur",t)}var s=e("./range_list").RangeList,a=e("./range").Range,l=e("./selection").Selection,c=e("./mouse/multi_select_handler").onMouseDown,u=e("./lib/event"),d=e("./lib/lang"),h=e("./commands/multi_select_commands");t.commands=h.defaultCommands.concat(h.multiSelectCommands);var p=e("./search").Search,f=new p,g=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),i=this.isBackwards(),r=n.start.row,o=n.end.row;if(r==o){if(i)var s=n.end,l=n.start;else var s=n.start,l=n.end;return this.addRange(a.fromPoints(l,l)),void this.addRange(a.fromPoints(s,s))}var c=[],u=this.getLineRange(r,!0);u.start.column=n.start.column,c.push(u);for(var d=r+1;d<o;d++)c.push(this.getLineRange(d,!0));u=this.getLineRange(o,!0),u.end.column=n.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(i,r).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var s=e.column,l=t.column;else var s=t.column,l=e.column;var c=e.row<t.row;if(c)var u=e.row,d=t.row;else var u=t.row,d=e.row;s<0&&(s=0),u<0&&(u=0),u==d&&(n=!0);for(var h=u;h<=d;h++){var p=a.fromPoints(this.session.screenToDocumentPosition(h,s),this.session.screenToDocumentPosition(h,l));if(p.isEmpty()){if(f&&i(p.end,f))break;var f=p.end}p.cursor=o?p.start:p.end,r.push(p)}if(c&&r.reverse(),!n){for(var g=r.length-1;r[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;r[m].isEmpty();)m++;for(var v=g;v>=m;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(l.prototype);var m=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,o=1==n||n&&n.$byLines,s=this.session,a=this.selection,c=a.rangeList,u=(r?a:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=a._eventRegistry;a._eventRegistry={};var h=new l(s);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(o)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;h.fromOrientedRange(u[p]),h.index=p,this.selection=s.selection=h;var f=e.exec?e.exec(this,t||{}):e(this,t||{});i||f===undefined||(i=f),h.toOrientedRange(u[p])}h.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=d,a.mergeOverlappingRanges();var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();e=n.join(r),e.length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row==t.row&&this.session.$clipPositionToDocument(i.row,i.column).column==t.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,t.needle==undefined){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(r.row+e,r.column);if(n.isEmpty())var s=o;else var l=this.session.documentToScreenPosition(i?n.end:n.start),s=this.session.screenToDocumentPosition(l.row+e,l.column);if(i){var c=a.fromPoints(o,s);c.cursor=c.start}else{var c=a.fromPoints(s,o);c.cursor=c.end}if(c.desiredColumn=r.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;){var o=i[r];if(o.isEmpty()){var s=t.getWordRange(o.start.row,o.start.column);o.start.row=s.start.row,o.start.column=s.start.column,o.end.row=s.end.row,o.end.column=s.end.column}}n.mergeOverlappingRanges();for(var a=[],r=i.length;r--;){var o=i[r];a.unshift(t.getTextRange(o))}e<0?a.unshift(a.pop()):a.push(a.shift());for(var r=i.length;r--;){var o=i[r],s=o.clone();t.replace(o,a[r]),o.start.row=s.start.row,o.start.column=s.start.column}},this.selectMore=function(e,t,i){var r=this.session,o=r.multiSelect,s=o.toOrientedRange();if(!s.isEmpty()||(s=r.getWordRange(s.start.row,s.start.column),s.cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!i)){var a=r.getTextRange(s),l=n(r,a,e);l&&(l.cursor=-1==e?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,r=n.filter(function(e){if(e.cursor.row==i)return!0;i=e.cursor.row});if(n.length&&r.length!=n.length-1){r.forEach(function(e){t.substractPoint(e.cursor)});var o=0,s=Infinity,l=n.map(function(t){var n=t.cursor,i=e.getLine(n.row),r=i.substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>o&&(o=n.column),r<s&&(s=r),r});n.forEach(function(t,n){var i=t.cursor,r=o-i.column,c=l[n]-s;r>c?e.insert(i,d.stringRepeat(" ",r-c)):e.remove(new a(i.row,i.column,i.row,i.column-r+c)),t.start.column=t.end.column=o,t.start.row=t.end.row=i.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,h=c.end.row,p=u==h;if(p){var f,g=this.session.getLength();do{f=this.session.getLine(h)}while(/[=:]/.test(f)&&++h<g);do{f=this.session.getLine(u)}while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),h>=g&&(h=g-1)}var m=this.session.removeFullLines(u,h);m=this.$reAlignText(m,p),this.session.insert({row:u,column:0},m.join("\n")+"\n"),p||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return d.stringRepeat(" ",e)}function i(e){return e[2]?n(s)+e[2]+n(a-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function r(e){return e[2]?n(s+a-e[2].length)+e[2]+n(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function o(e){return e[2]?n(s)+e[2]+n(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var s,a,l,c=!0,u=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==s?(s=t[1].length,a=t[2].length,l=t[3].length,t):(s+a+l!=t[1].length+t[2].length+t[3].length&&(u=!1),s!=t[1].length&&(c=!1),s>t[1].length&&(s=t[1].length),a<t[2].length&&(a=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?i:c?u?r:i:o)}}).call(m.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),
t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=r,e("./config").defineOptions(m.prototype,"editor",{enableMultiselect:{set:function(e){r(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",c)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",c))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(e,t,i){var r=/\S/,o=e.getLine(t),s=o.search(r);if(-1!=s){for(var a=i||o.length,l=e.getLength(),c=t,u=t;++t<l;){var d=e.getLine(t).search(r);if(-1!=d){if(d<=s)break;u=t}}if(u>c){var h=e.getLine(u).length;return new n(c,a,u,h)}}},this.openingBracketBlock=function(e,t,i,r,o){var s={row:i,column:r+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,i,r){var o={row:i,column:r},s=e.$findOpeningBracket(t,o);if(s)return s.column++,o.column--,n.fromPoints(s,o)}}).call(i.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t){"use strict";function n(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var i=(e("./lib/oop"),e("./lib/dom"));e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var t=this.session.lineWidgets;t&&t.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,o=i.end.row,s="add"==e.action,a=r+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=undefined),n[o].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){var r=t.splice(n+1,i);r.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var o=new Array(i);o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);if(e.$fold=r,r){var o=this.session.lineWidgets;e.row!=r.end.row||o[r.start.row]?e.hidden=!0:o[r.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=Infinity,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=Infinity&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=r;s<=o;s++){var a=i[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(n.prototype),t.LineWidgets=n}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t){"use strict";function n(e,t,n){for(var i=0,r=e.length-1;i<=r;){var o=i+r>>1,s=n(t,e[o]);if(s>0)i=o+1;else{if(!(s<0))return o;r=o-1}}return-(i+1)}function i(e,t,i){var r=e.getAnnotations().sort(s.comparePoints);if(r.length){var o=n(r,{row:t,column:-1},s.comparePoints);o<0&&(o=-o-1),o>=r.length?o=i>0?0:r.length-1:0===o&&i<0&&(o=r.length-1);var a=r[o];if(a&&i){if(a.row===t){do{a=r[o+=i]}while(a&&a.row===t);if(!a)return r.slice()}var l=[];t=a.row;do{l[i<0?"unshift":"push"](a),a=r[o+=i]}while(a&&a.row==t);return l.length&&l}}}var r=e("../line_widgets").LineWidgets,o=e("../lib/dom"),s=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),a=s.row,l=n.widgetManager.getWidgetsAtRow(a).filter(function(e){return"errorMarker"==e.type})[0];l?l.destroy():a-=t;var c,u=i(n,a,t);if(u){var d=u[0];s.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,s.row=d.row,c=e.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var h={row:s.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},p=h.el.appendChild(o.createElement("div")),f=h.el.appendChild(o.createElement("div"));f.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(s).left;f.style.left=g+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(o.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return h.destroy(),{command:"null"}};h.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},o.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/dom"),i=e("./lib/event"),r=e("./editor").Editor,o=e("./edit_session").EditSession,s=e("./undomanager").UndoManager,a=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,"function"==typeof define&&(t.define=define),t.edit=function(e){if("string"==typeof e){var o=e;if(!(e=document.getElementById(o)))throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof r)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;s=l.value,e=n.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(s=n.getInnerText(e),e.innerHTML="");var c=t.createEditSession(s),u=new r(new a(e));u.setSession(c);var d={document:c,editor:u,onResize:u.resize.bind(u,null)};return l&&(d.textarea=l),i.addListener(window,"resize",d.onResize),u.on("destroy",function(){i.removeListener(window,"resize",d.onResize),d.editor.container.env=null}),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var n=new o(e,t);return n.setUndoManager(new s),n},t.EditSession=o,t.UndoManager=s,t.version="1.2.6"}),function(){ace.require(["ace/ace"],function(e){e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(e,t){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/mode/yaml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"list.markup",regex:/^(?:-{3}|\.{3})\s*(?=#|$)/},{token:"list.markup",regex:/^\s*[\-?](?:$|\s)/},{token:"constant",regex:"!![\\w//]+"},{token:"constant.language",regex:"[&\\*][a-zA-Z0-9-_]+"},{token:["meta.tag","keyword"],regex:/^(\s*\w.*?)(\:(?:\s+|$))/},{token:["meta.tag","keyword"],regex:/(\w+?)(\s*\:(?:\s+|$))/},{token:"keyword.operator",regex:"<<\\w*:\\w*"},{token:"keyword.operator",regex:"-\\s*(?=[{])"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"[|>][-+\\d\\s]*$",next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:/(\b|[+\-\.])[\d_]+(?:(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)/},{token:"constant.numeric",regex:/[+\-]?\.inf\b|NaN\b|0x[\dA-Fa-f_]+|0b[10_]+/},{token:"constant.language.boolean",regex:"(?:true|false|TRUE|FALSE|True|False|yes|no)\\b"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"}],qqstring:[{token:"string",regex:"(?=(?:(?:\\\\.)|(?:[^:]))*?:)",next:"start"},{token:"string",regex:".+"}]}};n.inherits(r,i),t.YamlHighlightRules=r}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t){"use strict";var n=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t),r=i.match(/^(\s*\})/);if(!r)return 0;var o=r[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new n(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(e,t){"use strict";var n=e("../../lib/oop"),i=e("./fold_mode").FoldMode,r=e("../../range").Range,o=t.FoldMode=function(){};n.inherits(o,i),function(){this.getFoldWidgetRange=function(e,t,n){var i=this.indentationBlock(e,n);if(i)return i;var o=/\S/,s=e.getLine(n),a=s.search(o);if(-1!=a&&"#"==s[a]){for(var l=s.length,c=e.getLength(),u=n,d=n;++n<c;){s=e.getLine(n);var h=s.search(o);if(-1!=h){if("#"!=s[h])break;d=n}}if(d>u){var p=e.getLine(d).length;return new r(u,l,d,p)}}},this.getFoldWidget=function(e,t,n){var i=e.getLine(n),r=i.search(/\S/),o=e.getLine(n+1),s=e.getLine(n-1),a=s.search(/\S/),l=o.search(/\S/);if(-1==r)return e.foldWidgets[n-1]=-1!=a&&a<l?"start":"","";if(-1==a){if(r==l&&"#"==i[r]&&"#"==o[r])return e.foldWidgets[n-1]="",e.foldWidgets[n+1]="","start"}else if(a==r&&"#"==i[r]&&"#"==s[r]&&-1==e.getLine(n-2).search(/\S/))return e.foldWidgets[n-1]="start",e.foldWidgets[n+1]="","";return e.foldWidgets[n-1]=-1!=a&&a<r?"start":"",r<l?"start":""}}.call(o.prototype)}),ace.define("ace/mode/yaml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/yaml_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("./text").Mode,r=e("./yaml_highlight_rules").YamlHighlightRules,o=e("./matching_brace_outdent").MatchingBraceOutdent,s=e("./folding/coffee").FoldMode,a=function(){this.HighlightRules=r,this.$outdent=new o,this.foldingRules=new s};n.inherits(a,i),function(){this.lineCommentStart="#",this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t);if("start"==e){t.match(/^.*[\{\(\[]\s*$/)&&(i+=n)}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.$id="ace/mode/yaml"}.call(a.prototype),t.Mode=a}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,r=function(){var e="[_:a-zA-Z\xc0-\uffff][-_:.a-zA-Z0-9\xc0-\uffff]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.xml-decl.xml","keyword.xml-decl.xml"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_decl",caseInsensitive:!0},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+e+")",next:"processing_instruction"},{token:"comment.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],xml_decl:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:"(?:"+e+":)?"+e},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],processing_instruction:[{token:"punctuation.instruction.xml",regex:"\\?>",next:"start"},{defaultToken:"instruction.xml"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+e+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+e+":)?"+e+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:"(?:"+e+":)?"+e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===r&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(i.prototype),n.inherits(r,i),t.XmlHighlightRules=r}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t){"use strict";function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}var i=e("../../lib/oop"),r=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,s=(e("../../lib/lang"),function(){this.add("string_dquotes","insertion",function(e,t,i,r,s){if('"'==s||"'"==s){var a=s,l=r.doc.getTextRange(i.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&i.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=i.getCursorPosition(),u=r.doc.getLine(c.row),d=u.substring(c.column,c.column+1),h=new o(r,c.row,c.column),p=h.getCurrentToken();if(d==a&&(n(p,"attribute-value")||n(p,"string")))return{text:"",selection:[1,1]};if(p||(p=h.stepBackward()),!p)return;for(;n(p,"tag-whitespace")||n(p,"whitespace");)p=h.stepBackward();var f=!d||d.match(/\s/);if(n(p,"attribute-equals")&&(f||">"==d)||n(p,"decl-attribute-equals")&&(f||"?"==d))return{text:a+a,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){if(i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o)return r.end.column++,r}}),this.add("autoclosing","insertion",function(e,t,i,r,s){if(">"==s){var a=i.getSelectionRange().start,l=new o(r,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(n(c,"tag-name")||n(c,"tag-whitespace")||n(c,"attribute-name")||n(c,"attribute-equals")||n(c,"attribute-value")))return;if(n(c,"reference.attribute-value"))return;if(n(c,"attribute-value")){var u=c.value.charAt(0);if('"'==u||"'"==u){var d=c.value.charAt(c.value.length-1),h=l.getCurrentTokenColumn()+c.value.length;if(h>a.column||h==a.column&&u!=d)return}}for(;!n(c,"tag-name");)if(c=l.stepBackward(),"<"==c.value){c=l.stepForward();break}var p=l.getCurrentTokenRow(),f=l.getCurrentTokenColumn();if(n(l.stepBackward(),"end-tag-open"))return;var g=c.value;if(p==a.row&&(g=g.substring(0,a.column-f)),this.voidElements.hasOwnProperty(g.toLowerCase()))return;return{text:"></"+g+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(e,t,n,i,r){if("\n"==r){var s=n.getCursorPosition(),a=i.getLine(s.row),l=new o(i,s.row,s.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,d=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var h=i.getTokenAt(s.row,s.column+1),a=i.getLine(d),p=this.$getIndent(a),f=p+i.getTabString();return h&&"</"===h.value?{text:"\n"+f+"\n"+p,selection:[1,f.length,1,f.length]}:{text:"\n"+f}}}}})});i.inherits(s,r),t.XmlBehaviour=s}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t){"use strict";function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}var i=e("../../lib/oop"),r=(e("../../lib/lang"),e("../../range").Range),o=e("./fold_mode").FoldMode,s=e("../../token_iterator").TokenIterator,a=t.FoldMode=function(e,t){o.call(this),this.voidElements=e||{},this.optionalEndTags=i.mixin({},this.voidElements),t&&i.mixin(this.optionalEndTags,t)};i.inherits(a,o);var l=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,n){var i=this._getFirstTagInLine(e,n);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"==t?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())?"":this._findEndTagInLine(e,n,i.tagName,i.end.column)?"":"start":""},this._getFirstTagInLine=function(e,t){for(var i=e.getTokens(t),r=new l,o=0;o<i.length;o++){var s=i[o];if(n(s,"tag-open")){if(r.end.column=r.start.column+s.value.length,r.closing=n(s,"end-tag-open"),s=i[++o],!s)return null;for(r.tagName=s.value,r.end.column+=s.value.length,o++;o<i.length;o++)if(s=i[o],r.end.column+=s.value.length,n(s,"tag-close")){r.selfClosing="/>"==s.value;break}return r}if(n(s,"tag-close"))return r.selfClosing="/>"==s.value,r;r.start.column+=s.value.length}return null},this._findEndTagInLine=function(e,t,i,r){for(var o=e.getTokens(t),s=0,a=0;a<o.length;a++){var l=o[a];if(!((s+=l.value.length)<r)&&n(l,"end-tag-open")&&(l=o[a+1])&&l.value==i)return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var i=new l;do{if(n(t,"tag-open"))i.closing=n(t,"end-tag-open"),i.start.row=e.getCurrentTokenRow(),i.start.column=e.getCurrentTokenColumn();else if(n(t,"tag-name"))i.tagName=t.value;else if(n(t,"tag-close"))return i.selfClosing="/>"==t.value,i.end.row=e.getCurrentTokenRow(),i.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),i}while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var i=new l;do{if(n(t,"tag-open"))return i.closing=n(t,"end-tag-open"),i.start.row=e.getCurrentTokenRow(),i.start.column=e.getCurrentTokenColumn(),e.stepBackward(),i;n(t,"tag-name")?i.tagName=t.value:n(t,"tag-close")&&(i.selfClosing="/>"==t.value,i.end.row=e.getCurrentTokenRow(),i.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(!t||n.tagName==t.tagName)return e.pop();{if(!this.optionalEndTags.hasOwnProperty(n.tagName))return null;e.pop()}}},this.getFoldWidgetRange=function(e,t,n){var i=this._getFirstTagInLine(e,n);if(!i)return null;var o,a=i.closing||i.selfClosing,l=[];if(a){for(var c=new s(e,n,i.end.column),u={row:n,column:i.start.column};o=this._readTagBackward(c);)if(o.selfClosing){if(!l.length)return o.start.column+=o.tagName.length+2,o.end.column-=2,r.fromPoints(o.start,o.end)}else if(o.closing)l.push(o);else if(this._pop(l,o),0==l.length)return o.start.column+=o.tagName.length+2,o.start.row==o.end.row&&o.start.column<o.end.column&&(o.start.column=o.end.column),r.fromPoints(o.start,u)}else{var c=new s(e,n,i.start.column),d={row:n,column:i.start.column+i.tagName.length+2};for(i.start.row==i.end.row&&(d.column=i.end.column);o=this._readTagForward(c);)if(o.selfClosing){if(!l.length)return o.start.column+=o.tagName.length+2,o.end.column-=2,r.fromPoints(o.start,o.end)}else if(o.closing){if(this._pop(l,o),0==l.length)return r.fromPoints(d,o.start)}else l.push(o)}}}).call(a.prototype)}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],function(e,t){"use strict";var n=e("../lib/oop"),i=e("../lib/lang"),r=e("./text").Mode,o=e("./xml_highlight_rules").XmlHighlightRules,s=e("./behaviour/xml").XmlBehaviour,a=e("./folding/xml").FoldMode,l=e("../worker/worker_client").WorkerClient,c=function(){
this.HighlightRules=o,this.$behaviour=new s,this.foldingRules=new a};n.inherits(c,r),function(){this.voidElements=i.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.createWorker=function(e){var t=new l(["ace"],"ace/mode/xml_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("error",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/xml"}.call(c.prototype),t.Mode=c}),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t){"use strict";var n=e("../lib/dom"),i=e("../lib/lang"),r=e("../lib/event"),o=e("../keyboard/hash_handler").HashHandler,s=e("../lib/keys");n.importCssString(".ace_search {background-color: #ddd;border: 1px solid #cbcbcb;border-top: 0 none;max-width: 325px;overflow: hidden;margin: 0;padding: 4px;padding-right: 6px;padding-bottom: 0;position: absolute;top: 0px;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {border-radius: 3px;border: 1px solid #cbcbcb;float: left;margin-bottom: 4px;overflow: hidden;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {background-color: white;border-right: 1px solid #cbcbcb;border: 0 none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;float: left;height: 22px;outline: 0;padding: 0 7px;width: 214px;margin: 0;}.ace_searchbtn,.ace_replacebtn {background: #fff;border: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;float: left;height: 22px;margin: 0;position: relative;}.ace_searchbtn:last-child,.ace_replacebtn:last-child {border-top-right-radius: 3px;border-bottom-right-radius: 3px;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn {background-position: 50% 50%;background-repeat: no-repeat;width: 27px;}.ace_searchbtn.prev {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    }.ace_searchbtn.next {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    }.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;float: right;font: 16px/16px Arial;height: 14px;margin: 5px 1px 9px 5px;padding: 0;text-align: center;width: 14px;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_replacebtn.prev {width: 54px}.ace_replacebtn.next {width: 27px}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;-moz-box-sizing: border-box;box-sizing:    border-box;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;}","ace_searchbox");var a='<div class="ace_search right">    <button type="button" action="hide" class="ace_searchbtn_close"></button>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>        <button type="button" action="findNext" class="ace_searchbtn next"></button>        <button type="button" action="findPrev" class="ace_searchbtn prev"></button>        <button type="button" action="findAll" class="ace_searchbtn" title="Alt-Enter">All</button>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>        <button type="button" action="replaceAndFindNext" class="ace_replacebtn">Replace</button>        <button type="button" action="replaceAll" class="ace_replacebtn">All</button>    </div>    <div class="ace_search_options">        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>    </div></div>'.replace(/>\s+/g,">"),l=function(e){var t=n.createElement("div");t.innerHTML=a,this.element=t.firstChild,this.$init(),this.setEditor(e)};(function(){this.setEditor=function(e){e.searchBox=this,e.container.appendChild(this.element),this.editor=e},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOptions=e.querySelector(".ace_search_options"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;r.addListener(e,"mousedown",function(e){setTimeout(function(){t.activeInput.focus()},0),r.stopPropagation(e)}),r.addListener(e,"click",function(e){var n=e.target||e.srcElement,i=n.getAttribute("action");i&&t[i]?t[i]():t.$searchBarKb.commands[i]&&t.$searchBarKb.commands[i].exec(t),r.stopPropagation(e)}),r.addCommandKeyListener(e,function(e,n,i){var o=s.keyCodeToString(i),a=t.$searchBarKb.findKeyCommand(n,o);a&&a.exec&&(a.exec(t),r.stopEvent(e))}),this.$onChange=i.delayedCall(function(){t.find(!1,!1)}),r.addListener(this.searchInput,"input",function(){t.$onChange.schedule(20)}),r.addListener(this.searchInput,"focus",function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()}),r.addListener(this.replaceInput,"focus",function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()})},this.$closeSearchBarKb=new o([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new o,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.searchInput.focus()},"Ctrl-H|Command-Option-F":function(e){e.replaceBox.style.display="",e.replaceInput.focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout(function(){e.hide()})},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}}]),this.$syncOptions=function(){n.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),n.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),n.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.find(!1,!1)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,i){var r=this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:i}),o=!r&&this.searchInput.value;n.setCssClass(this.searchBox,"ace_nomatch",o),this.editor._emit("findSearchBox",{match:!o}),this.highlight()},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),t=!e&&this.searchInput.value;n.setCssClass(this.searchBox,"ace_nomatch",t),this.editor._emit("findSearchBox",{match:!t}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.element.style.display="",this.replaceBox.style.display=t?"":"none",this.isReplace=t,e&&(this.searchInput.value=e),this.find(!1,!1,!0),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(l.prototype),t.SearchBox=l,t.Search=function(e,t){(e.searchBox||new l(e)).show(e.session.getTextRange(),t)}}),function(){ace.require(["ace/ext/searchbox"],function(){})}(),function(){function e(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}e.prototype.diff_main=function(e,t,n,i){if(void 0===i&&(i=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==e||null==t)throw Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===n&&(n=!0);var r=n,o=this.diff_commonPrefix(e,t);n=e.substring(0,o),e=e.substring(o),t=t.substring(o);var o=this.diff_commonSuffix(e,t),s=e.substring(e.length-o);return e=e.substring(0,e.length-o),t=t.substring(0,t.length-o),e=this.diff_compute_(e,t,r,i),n&&e.unshift([0,n]),s&&e.push([0,s]),this.diff_cleanupMerge(e),e},e.prototype.diff_compute_=function(e,t,n,i){if(!e)return[[1,t]];if(!t)return[[-1,e]];var r=e.length>t.length?e:t,o=e.length>t.length?t:e,s=r.indexOf(o);return-1!=s?(n=[[1,r.substring(0,s)],[0,o],[1,r.substring(s+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=-1),n):1==o.length?[[-1,e],[1,t]]:(r=this.diff_halfMatch_(e,t))?(o=r[0],e=r[1],s=r[2],t=r[3],r=r[4],o=this.diff_main(o,s,n,i),n=this.diff_main(e,t,n,i),o.concat([[0,r]],n)):n&&100<e.length&&100<t.length?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},e.prototype.diff_lineMode_=function(e,t,n){var i=this.diff_linesToChars_(e,t);e=i.chars1,t=i.chars2,i=i.lineArray,e=this.diff_main(e,t,!1,n),this.diff_charsToLines_(e,i),this.diff_cleanupSemantic(e),e.push([0,""]);for(var r=i=t=0,o="",s="";t<e.length;){switch(e[t][0]){case 1:r++,s+=e[t][1];break;case-1:i++,o+=e[t][1];break;case 0:if(1<=i&&1<=r){for(e.splice(t-i-r,i+r),t=t-i-r,i=this.diff_main(o,s,!1,n),r=i.length-1;0<=r;r--)e.splice(t,0,i[r]);t+=i.length}i=r=0,s=o=""}t++}return e.pop(),e},e.prototype.diff_bisect_=function(e,t,n){for(var i=e.length,r=t.length,o=Math.ceil((i+r)/2),s=o,a=2*o,l=Array(a),c=Array(a),u=0;u<a;u++)l[u]=-1,c[u]=-1;l[s+1]=0,c[s+1]=0;for(var u=i-r,d=0!=u%2,h=0,p=0,f=0,g=0,m=0;m<o&&!((new Date).getTime()>n);m++){for(var v=-m+h;v<=m-p;v+=2){var y,b=s+v;y=v==-m||v!=m&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1;for(var w=y-v;y<i&&w<r&&e.charAt(y)==t.charAt(w);)y++,w++;if(l[b]=y,y>i)p+=2;else if(w>r)h+=2;else if(d&&0<=(b=s+u-v)&&b<a&&-1!=c[b]){var _=i-c[b];if(y>=_)return this.diff_bisectSplit_(e,t,y,w,n)}}for(v=-m+f;v<=m-g;v+=2){for(b=s+v,_=v==-m||v!=m&&c[b-1]<c[b+1]?c[b+1]:c[b-1]+1,y=_-v;_<i&&y<r&&e.charAt(i-_-1)==t.charAt(r-y-1);)_++,y++;if(c[b]=_,_>i)g+=2;else if(y>r)f+=2;else if(!d&&0<=(b=s+u-v)&&b<a&&-1!=l[b]&&(y=l[b],w=s+y-b,_=i-_,y>=_))return this.diff_bisectSplit_(e,t,y,w,n)}}return[[-1,e],[1,t]]},e.prototype.diff_bisectSplit_=function(e,t,n,i,r){var o=e.substring(0,n),s=t.substring(0,i);return e=e.substring(n),t=t.substring(i),o=this.diff_main(o,s,!1,r),r=this.diff_main(e,t,!1,r),o.concat(r)},e.prototype.diff_linesToChars_=function(e,t){function n(e){for(var t="",n=0,o=-1,s=i.length;o<e.length-1;){o=e.indexOf("\n",n),-1==o&&(o=e.length-1);var a=e.substring(n,o+1),n=o+1;(r.hasOwnProperty?r.hasOwnProperty(a):void 0!==r[a])?t+=String.fromCharCode(r[a]):(t+=String.fromCharCode(s),r[a]=s,i[s++]=a)}return t}var i=[],r={};return i[0]="",{chars1:n(e),chars2:n(t),lineArray:i}},e.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var i=e[n][1],r=[],o=0;o<i.length;o++)r[o]=t[i.charCodeAt(o)];e[n][1]=r.join("")}},e.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r},e.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r},e.prototype.diff_commonOverlap_=function(e,t){var n=e.length,i=t.length;if(0==n||0==i)return 0;if(n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n)),n=Math.min(n,i),e==t)return n;for(var i=0,r=1;;){var o=e.substring(n-r),o=t.indexOf(o);if(-1==o)return i;r+=o,0!=o&&e.substring(n-r)!=t.substring(0,r)||(i=r,r++)}},e.prototype.diff_halfMatch_=function(e,t){function n(e,t,n){for(var i,r,o,a,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,u="";-1!=(c=t.indexOf(l,c+1));){var d=s.diff_commonPrefix(e.substring(n),t.substring(c)),h=s.diff_commonSuffix(e.substring(0,n),t.substring(0,c));u.length<h+d&&(u=t.substring(c-h,c)+t.substring(c,c+d),i=e.substring(0,n-h),r=e.substring(n+d),o=t.substring(0,c-h),a=t.substring(c+d))}return 2*u.length>=e.length?[i,r,o,a,u]:null}if(0>=this.Diff_Timeout)return null;var i=e.length>t.length?e:t,r=e.length>t.length?t:e;if(4>i.length||2*r.length<i.length)return null;var o,s=this,a=n(i,r,Math.ceil(i.length/4)),i=n(i,r,Math.ceil(i.length/2));if(!a&&!i)return null;o=i?a&&a[4].length>i[4].length?a:i:a;var l;return e.length>t.length?(a=o[0],i=o[1],r=o[2],l=o[3]):(r=o[0],l=o[1],a=o[2],i=o[3]),o=o[4],[a,i,r,l,o]},e.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],i=0,r=null,o=0,s=0,a=0,l=0,c=0;o<e.length;)0==e[o][0]?(n[i++]=o,s=l,a=c,c=l=0,r=e[o][1]):(1==e[o][0]?l+=e[o][1].length:c+=e[o][1].length,r&&r.length<=Math.max(s,a)&&r.length<=Math.max(l,c)&&(e.splice(n[i-1],0,[-1,r]),e[n[i-1]+1][0]=1,i--,i--,o=0<i?n[i-1]:-1,c=l=a=s=0,r=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;)-1==e[o-1][0]&&1==e[o][0]&&(t=e[o-1][1],n=e[o][1],i=this.diff_commonOverlap_(t,n),r=this.diff_commonOverlap_(n,t),i>=r?(i>=t.length/2||i>=n.length/2)&&(e.splice(o,0,[0,n.substring(0,i)]),e[o-1][1]=t.substring(0,t.length-i),e[o+1][1]=n.substring(i),o++):(r>=t.length/2||r>=n.length/2)&&(e.splice(o,0,[0,t.substring(0,r)]),e[o-1][0]=1,e[o-1][1]=n.substring(0,n.length-r),e[o+1][0]=-1,e[o+1][1]=t.substring(r),o++),o++),o++},e.prototype.diff_cleanupSemanticLossless=function(t){function n(t,n){if(!t||!n)return 6;var i=t.charAt(t.length-1),r=n.charAt(0),o=i.match(e.nonAlphaNumericRegex_),s=r.match(e.nonAlphaNumericRegex_),a=o&&i.match(e.whitespaceRegex_),l=s&&r.match(e.whitespaceRegex_),i=a&&i.match(e.linebreakRegex_),r=l&&r.match(e.linebreakRegex_),c=i&&t.match(e.blanklineEndRegex_),u=r&&n.match(e.blanklineStartRegex_);return c||u?5:i||r?4:o&&!a&&l?3:a||l?2:o||s?1:0}for(var i=1;i<t.length-1;){if(0==t[i-1][0]&&0==t[i+1][0]){var r=t[i-1][1],o=t[i][1],s=t[i+1][1],a=this.diff_commonSuffix(r,o);if(a)var l=o.substring(o.length-a),r=r.substring(0,r.length-a),o=l+o.substring(0,o.length-a),s=l+s;for(var a=r,l=o,c=s,u=n(r,o)+n(o,s);o.charAt(0)===s.charAt(0);){var r=r+o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1),d=n(r,o)+n(o,s);d>=u&&(u=d,a=r,l=o,c=s)}t[i-1][1]!=a&&(a?t[i-1][1]=a:(t.splice(i-1,1),i--),t[i][1]=l,c?t[i+1][1]=c:(t.splice(i+1,1),i--))}i++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],i=0,r=null,o=0,s=!1,a=!1,l=!1,c=!1;o<e.length;)0==e[o][0]?(e[o][1].length<this.Diff_EditCost&&(l||c)?(n[i++]=o,s=l,a=c,r=e[o][1]):(i=0,r=null),l=c=!1):(-1==e[o][0]?c=!0:l=!0,r&&(s&&a&&l&&c||r.length<this.Diff_EditCost/2&&3==s+a+l+c)&&(e.splice(n[i-1],0,[-1,r]),e[n[i-1]+1][0]=1,i--,r=null,s&&a?(l=c=!0,i=0):(i--,o=0<i?n[i-1]:-1,l=c=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},e.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,n=0,i=0,r=0,o="",s="";n<e.length;)switch(e[n][0]){case 1:r++,s+=e[n][1],n++;break;case-1:i++,o+=e[n][1],n++;break;case 0:1<i+r?(0!==i&&0!==r&&(t=this.diff_commonPrefix(s,o),0!==t&&(0<n-i-r&&0==e[n-i-r-1][0]?e[n-i-r-1][1]+=s.substring(0,t):(e.splice(0,0,[0,s.substring(0,t)]),n++),s=s.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(s,o))&&(e[n][1]=s.substring(s.length-t)+e[n][1],s=s.substring(0,s.length-t),o=o.substring(0,o.length-t))),0===i?e.splice(n-r,i+r,[1,s]):0===r?e.splice(n-i,i+r,[-1,o]):e.splice(n-i-r,i+r,[-1,o],[1,s]),n=n-i-r+(i?1:0)+(r?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,i=r=0,s=o=""}for(""===e[e.length-1][1]&&e.pop(),i=!1,n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),i=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),i=!0)),n++;i&&this.diff_cleanupMerge(e)},e.prototype.diff_xIndex=function(e,t){var n,i=0,r=0,o=0,s=0;for(n=0;n<e.length&&(1!==e[n][0]&&(i+=e[n][1].length),-1!==e[n][0]&&(r+=e[n][1].length),!(i>t));n++)o=i,s=r;return e.length!=n&&-1===e[n][0]?s:s+(t-o)},e.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,r=/>/g,o=/\n/g,s=0;s<e.length;s++){var a=e[s][0],l=e[s][1],l=l.replace(n,"&amp;").replace(i,"&lt;").replace(r,"&gt;").replace(o,"&para;<br>");switch(a){case 1:t[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:t[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[s]="<span>"+l+"</span>"}}return t.join("")},e.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},e.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},e.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,r=0;r<e.length;r++){var o=e[r][0],s=e[r][1];switch(o){case 1:n+=s.length;break;case-1:i+=s.length;break;case 0:t+=Math.max(n,i),i=n=0}}return t+=Math.max(n,i)},e.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case-1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(e,t){for(var n=[],i=0,r=0,o=t.split(/\t/g),s=0;s<o.length;s++){var a=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{n[i++]=[1,decodeURI(a)]}catch(e){throw Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var l=parseInt(a,10);if(isNaN(l)||0>l)throw Error("Invalid number in diff_fromDelta: "+a);a=e.substring(r,r+=l),"="==o[s].charAt(0)?n[i++]=[0,a]:n[i++]=[-1,a];break;default:if(o[s])throw Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(r!=e.length)throw Error("Delta length ("+r+") does not equal source text length ("+e.length+").");return n},e.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},e.prototype.match_bitap_=function(e,t,n){function i(e,i){var r=e/t.length,s=Math.abs(n-i);return o.Match_Distance?r+s/o.Match_Distance:s?1:r}if(t.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),o=this,s=this.Match_Threshold,a=e.indexOf(t,n);-1!=a&&(s=Math.min(i(0,a),s),-1!=(a=e.lastIndexOf(t,n+t.length))&&(s=Math.min(i(0,a),s)));for(var l,c,u,d=1<<t.length-1,a=-1,h=t.length+e.length,p=0;p<t.length;p++){for(l=0,c=h;l<c;)i(p,n+c)<=s?l=c:h=c,c=Math.floor((h-l)/2+l);h=c,l=Math.max(1,n-c+1);var f=Math.min(n+c,e.length)+t.length;for(c=Array(f+2),c[f+1]=(1<<p)-1;f>=l;f--){var g=r[e.charAt(f-1)];if(c[f]=0===p?(c[f+1]<<1|1)&g:(c[f+1]<<1|1)&g|(u[f+1]|u[f])<<1|1|u[f+1],c[f]&d&&(g=i(p,f-1))<=s){if(s=g,!((a=f-1)>n))break;l=Math.max(1,2*n-a)}}if(i(p+1,n)>s)break;u=c}return a},e.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},e.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin,(n=t.substring(e.start2-i,e.start2))&&e.diffs.unshift([0,n]),(i=t.substring(e.start2+e.length1,e.start2+e.length1+i))&&e.diffs.push([0,i]),e.start1-=n.length,e.start2-=n.length,e.length1+=n.length+i.length,e.length2+=n.length+i.length}},e.prototype.patch_make=function(t,n,i){var r;if("string"==typeof t&&"string"==typeof n&&void 0===i)r=t,n=this.diff_main(r,n,!0),2<n.length&&(this.diff_cleanupSemantic(n),this.diff_cleanupEfficiency(n));else if(t&&"object"==typeof t&&void 0===n&&void 0===i)n=t,r=this.diff_text1(n);else if("string"==typeof t&&n&&"object"==typeof n&&void 0===i)r=t;else{if("string"!=typeof t||"string"!=typeof n||!i||"object"!=typeof i)throw Error("Unknown call format to patch_make.");r=t,n=i}if(0===n.length)return[];i=[],t=new e.patch_obj;for(var o=0,s=0,a=0,l=r,c=0;c<n.length;c++){var u=n[c][0],d=n[c][1];switch(!o&&0!==u&&(t.start1=s,t.start2=a),u){case 1:t.diffs[o++]=n[c],t.length2+=d.length,r=r.substring(0,a)+d+r.substring(a);break;case-1:t.length1+=d.length,t.diffs[o++]=n[c],r=r.substring(0,a)+r.substring(a+d.length);break;case 0:d.length<=2*this.Patch_Margin&&o&&n.length!=c+1?(t.diffs[o++]=n[c],t.length1+=d.length,t.length2+=d.length):d.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(t,l),i.push(t),t=new e.patch_obj,o=0,l=r,s=a)}1!==u&&(s+=d.length),-1!==u&&(a+=d.length)}return o&&(this.patch_addContext_(t,l),i.push(t)),i},e.prototype.patch_deepCopy=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],o=new e.patch_obj;o.diffs=[];for(var s=0;s<r.diffs.length;s++)o.diffs[s]=r.diffs[s].slice();o.start1=r.start1,o.start2=r.start2,o.length1=r.length1,o.length2=r.length2,n[i]=o}return n},e.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,r=[],o=0;o<e.length;o++){var s,a=e[o].start2+i,l=this.diff_text1(e[o].diffs),c=-1;if(l.length>this.Match_MaxBits?-1!=(s=this.match_main(t,l.substring(0,this.Match_MaxBits),a))&&(-1==(c=this.match_main(t,l.substring(l.length-this.Match_MaxBits),a+l.length-this.Match_MaxBits))||s>=c)&&(s=-1):s=this.match_main(t,l,a),-1==s)r[o]=!1,i-=e[o].length2-e[o].length1;else if(r[o]=!0,i=s-a,a=-1==c?t.substring(s,s+l.length):t.substring(s,c+this.Match_MaxBits),l==a)t=t.substring(0,s)+this.diff_text2(e[o].diffs)+t.substring(s+l.length);else if(a=this.diff_main(l,a,!1),l.length>this.Match_MaxBits&&this.diff_levenshtein(a)/l.length>this.Patch_DeleteThreshold)r[o]=!1;else{this.diff_cleanupSemanticLossless(a);for(var u,l=0,c=0;c<e[o].diffs.length;c++){var d=e[o].diffs[c];0!==d[0]&&(u=this.diff_xIndex(a,l)),1===d[0]?t=t.substring(0,s+u)+d[1]+t.substring(s+u):-1===d[0]&&(t=t.substring(0,s+u)+t.substring(s+this.diff_xIndex(a,l+d[1].length))),-1!==d[0]&&(l+=d[1].length)}}}return t=t.substring(n.length,t.length-n.length),[t,r]},e.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",i=1;i<=t;i++)n+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var i=e[0],r=i.diffs;if(0==r.length||0!=r[0][0])r.unshift([0,n]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>r[0][1].length){var o=t-r[0][1].length;r[0][1]=n.substring(r[0][1].length)+r[0][1],i.start1-=o,i.start2-=o,i.length1+=o,i.length2+=o}return i=e[e.length-1],r=i.diffs,0==r.length||0!=r[r.length-1][0]?(r.push([0,n]),i.length1+=t,i.length2+=t):t>r[r.length-1][1].length&&(o=t-r[r.length-1][1].length,r[r.length-1][1]+=n.substring(0,o),i.length1+=o,i.length2+=o),n},e.prototype.patch_splitMax=function(t){for(var n=this.Match_MaxBits,i=0;i<t.length;i++)if(!(t[i].length1<=n)){var r=t[i];t.splice(i--,1);for(var o=r.start1,s=r.start2,a="";0!==r.diffs.length;){var l=new e.patch_obj,c=!0;for(l.start1=o-a.length,l.start2=s-a.length,""!==a&&(l.length1=l.length2=a.length,l.diffs.push([0,a]));0!==r.diffs.length&&l.length1<n-this.Patch_Margin;){var a=r.diffs[0][0],u=r.diffs[0][1];1===a?(l.length2+=u.length,s+=u.length,l.diffs.push(r.diffs.shift()),c=!1):-1===a&&1==l.diffs.length&&0==l.diffs[0][0]&&u.length>2*n?(l.length1+=u.length,o+=u.length,c=!1,l.diffs.push([a,u]),r.diffs.shift()):(u=u.substring(0,n-l.length1-this.Patch_Margin),l.length1+=u.length,o+=u.length,0===a?(l.length2+=u.length,s+=u.length):c=!1,l.diffs.push([a,u]),u==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(u.length))}a=this.diff_text2(l.diffs),a=a.substring(a.length-this.Patch_Margin),u=this.diff_text1(r.diffs).substring(0,this.Patch_Margin),""!==u&&(l.length1+=u.length,l.length2+=u.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=u:l.diffs.push([0,u])),c||t.splice(++i,0,l)}}},e.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},e.prototype.patch_fromText=function(t){var n=[];if(!t)return n;t=t.split("\n");for(var i=0,r=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<t.length;){var o=t[i].match(r);if(!o)throw Error("Invalid patch string: "+t[i]);var s=new e.patch_obj;for(n.push(s),s.start1=parseInt(o[1],10),""===o[2]?(s.start1--,s.length1=1):"0"==o[2]?s.length1=0:(s.start1--,s.length1=parseInt(o[2],10)),s.start2=parseInt(o[3],10),""===o[4]?(s.start2--,s.length2=1):"0"==o[4]?s.length2=0:(s.start2--,s.length2=parseInt(o[4],10)),i++;i<t.length;){o=t[i].charAt(0);try{var a=decodeURI(t[i].substring(1))}catch(e){throw Error("Illegal escape in patch_fromText: "+a)}if("-"==o)s.diffs.push([-1,a]);else if("+"==o)s.diffs.push([1,a]);else if(" "==o)s.diffs.push([0,a]);else{if("@"==o)break;if(""!==o)throw Error('Invalid patch mode "'+o+'" in: '+a)}i++}}return n},e.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},e.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,e=["@@ -"+e+" +"+t+" @@\n"];var n;for(t=0;t<this.diffs.length;t++){switch(this.diffs[t][0]){case 1:n="+";break;case-1:n="-";break;case 0:n=" "}e[t+1]=n+encodeURI(this.diffs[t][1])+"\n"}return e.join("").replace(/%20/g," ")},this.diff_match_patch=e,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0}(),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t(require()):e.AceDiff=t(e)}(this,function(){"use strict";function e(e){this.options={},t(!0,this.options,{mode:null,theme:null,diffGranularity:"broad",lockScrolling:!0,showDiffs:!0,showConnectors:!0,useWrapMode:!1,maxDiffs:5e3,left:{id:"acediff-left-editor",content:null,mode:null,theme:null,editable:!0,copyLinkEnabled:!0},right:{id:"acediff-right-editor",content:null,mode:null,theme:null,editable:!0,copyLinkEnabled:!0},classes:{gutterID:"acediff-gutter",diff:"acediff-diff",connector:"acediff-connector",newCodeConnectorLink:"acediff-new-code-connector-copy",newCodeConnectorLinkContent:"&#8594;",deletedCodeConnectorLink:"acediff-deleted-code-connector-copy",deletedCodeConnectorLinkContent:"&#8592;",copyRightContainer:"acediff-copy-right",copyLeftContainer:"acediff-copy-left"},connectorYOffset:0},e),this.editors={left:{ace:ace.edit(this.options.left.id),markers:[],lineLengths:[]},right:{ace:ace.edit(this.options.right.id),markers:[],lineLengths:[]},editorHeight:null},F=this.editors.left.ace,D=this.editors.right.ace,T=F.getSession(),B=D.getSession(),this.lineHeight=F.renderer.lineHeight?F.renderer.lineHeight:16,T.setMode(n(this,"left")),B.setMode(n(this,"right")),F.setReadOnly(!this.options.left.editable),D.setReadOnly(!this.options.right.editable),F.setTheme(i(this,"left")),D.setTheme(i(this,"right")),F.setShowFoldWidgets(this.options.showFoldWidgets),D.setShowFoldWidgets(this.options.showFoldWidgets),F.$blockScrolling=Infinity,D.$blockScrolling=Infinity,this.options.left.content&&F.setValue(this.options.left.content,-1),this.options.right.content&&D.setValue(this.options.right.content,-1),this.editors.editorHeight=r(this.options),o(this),s(this),a(this),this.diff()}function t(){var e,n,i,r,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1,d=Object.prototype.toString,h=Object.prototype.hasOwnProperty,p={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},f={isFunction:function(e){return"function"===f.type(e)},isArray:Array.isArray||function(e){return"array"===f.type(e)},isWindow:function(e){return null!==e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null===e?String(e):p[d.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==f.type(e)||e.nodeType)return!1;try{if(e.constructor&&!h.call(e,"constructor")&&!h.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return t===undefined||h.call(e,t)}};for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||f.isFunction(a)||(a={}),c===l&&(a=this,--l),l;l<c;l++)if(null!==(e=arguments[l]))for(n in e)i=a[n],r=e[n],a!==r&&(u&&r&&(f.isPlainObject(r)||(o=f.isArray(r)))?(o?(o=!1,s=i&&f.isArray(i)?i:[]):s=i&&f.isPlainObject(i)?i:{},a[n]=t(u,s,r)):r!==undefined&&(a[n]=r));return a}function n(e,t){var n=e.options.mode;return"left"===t&&null!==e.options.left.mode&&(n=e.options.left.mode),"right"===t&&null!==e.options.right.mode&&(n=e.options.right.mode),n}function i(e,t){var n=e.options.theme;return"left"===t&&null!==e.options.left.theme&&(n=e.options.left.theme),"right"===t&&null!==e.options.right.theme&&(n=e.options.right.theme),n}function r(e){var t=document.getElementById(e.left.id).scrollHeight,n=document.getElementById(e.right.id).scrollHeight;return n>t?n:t}function o(e){e.copyRightContainer=document.createElement("div"),e.copyRightContainer.setAttribute("class",e.options.classes.copyRightContainer),e.copyLeftContainer=document.createElement("div"),e.copyLeftContainer.setAttribute("class",e.options.classes.copyLeftContainer),document.getElementById(e.options.classes.gutterID).appendChild(e.copyRightContainer),document.getElementById(e.options.classes.gutterID).appendChild(e.copyLeftContainer)}function s(e){var t=u(e,T),n=u(e,B),i=Math.max(t,n,document.getElementById(e.options.classes.gutterID).clientHeight),r=Math.max(t,n,document.getElementById(e.options.classes.gutterID).clientWidth)
;e.gutterSVG=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.gutterSVG.setAttribute("height",i),e.gutterSVG.setAttribute("width",r),document.getElementById(e.options.classes.gutterID).appendChild(e.gutterSVG)}function a(e){$("#editor-left").on("mousewheel wheel scroll DOMMouseScroll MozMousePixelScroll",function(e){l(e)}),$("#editor-right").on("mousewheel wheel scroll DOMMouseScroll MozMousePixelScroll",function(e){l(e)});var t=c(function(){e.editors.editorHeight=r(e.options),e.diff()},250);window.addEventListener("resize",t)}function l(e){var t;if("onmousewheel"==e.type)t=8,e.wheelDeltaX!==undefined?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t);else if("onwheel"==e.type)switch(t=.35,e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}else if("wheel"==e.type)switch(t=.35,e.originalEvent.deltaMode){case e.originalEvent.DOM_DELTA_PIXEL:e.originalEvent.wheelX=e.originalEvent.deltaX*t||0,e.originalEvent.wheelY=e.originalEvent.deltaY*t||0;break;case e.originalEvent.DOM_DELTA_LINE:case e.originalEvent.DOM_DELTA_PAGE:e.originalEvent.wheelX=5*(e.originalEvent.deltaX||0),e.originalEvent.wheelY=5*(e.originalEvent.deltaY||0)}else e.originalEvent.axis&&e.originalEvent.axis==e.originalEvent.HORIZONTAL_AXIS?(e.originalEvent.wheelX=5*(e.originalEvent.detail||0),e.originalEvent.wheelY=0,e.wheelX=5*(e.originalEvent.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.originalEvent.detail||0),e.originalEvent.wheelX=0,e.originalEvent.wheelY=5*(e.originalEvent.detail||0))}function c(e,t,n){var i;return function(){var r=this,o=arguments,s=function(){i=null,n||e.apply(r,o)};clearTimeout(i),i=setTimeout(s,t),n&&!i&&e.apply(r,o)}}function u(e,t){return t.getLength()*e.lineHeight}function d(e){var t=[];return _.each(e,function(e){t.push(e.length+1)}),t}function h(e,t){for(var n=e.ace.getSession().doc.getAllLines(),i=0,r=0,o=0;o<n.length;o++)if(r+=n[o].length+1,t<=r){i=o;break}return i}function p(e,t){return f(e,t).length}function f(e,t){return e.ace.getSession().doc.getLine(t)}function g(e,t,n){for(var i=e.ace.getSession().doc.getAllLines(),r=0,o=!1,s=0;s<i.length;s++){r+=i[s].length+1;var a=r;if(n&&a--,t===a){o=!0;break}}return o}function m(e,t,n){var i={startLine:0,startChar:0,endLine:0,endChar:0},r=t+n.length,o=0,s=!1,a=!1;_.each(e.lineLengths,function(e,n){o+=e,!s&&t<o&&(i.startLine=n,i.startChar=t-o+e,s=!0),!a&&r<=o&&(i.endLine=n,i.endChar=r-o+e,a=!0)}),i.startChar>0&&p(e,i.startLine)===i.startChar&&(i.startLine++,i.startChar=0),0===i.endChar&&i.endLine--;var l=/\n$/.test(n);return i.startChar>0&&l&&i.endLine++,i}function v(e,t,n,i,r){var o,s,a,l,c,u,d,f,v={},y=/^\n/.test(r);if(1===t){o=m(e.editors.left,n,r),s=h(e.editors.right,i),a=p(e.editors.right,s),l=p(e.editors.left,o.startLine),u=p(e.editors.left,o.startLine);var b=s;0===u&&y&&(y=!1),0===o.startChar&&g(e.editors.right,i,y)&&(b=s+1),d=o.startLine===o.endLine,f=0,(o.startChar>0||d&&r.length<l)&&a>0&&o.startChar<l&&f++,v={leftStartLine:o.startLine,leftEndLine:o.endLine+1,rightStartLine:b,rightEndLine:b+f}}else{o=m(e.editors.right,i,r),s=h(e.editors.left,n),a=p(e.editors.left,s),c=p(e.editors.right,o.startLine),u=p(e.editors.right,o.startLine);var w=s;0===u&&y&&(y=!1),0===o.startChar&&g(e.editors.left,n,y)&&(w=s+1),d=o.startLine===o.endLine,f=0,(o.startChar>0||d&&r.length<c)&&a>0&&o.startChar<c&&f++,v={leftStartLine:w,leftEndLine:w+f,rightStartLine:o.startLine,rightEndLine:o.endLine+1}}return v}function y(e){b(e),w(e),C(e),_.each(e.diffs,function(e,t){if(this.options.showDiffs){var n;e.leftEndLine-e.leftStartLine==0&&e.rightEndLine-e.rightStartLine>0?n="added":e.leftEndLine-e.leftStartLine>0&&e.rightEndLine-e.rightStartLine==0?n="deleted":e.leftEndLine-e.leftStartLine>0&&e.rightEndLine-e.rightStartLine>0&&(n="changed"),A(this,"left",e.leftStartLine,e.leftEndLine,this.options.classes.diff,n),A(this,"right",e.rightStartLine,e.rightEndLine,this.options.classes.diff,n),this.options.showConnectors&&S(this,e.leftStartLine,e.leftEndLine,e.rightStartLine,e.rightEndLine,n),k(this,e,t)}},e)}function b(e){_.each(e.editors.left.markers,function(e){T.removeMarker(e)},e),_.each(e.editors.right.markers,function(e){B.removeMarker(e)},e)}function w(e){document.getElementById(e.options.classes.gutterID).removeChild(e.gutterSVG),s(e)}function C(e){e.copyLeftContainer.innerHTML="",e.copyRightContainer.innerHTML=""}function A(e,t,n,i,r,o){var t=e.editors[t];i<n&&(i=n);var s=r+" "+(i>n?"lines":"targetOnly");s=s+" "+o,i--,t.markers.push(t.ace.session.addMarker(new L(n,0,i,1),s,"fullLine"))}function S(e,t,n,i,r,o){var s=T.getScrollTop(),a=B.getScrollTop();e.connectorYOffset=1,e.gutterHeight=document.getElementById(e.options.classes.gutterID).clientHeight;var l=-1,c=t*e.lineHeight-s+.5,u=document.getElementById(e.options.classes.gutterID).clientWidth+1,d=i*e.lineHeight-a+.5,h=-1,p=n*e.lineHeight-s+e.connectorYOffset+.5,f=document.getElementById(e.options.classes.gutterID).clientWidth+1,g=r*e.lineHeight-a+e.connectorYOffset+.5,m=x(l,c,u,d),v=x(f,g,h,p),y="L"+u+","+d+" "+f+","+g,b="L"+h+","+p+" "+l+","+c,w=m+" "+y+" "+v+" "+b,_=document.createElementNS("http://www.w3.org/2000/svg","path");_.setAttribute("d",w),_.setAttribute("class",e.options.classes.connector+" "+o),e.gutterSVG.appendChild(_)}function x(e,t,n,i){var r=n-e,o=e+r/2;return"M "+e+" "+t+" C "+o+","+t+" "+o+","+i+" "+n+","+i}function k(e,t,n){var i;t.leftEndLine>t.leftStartLine&&e.options.left.copyLinkEnabled&&(i=E({className:e.options.classes.newCodeConnectorLink,topOffset:t.leftStartLine*e.lineHeight,tooltip:"",diffIndex:n,arrowContent:e.options.classes.newCodeConnectorLinkContent}),e.copyRightContainer.appendChild(i)),t.rightEndLine>t.rightStartLine&&e.options.right.copyLinkEnabled&&(i=E({className:e.options.classes.deletedCodeConnectorLink,topOffset:t.rightStartLine*e.lineHeight,tooltip:"",diffIndex:n,arrowContent:e.options.classes.deletedCodeConnectorLinkContent}),e.copyLeftContainer.appendChild(i))}function E(e){var t=document.createElement("div"),n={"class":e.className,style:"top:"+e.topOffset+"px","data-diff-index":e.diffIndex};for(var i in n)t.setAttribute(i,n[i]);return t.innerHTML=e.arrowContent,t}function P(e,t){function n(t){return"specific"===e.options.diffGranularity?t<1:t<=1}var i=[];_.each(t,function(e,t){if(0===t)return void i.push(e);for(var r=!1,o=0;o<i.length;o++)if(n(Math.abs(e.leftStartLine-i[o].leftEndLine))&&n(Math.abs(e.rightStartLine-i[o].rightEndLine))){i[o].leftStartLine=Math.min(e.leftStartLine,i[o].leftStartLine),i[o].rightStartLine=Math.min(e.rightStartLine,i[o].rightStartLine),i[o].leftEndLine=Math.max(e.leftEndLine,i[o].leftEndLine),i[o].rightEndLine=Math.max(e.rightEndLine,i[o].rightEndLine),r=!0;break}r||i.push(e)});var r=[];return _.each(i,function(e){e.leftStartLine===e.leftEndLine&&e.rightStartLine===e.rightEndLine||r.push(e)}),r}var F,D,T,B,L=ace.require("ace/range").Range;return e.prototype={setOptions:function(e){t(!0,this.options,e),this.diff()},getNumDiffs:function(){return this.diffs.length},getEditors:function(){return{left:this.editors.left.ace,right:this.editors.right.ace}},diff:function(){var e=new diff_match_patch,t=e.diff_main(this.editors.right.ace.getSession().getValue(),this.editors.left.ace.getSession().getValue());e.diff_cleanupSemantic(t),this.editors.left.lineLengths=d(this.editors.left.ace.getSession().doc.getAllLines()),this.editors.right.lineLengths=d(this.editors.right.ace.getSession().doc.getAllLines());var n=[],i={left:0,right:0};_.each(t,function(e){var t=e[0],r=e[1];0!==r.length&&(0===t?(i.left+=r.length,i.right+=r.length):-1===t?(n.push(v(this,-1,i.left,i.right,r)),i.right+=r.length):1===t&&(n.push(v(this,1,i.left,i.right,r)),i.left+=r.length))},this),this.diffs=P(this,n),this.diffs.length>this.options.maxDiffs||(b(this),y(this))},destroy:function(){var e,t;F.destroy(),e=F.container,t=e.cloneNode(!1),t.textContent=F.getValue(),e.parentNode.replaceChild(t,e),D.destroy(),e=D.container,t=e.cloneNode(!1),t.textContent=D.getValue(),e.parentNode.replaceChild(t,e),document.getElementById(this.options.classes.gutterID).innerHTML=""}},e});for(var isHotjarStarted=!1,hotjarredRoutes=["/apps/add","/workflow/code_signing_wizard"],i=hotjarredRoutes.length-1;i>=0;i--)-1!=window.location.href.indexOf(hotjarredRoutes[i])&&startHotjar();Bitrise.directive("newUserHandling",function(){return{restrict:"E",link:function(){startHotjar()}}}),function(e,t){"use strict";var n,i,r,o=e,s=o.document,a=o.navigator,l=o.setTimeout,c=o.clearTimeout,u=o.setInterval,d=o.clearInterval,h=o.getComputedStyle,p=o.encodeURIComponent,f=o.ActiveXObject,g=o.Error,m=o.Number.parseInt||o.parseInt,v=o.Number.parseFloat||o.parseFloat,y=o.Number.isNaN||o.isNaN,b=o.Date.now,w=o.Object.keys,_=o.Object.defineProperty,C=o.Object.prototype.hasOwnProperty,A=o.Array.prototype.slice,S=function(){var e=function(e){return e};if("function"==typeof o.wrap&&"function"==typeof o.unwrap)try{var t=s.createElement("div"),n=o.unwrap(t);1===t.nodeType&&n&&1===n.nodeType&&(e=o.unwrap)}catch(e){}return e}(),$=function(e){return A.call(e,0)},x=function(){var e,n,i,r,o,s=$(arguments),a=s[0]||{};for(e=1,n=s.length;e<n;e++)if(null!=(i=s[e]))for(r in i)C.call(i,r)&&(a[r],o=i[r],a!==o&&o!==t&&(a[r]=o));return a},k=function(e){var t,n,i,r;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if("number"==typeof e.length)for(t=[],n=0,i=e.length;n<i;n++)C.call(e,n)&&(t[n]=k(e[n]));else{t={};for(r in e)C.call(e,r)&&(t[r]=k(e[r]))}return t},E=function(e,t){for(var n={},i=0,r=t.length;i<r;i++)t[i]in e&&(n[t[i]]=e[t[i]]);return n},P=function(e,t){var n={};for(var i in e)-1===t.indexOf(i)&&(n[i]=e[i]);return n},F=function(e){if(e)for(var t in e)C.call(e,t)&&delete e[t];return e},D=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},T=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},B=function(e){var t,n;return"string"==typeof e&&e&&(n=e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?t=n[1]:(n=e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&n[1]&&(t=n[1])),t},L=function(){var e,t;try{throw new g}catch(e){t=e}return t&&(e=t.sourceURL||t.fileName||B(t.stack)),e},M=function(){var e,n,i;if(s.currentScript&&(e=s.currentScript.src))return e;if(n=s.getElementsByTagName("script"),1===n.length)return n[0].src||t;if("readyState"in n[0])for(i=n.length;i--;)if("interactive"===n[i].readyState&&(e=n[i].src))return e;return"loading"===s.readyState&&(e=n[n.length-1].src)?e:(e=L())?e:t},R=function(){var e,n,i,r=s.getElementsByTagName("script");for(e=r.length;e--;){if(!(i=r[e].src)){n=null;break}if(i=T(i),null==n)n=i;else if(n!==i){n=null;break}}return n||t},I=function(){return(T(M())||R()||"")+"ZeroClipboard.swf"},O=function(){return null==e.opener&&(!!e.top&&e!=e.top||!!e.parent&&e!=e.parent)}(),N={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},z="11.0.0",U={},W={},j=null,H=0,V=0,q={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},K=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],G=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],Y=new RegExp("^flash-("+G.map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),X=new RegExp("^flash-("+G.slice(1).map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),J={swfPath:I(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},Q=function(e){if("object"==typeof e&&null!==e)for(var t in e)if(C.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))J[t]=e[t];else if(null==N.bridge)if("containerId"===t||"swfObjectId"===t){if(!pe(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");J[t]=e[t]}else J[t]=e[t];{if("string"!=typeof e||!e)return k(J);if(C.call(J,e))return J[e]}},Z=function(){return Ve(),{browser:E(a,["userAgent","platform","appName"]),flash:P(N,["bridge"]),zeroclipboard:{version:Ke.version,config:Ke.config()}}},ee=function(){return!!(N.disabled||N.outdated||N.sandboxed||N.unavailable||N.degraded||N.deactivated)},te=function(e,i){var r,o,s,a={};if("string"==typeof e&&e)s=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&void 0===i)for(r in e)C.call(e,r)&&"string"==typeof r&&r&&"function"==typeof e[r]&&Ke.on(r,e[r]);if(s&&s.length){for(r=0,o=s.length;r<o;r++)e=s[r].replace(/^on/,""),a[e]=!0,U[e]||(U[e]=[]),U[e].push(i);if(a.ready&&N.ready&&Ke.emit({type:"ready"}),a.error){for(r=0,o=G.length;r<o;r++)if(!0===N[G[r].replace(/^flash-/,"")]){Ke.emit({type:"error",name:G[r]});break}n!==t&&Ke.version!==n&&Ke.emit({type:"error",name:"version-mismatch",jsVersion:Ke.version,swfVersion:n})}}return Ke},ne=function(e,t){var n,i,r,o,s;if(0===arguments.length)o=w(U);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)C.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Ke.off(n,e[n]);if(o&&o.length)for(n=0,i=o.length;n<i;n++)if(e=o[n].toLowerCase().replace(/^on/,""),(s=U[e])&&s.length)if(t)for(r=s.indexOf(t);-1!==r;)s.splice(r,1),r=s.indexOf(t,r);else s.length=0;return Ke},ie=function(e){return"string"==typeof e&&e?k(U[e])||null:k(U)},re=function(e){var t,n,i;if((e=fe(e))&&!_e(e))return"ready"===e.type&&!0===N.overdue?Ke.emit({type:"error",name:"flash-overdue"}):(t=x({},e),be.call(this,t),"copy"===e.type&&(i=Pe(W),n=i.data,j=i.formatMap),n)},oe=function(){var e=N.sandboxed;if(Ve(),"boolean"!=typeof N.ready&&(N.ready=!1),N.sandboxed!==e&&!0===N.sandboxed)N.ready=!1,Ke.emit({type:"error",name:"flash-sandboxed"});else if(!Ke.isFlashUnusable()&&null===N.bridge){var t=J.flashLoadTimeout;"number"==typeof t&&t>=0&&(H=l(function(){"boolean"!=typeof N.deactivated&&(N.deactivated=!0),!0===N.deactivated&&Ke.emit({type:"error",name:"flash-deactivated"})},t)),N.overdue=!1,ke()}},se=function(){Ke.clearData(),Ke.blur(),Ke.emit("destroy"),Ee(),Ke.off()},ae=function(e,t){var n;if("object"==typeof e&&e&&void 0===t)n=e,Ke.clearData();else{if("string"!=typeof e||!e)return;n={},n[e]=t}for(var i in n)"string"==typeof i&&i&&C.call(n,i)&&"string"==typeof n[i]&&n[i]&&(W[i]=n[i])},le=function(e){void 0===e?(F(W),j=null):"string"==typeof e&&C.call(W,e)&&delete W[e]},ce=function(e){return void 0===e?k(W):"string"==typeof e&&C.call(W,e)?W[e]:void 0},ue=function(e){if(e&&1===e.nodeType){i&&(Ie(i,J.activeClass),i!==e&&Ie(i,J.hoverClass)),i=e,Re(e,J.hoverClass);var t=e.getAttribute("title")||J.title;if("string"==typeof t&&t){var n=xe(N.bridge);n&&n.setAttribute("title",t)}var r=!0===J.forceHandCursor||"pointer"===Oe(e,"cursor");je(r),We()}},de=function(){var e=xe(N.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px"),i&&(Ie(i,J.hoverClass),Ie(i,J.activeClass),i=null)},he=function(){return i||null},pe=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},fe=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){t=t.toLowerCase(),!e.target&&(/^(copy|aftercopy|_click)$/.test(t)||"error"===t&&"clipboard-error"===e.name)&&(e.target=r),x(e,{type:t,target:e.target||i||null,relatedTarget:e.relatedTarget||null,currentTarget:N&&N.bridge||null,timeStamp:e.timeStamp||b()||null});var n=q[e.type];return"error"===e.type&&e.name&&n&&(n=n[e.name]),n&&(e.message=n),"ready"===e.type&&x(e,{target:null,version:N.version}),"error"===e.type&&(Y.test(e.name)&&x(e,{target:null,minimumVersion:z}),X.test(e.name)&&x(e,{version:N.version})),"copy"===e.type&&(e.clipboardData={setData:Ke.setData,clearData:Ke.clearData}),"aftercopy"===e.type&&(e=Fe(e,j)),e.target&&!e.relatedTarget&&(e.relatedTarget=ge(e.target)),me(e)}},ge=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?s.getElementById(t):null},me=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var n=e.target,i="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:t,r="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:t,a=Ne(n),l=o.screenLeft||o.screenX||0,c=o.screenTop||o.screenY||0,u=s.body.scrollLeft+s.documentElement.scrollLeft,d=s.body.scrollTop+s.documentElement.scrollTop,h=a.left+("number"==typeof e._stageX?e._stageX:0),p=a.top+("number"==typeof e._stageY?e._stageY:0),f=h-u,g=p-d,m=l+f,v=c+g,y="number"==typeof e.movementX?e.movementX:0,b="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,x(e,{srcElement:n,fromElement:i,toElement:r,screenX:m,screenY:v,pageX:h,pageY:p,clientX:f,clientY:g,x:f,y:g,movementX:y,movementY:b,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},ve=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},ye=function(e,t,n,i){i?l(function(){e.apply(t,n)},0):e.apply(t,n)},be=function(e){if("object"==typeof e&&e&&e.type){var t=ve(e),n=U["*"]||[],i=U[e.type]||[],r=n.concat(i);if(r&&r.length){var s,a,l,c,u,d=this;for(s=0,a=r.length;s<a;s++)l=r[s],c=d,"string"==typeof l&&"function"==typeof o[l]&&(l=o[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(c=l,l=l.handleEvent),"function"==typeof l&&(u=x({},e),ye(l,c,[u],t))}return this}},we=function(e){var t=null;return(!1===O||e&&"error"===e.type&&e.name&&-1!==K.indexOf(e.name))&&(t=!1),t},_e=function(e){var t=e.target||i||null,o="swf"===e._source;switch(delete e._source,e.type){case"error":var s="flash-sandboxed"===e.name||we(e);"boolean"==typeof s&&(N.sandboxed=s),-1!==G.indexOf(e.name)?x(N,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,degraded:"flash-degraded"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1}):"version-mismatch"===e.name&&(n=e.swfVersion,x(N,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Ue();break;case"ready":n=e.swfVersion;var a=!0===N.deactivated;x(N,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:a,ready:!a}),Ue();break;case"beforecopy":r=t;break;case"copy":var l,c,u=e.relatedTarget;!W["text/html"]&&!W["text/plain"]&&u&&(c=u.value||u.outerHTML||u.innerHTML)&&(l=u.value||u.textContent||u.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",l),c!==l&&e.clipboardData.setData("text/html",c)):!W["text/plain"]&&e.target&&(l=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",l));break;case"aftercopy":Ce(e),Ke.clearData(),t&&t!==Me()&&t.focus&&t.focus();break;case"_mouseover":Ke.focus(t),!0===J.bubbleEvents&&o&&(t&&t!==e.relatedTarget&&!D(e.relatedTarget,t)&&Ae(x({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),Ae(x({},e,{type:"mouseover"})));break;case"_mouseout":Ke.blur(),!0===J.bubbleEvents&&o&&(t&&t!==e.relatedTarget&&!D(e.relatedTarget,t)&&Ae(x({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),Ae(x({},e,{type:"mouseout"})));break;case"_mousedown":Re(t,J.activeClass),!0===J.bubbleEvents&&o&&Ae(x({},e,{type:e.type.slice(1)}));break;case"_mouseup":Ie(t,J.activeClass),!0===J.bubbleEvents&&o&&Ae(x({},e,{type:e.type.slice(1)}));break;case"_click":r=null,!0===J.bubbleEvents&&o&&Ae(x({},e,{type:e.type.slice(1)}));break;case"_mousemove":!0===J.bubbleEvents&&o&&Ae(x({},e,{type:e.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type))return!0},Ce=function(e){if(e.errors&&e.errors.length>0){var t=k(e);x(t,{type:"error",name:"clipboard-error"}),delete t.success,l(function(){Ke.emit(t)},0)}},Ae=function(e){if(e&&"string"==typeof e.type&&e){var t,n=e.target||null,i=n&&n.ownerDocument||s,r={view:i.defaultView||o,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:i.createEvent?0:1},a=x(r,e);n&&i.createEvent&&n.dispatchEvent&&(a=[a.type,a.canBubble,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget],t=i.createEvent("MouseEvents"),t.initMouseEvent&&(t.initMouseEvent.apply(t,a),t._source="js",n.dispatchEvent(t)))}},Se=function(){var e=J.flashLoadTimeout;if("number"==typeof e&&e>=0){var t=Math.min(1e3,e/10),n=J.swfObjectId+"_fallbackContent";V=u(function(){var e=s.getElementById(n);ze(e)&&(Ue(),N.deactivated=null,Ke.emit({type:"error",name:"swf-not-found"}))},t)}},$e=function(){var e=s.createElement("div");return e.id=J.containerId,e.className=J.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+He(J.zIndex),e},xe=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},ke=function(){var e,t=N.bridge,n=xe(t);if(!t){var i=Le(o.location.host,J),r="never"===i?"none":"all",a=Te(x({jsVersion:Ke.version},J)),l=J.swfPath+De(J.swfPath,J);n=$e();var c=s.createElement("div");n.appendChild(c),s.body.appendChild(n);var u=s.createElement("div"),d="activex"===N.pluginType;u.innerHTML='<object id="'+J.swfObjectId+'" name="'+J.swfObjectId+'" width="100%" height="100%" '+(d?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+l+'"')+">"+(d?'<param name="movie" value="'+l+'"/>':"")+'<param name="allowScriptAccess" value="'+i+'"/><param name="allowNetworking" value="'+r+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+a+'"/><div id="'+J.swfObjectId+'_fallbackContent">&nbsp;</div></object>',t=u.firstChild,u=null,S(t).ZeroClipboard=Ke,n.replaceChild(t,c),Se()}return t||(t=s[J.swfObjectId],t&&(e=t.length)&&(t=t[e-1]),!t&&n&&(t=n.firstChild)),N.bridge=t||null,t},Ee=function(){var e=N.bridge;if(e){var i=xe(e);i&&("activex"===N.pluginType&&"readyState"in e?(e.style.display="none",function t(){if(4===e.readyState){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i)}else l(t,10)}()):(e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i))),Ue(),N.ready=null,N.bridge=null,N.deactivated=null,n=t}},Pe=function(e){var t={},n={};if("object"==typeof e&&e){for(var i in e)if(i&&C.call(e,i)&&"string"==typeof e[i]&&e[i])switch(i.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[i],n.text=i;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[i],n.html=i;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[i],n.rtf=i}return{data:t,formatMap:n}}},Fe=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var i in e)if(C.call(e,i))if("errors"===i){n[i]=e[i]?e[i].slice():[];for(var r=0,o=n[i].length;r<o;r++)n[i][r].format=t[n[i][r].format]}else if("success"!==i&&"data"!==i)n[i]=e[i];else{n[i]={};var s=e[i];for(var a in s)a&&C.call(s,a)&&C.call(t,a)&&(n[i][t[a]]=s[a])}return n},De=function(e,t){return null==t||t&&!0===t.cacheBust?(-1===e.indexOf("?")?"?":"&")+"noCache="+b():""},Te=function(e){var t,n,i,r,s="",a=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?r=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(r=e.trustedDomains)),r&&r.length)for(t=0,n=r.length;t<n;t++)if(C.call(r,t)&&r[t]&&"string"==typeof r[t]){if(!(i=Be(r[t])))continue;if("*"===i){a.length=0,a.push(i);break}a.push.apply(a,[i,"//"+i,o.location.protocol+"//"+i])}return a.length&&(s+="trustedOrigins="+p(a.join(","))),!0===e.forceEnhancedClipboard&&(s+=(s?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(s+=(s?"&":"")+"swfObjectId="+p(e.swfObjectId)),"string"==typeof e.jsVersion&&e.jsVersion&&(s+=(s?"&":"")+"jsVersion="+p(e.jsVersion)),s},Be=function(e){if(null==e||""===e)return null;if(""===(e=e.replace(/^\s+|\s+$/g,"")))return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},Le=function(){var e=function(e){var t,n,i,r=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return r;for(t=0,n=e.length;t<n;t++)if(C.call(e,t)&&(i=Be(e[t]))){if("*"===i){r.length=0,r.push("*");break}-1===r.indexOf(i)&&r.push(i)}return r};return function(t,n){var i=Be(n.swfPath);null===i&&(i=t);var r=e(n.trustedDomains),o=r.length;if(o>0){if(1===o&&"*"===r[0])return"always";if(-1!==r.indexOf(t))return 1===o&&t===i?"sameDomain":"always"}return"never"}}(),Me=function(){try{return s.activeElement}catch(e){return null}},Re=function(e,t){var n,i,r,o=[];if("string"==typeof t&&t&&(o=t.split(/\s+/)),e&&1===e.nodeType&&o.length>0)if(e.classList)for(n=0,i=o.length;n<i;n++)e.classList.add(o[n]);else if(e.hasOwnProperty("className")){for(r=" "+e.className+" ",n=0,i=o.length;n<i;n++)-1===r.indexOf(" "+o[n]+" ")&&(r+=o[n]+" ");e.className=r.replace(/^\s+|\s+$/g,"")}return e},Ie=function(e,t){var n,i,r,o=[];if("string"==typeof t&&t&&(o=t.split(/\s+/)),e&&1===e.nodeType&&o.length>0)if(e.classList&&e.classList.length>0)for(n=0,i=o.length;n<i;n++)e.classList.remove(o[n]);else if(e.className){for(r=(" "+e.className+" ").replace(/[\r\n\t]/g," "),n=0,i=o.length;n<i;n++)r=r.replace(" "+o[n]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}return e},Oe=function(e,t){var n=h(e,null).getPropertyValue(t);return"cursor"!==t||n&&"auto"!==n||"A"!==e.nodeName?n:"pointer"},Ne=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),i=o.pageXOffset,r=o.pageYOffset,a=s.documentElement.clientLeft||0,l=s.documentElement.clientTop||0,c=0,u=0;if("relative"===Oe(s.body,"position")){var d=s.body.getBoundingClientRect(),h=s.documentElement.getBoundingClientRect();c=d.left-h.left||0,u=d.top-h.top||0}t.left=n.left+i-a-c,t.top=n.top+r-l-u,t.width="width"in n?n.width:n.right-n.left,t.height="height"in n?n.height:n.bottom-n.top}return t},ze=function(e){if(!e)return!1;var t=h(e,null),n=v(t.height)>0,i=v(t.width)>0,r=v(t.top)>=0,o=v(t.left)>=0,s=n&&i&&r&&o,a=s?null:Ne(e);return"none"!==t.display&&"collapse"!==t.visibility&&(s||!!a&&(n||a.height>0)&&(i||a.width>0)&&(r||a.top>=0)&&(o||a.left>=0))},Ue=function(){c(H),H=0,d(V),V=0},We=function(){var e;if(i&&(e=xe(N.bridge))){var t=Ne(i);x(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+He(J.zIndex)})}},je=function(e){!0===N.ready&&(N.bridge&&"function"==typeof N.bridge.setHandCursor?N.bridge.setHandCursor(e):N.ready=!1)},He=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||y(e)?"string"==typeof e&&(t=He(m(e,10))):t=e,"number"==typeof t?t:"auto"},Ve=function(t){var n,i,r,o=N.sandboxed,s=null;if(t=!0===t,!1===O)s=!1;else{try{i=e.frameElement||null}catch(e){r={name:e.name,message:e.message}}if(i&&1===i.nodeType&&"IFRAME"===i.nodeName)try{s=i.hasAttribute("sandbox")}catch(e){s=null}else{try{n=document.domain||null}catch(e){n=null}(null===n||r&&"SecurityError"===r.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(r.message.toLowerCase()))&&(s=!0)}}return N.sandboxed=s,o===s||t||qe(f),s},qe=function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function n(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function i(e){e&&(l=!0,e.version&&(d=t(e.version)),!d&&e.description&&(d=t(e.description)),e.filename&&(u=n(e.filename)))}var r,o,s,l=!1,c=!1,u=!1,d="";if(a.plugins&&a.plugins.length)r=a.plugins["Shockwave Flash"],i(r),a.plugins["Shockwave Flash 2.0"]&&(l=!0,d="2.0.0.11");else if(a.mimeTypes&&a.mimeTypes.length)s=a.mimeTypes["application/x-shockwave-flash"],r=s&&s.enabledPlugin,i(r);else if(void 0!==e){c=!0;try{o=new e("ShockwaveFlash.ShockwaveFlash.7"),l=!0,d=t(o.GetVariable("$version"))}catch(n){try{o=new e("ShockwaveFlash.ShockwaveFlash.6"),l=!0,d="6.0.21"}catch(n){try{o=new e("ShockwaveFlash.ShockwaveFlash"),l=!0,d=t(o.GetVariable("$version"))}catch(e){c=!1}}}}N.disabled=!0!==l,N.outdated=d&&v(d)<v(z),N.version=d||"0.0.0",N.pluginType=u?"pepper":c?"activex":l?"netscape":"unknown"};qe(f),Ve(!0);var Ke=function(){if(!(this instanceof Ke))return new Ke;"function"==typeof Ke._createClient&&Ke._createClient.apply(this,$(arguments))};_(Ke,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Ke.config=function(){return Q.apply(this,$(arguments))},Ke.state=function(){return Z.apply(this,$(arguments))},Ke.isFlashUnusable=function(){return ee.apply(this,$(arguments))},Ke.on=function(){return te.apply(this,$(arguments))},Ke.off=function(){return ne.apply(this,$(arguments))},Ke.handlers=function(){return ie.apply(this,$(arguments))},Ke.emit=function(){return re.apply(this,$(arguments))},Ke.create=function(){return oe.apply(this,$(arguments))},Ke.destroy=function(){return se.apply(this,$(arguments))},Ke.setData=function(){return ae.apply(this,$(arguments))},Ke.clearData=function(){return le.apply(this,$(arguments))},Ke.getData=function(){return ce.apply(this,$(arguments))},Ke.focus=Ke.activate=function(){return ue.apply(this,$(arguments))},Ke.blur=Ke.deactivate=function(){return de.apply(this,$(arguments))},Ke.activeElement=function(){return he.apply(this,$(arguments))};var Ge=0,Ye={},Xe=0,Je={},Qe={};x(J,{autoActivate:!0});var Ze=function(e){var t=this;t.id=""+Ge++,Ye[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),Ke.on("*",function(e){return t.emit(e)}),Ke.on("destroy",function(){t.destroy()}),Ke.create()},et=function(e,i){var r,o,s,a={},l=Ye[this.id],c=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof e&&e)s=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&void 0===i)for(r in e)C.call(e,r)&&"string"==typeof r&&r&&"function"==typeof e[r]&&this.on(r,e[r]);if(s&&s.length){for(r=0,o=s.length;r<o;r++)e=s[r].replace(/^on/,""),a[e]=!0,c[e]||(c[e]=[]),c[e].push(i);if(a.ready&&N.ready&&this.emit({type:"ready",client:this}),a.error){for(r=0,o=G.length;r<o;r++)if(N[G[r].replace(/^flash-/,"")]){this.emit({type:"error",name:G[r],client:this});break}n!==t&&Ke.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Ke.version,swfVersion:n})}}return this},tt=function(e,t){var n,i,r,o,s,a=Ye[this.id],l=a&&a.handlers;if(!l)return this
;if(0===arguments.length)o=w(l);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)C.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(o&&o.length)for(n=0,i=o.length;n<i;n++)if(e=o[n].toLowerCase().replace(/^on/,""),(s=l[e])&&s.length)if(t)for(r=s.indexOf(t);-1!==r;)s.splice(r,1),r=s.indexOf(t,r);else s.length=0;return this},nt=function(e){var t=null,n=Ye[this.id]&&Ye[this.id].handlers;return n&&(t="string"==typeof e&&e?n[e]?n[e].slice(0):[]:k(n)),t},it=function(e){if(lt.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=x({},e));var t=x({},fe(e),{client:this});ct.call(this,t)}return this},rt=function(e){if(!Ye[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");e=ut(e);for(var t=0;t<e.length;t++)if(C.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===Je[e[t].zcClippingId].indexOf(this.id)&&Je[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Xe++,Je[e[t].zcClippingId]=[this.id],!0===J.autoActivate&&dt(e[t]));var n=Ye[this.id]&&Ye[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},ot=function(e){var t=Ye[this.id];if(!t)return this;var n,i=t.elements;e=void 0===e?i.slice(0):ut(e);for(var r=e.length;r--;)if(C.call(e,r)&&e[r]&&1===e[r].nodeType){for(n=0;-1!==(n=i.indexOf(e[r],n));)i.splice(n,1);var o=Je[e[r].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(!0===J.autoActivate&&ht(e[r]),delete e[r].zcClippingId)}}return this},st=function(){var e=Ye[this.id];return e&&e.elements?e.elements.slice(0):[]},at=function(){Ye[this.id]&&(this.unclip(),this.off(),delete Ye[this.id])},lt=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=Ye[this.id],n=t&&t.elements,i=!!n&&n.length>0,r=!e.target||i&&-1!==n.indexOf(e.target),o=e.relatedTarget&&i&&-1!==n.indexOf(e.relatedTarget),s=e.client&&e.client===this;return!(!t||!(r||o||s))},ct=function(e){var t=Ye[this.id];if("object"==typeof e&&e&&e.type&&t){var n=ve(e),i=t&&t.handlers["*"]||[],r=t&&t.handlers[e.type]||[],s=i.concat(r);if(s&&s.length){var a,l,c,u,d,h=this;for(a=0,l=s.length;a<l;a++)c=s[a],u=h,"string"==typeof c&&"function"==typeof o[c]&&(c=o[c]),"object"==typeof c&&c&&"function"==typeof c.handleEvent&&(u=c,c=c.handleEvent),"function"==typeof c&&(d=x({},e),ye(c,u,[d],n))}}},ut=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},dt=function(e){if(e&&1===e.nodeType){var t=function(e){(e||(e=o.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},n=function(n){(n||(n=o.event))&&(t(n),Ke.focus(e))};e.addEventListener("mouseover",n,!1),e.addEventListener("mouseout",t,!1),e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",t,!1),e.addEventListener("mousemove",t,!1),Qe[e.zcClippingId]={mouseover:n,mouseout:t,mouseenter:t,mouseleave:t,mousemove:t}}},ht=function(e){if(e&&1===e.nodeType){var t=Qe[e.zcClippingId];if("object"==typeof t&&t){for(var n,i,r=["move","leave","enter","out","over"],o=0,s=r.length;o<s;o++)n="mouse"+r[o],"function"==typeof(i=t[n])&&e.removeEventListener(n,i,!1);delete Qe[e.zcClippingId]}}};Ke._createClient=function(){Ze.apply(this,$(arguments))},Ke.prototype.on=function(){return et.apply(this,$(arguments))},Ke.prototype.off=function(){return tt.apply(this,$(arguments))},Ke.prototype.handlers=function(){return nt.apply(this,$(arguments))},Ke.prototype.emit=function(){return it.apply(this,$(arguments))},Ke.prototype.clip=function(){return rt.apply(this,$(arguments))},Ke.prototype.unclip=function(){return ot.apply(this,$(arguments))},Ke.prototype.elements=function(){return st.apply(this,$(arguments))},Ke.prototype.destroy=function(){return at.apply(this,$(arguments))},Ke.prototype.setText=function(e){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData("text/plain",e),this},Ke.prototype.setHtml=function(e){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData("text/html",e),this},Ke.prototype.setRichText=function(e){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData("application/rtf",e),this},Ke.prototype.setData=function(){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData.apply(this,$(arguments)),this},Ke.prototype.clearData=function(){if(!Ye[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.clearData.apply(this,$(arguments)),this},Ke.prototype.getData=function(){if(!Ye[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.getData.apply(this,$(arguments))},"function"==typeof define&&define.amd?define(function(){return Ke}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Ke:e.ZeroClipboard=Ke}(function(){return this||window}()),ZeroClipboard.config({cacheBust:!1,swfPath:"//d3chom3u32d3mw.cloudfront.net/assets/ZeroClipboard-ecdb0f1e932bbecf50218ffee9f7a958115ba8f882d4afbe0444bb0aecdb04f0.swf"}),$(document).ready(function(){new ZeroClipboard($("#copy-to-clipboard"))}),function(){var e=window.analytics=window.analytics||[];if(!e.initialize){if(e.invoked)return void(window.console&&console.error&&console.error("Segment snippet included twice."));e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],e.factory=function(t){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(t),e.push(n),e}};for(var t=0;t<e.methods.length;t++){var n=e.methods[t];e[n]=e.factory(n)}e.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},e.SNIPPET_VERSION="4.0.0",e.load("55iZpqNHYN37mfsfk9SOfKBv9GpGBBTv"),e.page(),$(document).ready(function(){var t=$("analytics-script-helper").attr("current-user-id");!!t&&e.identify(t)})}}();